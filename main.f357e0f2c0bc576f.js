"use strict";(self.webpackChunkMasniOfficeAgenda=self.webpackChunkMasniOfficeAgenda||[]).push([[792],{17:()=>{function Fc(t,e){return Object.is(t,e)}let yt=null,va=!1,Ia=1;const vr=Symbol("SIGNAL");function _e(t){const e=yt;return yt=t,e}const ff={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dy(t){if(va)throw new Error("");if(null===yt)return;yt.consumerOnSignalRead(t);const e=yt.nextProducerIndex++;mf(yt),e<yt.producerNode.length&&yt.producerNode[e]!==t&&Vc(yt)&&gf(yt.producerNode[e],yt.producerIndexOfThis[e]),yt.producerNode[e]!==t&&(yt.producerNode[e]=t,yt.producerIndexOfThis[e]=Vc(yt)?iR(t,yt,e):0),yt.producerLastReadVersion[e]=t.version}function eR(t){if((!Vc(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ia)){if(!t.producerMustRecompute(t)&&!fy(t))return t.dirty=!1,void(t.lastCleanEpoch=Ia);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ia}}function tR(t){if(void 0===t.liveConsumerNode)return;const e=va;va=!0;try{for(const n of t.liveConsumerNode)n.dirty||rR(n)}finally{va=e}}function nR(){return!1!==yt?.consumerAllowSignalWrites}function rR(t){t.dirty=!0,tR(t),t.consumerMarkedDirty?.(t)}function pf(t){return t&&(t.nextProducerIndex=0),_e(t)}function hy(t,e){if(_e(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Vc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fy(t){mf(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(eR(n),r!==n.version))return!0}return!1}function py(t){if(mf(t),Vc(t))for(let e=0;e<t.producerNode.length;e++)gf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function iR(t,e,n){if(oR(t),0===t.liveConsumerNode.length&&sR(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=iR(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function gf(t,e){if(oR(t),1===t.liveConsumerNode.length&&sR(t))for(let r=0;r<t.producerNode.length;r++)gf(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];mf(i),i.producerIndexOfThis[r]=e}}function Vc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function mf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function oR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function sR(t){return void 0!==t.producerNode}const gy=Symbol("UNSET"),my=Symbol("COMPUTING"),_f=Symbol("ERRORED"),u4={...ff,value:gy,dirty:!0,error:null,equal:Fc,producerMustRecompute:t=>t.value===gy||t.value===my,producerRecomputeValue(t){if(t.value===my)throw new Error("Detected cycle in computations.");const e=t.value;t.value=my;const n=pf(t);let r;try{r=t.computation()}catch(i){r=_f,t.error=i}finally{hy(t,n)}e!==gy&&e!==_f&&r!==_f&&t.equal(e,r)?t.value=e:(t.value=r,t.version++)}};let aR=function c4(){throw new Error};function uR(){aR()}let yf=null;function cR(t,e){nR()||uR(),t.equal(t.value,e)||(t.value=e,function p4(t){t.version++,function s4(){Ia++}(),tR(t),yf?.()}(t))}const f4={...ff,equal:Fc,value:void 0};function Ze(t){return"function"==typeof t}function _y(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const yy=_y(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function vy(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Cn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ze(r))try{r()}catch(o){e=o instanceof yy?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{fR(o)}catch(s){e=e??[],s instanceof yy?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yy(e)}}add(e){var n;if(e&&e!==this)if(this.closed)fR(e);else{if(e instanceof Cn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vy(n,e)}remove(e){const{_finalizers:n}=this;n&&vy(n,e),e instanceof Cn&&e._removeParent(this)}}Cn.EMPTY=(()=>{const t=new Cn;return t.closed=!0,t})();const dR=Cn.EMPTY;function hR(t){return t instanceof Cn||t&&"closed"in t&&Ze(t.remove)&&Ze(t.add)&&Ze(t.unsubscribe)}function fR(t){Ze(t)?t():t.unsubscribe()}const ns={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vf={setTimeout(t,e,...n){const{delegate:r}=vf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=vf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pR(t){vf.setTimeout(()=>{const{onUnhandledError:e}=ns;if(!e)throw t;e(t)})}function Iy(){}const m4=Ey("C",void 0,void 0);function Ey(t,e,n){return{kind:t,value:e,error:n}}let rs=null;function If(t){if(ns.useDeprecatedSynchronousErrorHandling){const e=!rs;if(e&&(rs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=rs;if(rs=null,n)throw r}}else t()}class wy extends Cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hR(e)&&e.add(this)):this.destination=T4}static create(e,n,r){return new Cy(e,n,r)}next(e){this.isStopped?Dy(function y4(t){return Ey("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Dy(function _4(t){return Ey("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dy(m4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I4=Function.prototype.bind;function Ty(t,e){return I4.call(t,e)}class E4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ef(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ef(r)}else Ef(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ef(n)}}}class Cy extends wy{constructor(e,n,r){let i;if(super(),Ze(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ns.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ty(e.next,o),error:e.error&&Ty(e.error,o),complete:e.complete&&Ty(e.complete,o)}):i=e}this.destination=new E4(i)}}function Ef(t){ns.useDeprecatedSynchronousErrorHandling?function v4(t){ns.useDeprecatedSynchronousErrorHandling&&rs&&(rs.errorThrown=!0,rs.error=t)}(t):pR(t)}function Dy(t,e){const{onStoppedNotification:n}=ns;n&&vf.setTimeout(()=>n(t,e))}const T4={closed:!0,next:Iy,error:function w4(t){throw t},complete:Iy},by="function"==typeof Symbol&&Symbol.observable||"@@observable";function is(t){return t}function gR(t){return 0===t.length?is:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ot=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function b4(t){return t&&t instanceof wy||function D4(t){return t&&Ze(t.next)&&Ze(t.error)&&Ze(t.complete)}(t)&&hR(t)}(n)?n:new Cy(n,r,i);return If(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=mR(r))((i,o)=>{const s=new Cy({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[by](){return this}pipe(...n){return gR(n)(this)}toPromise(n){return new(n=mR(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function mR(t){var e;return null!==(e=t??ns.Promise)&&void 0!==e?e:Promise}const A4=_y(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qn=(()=>{class t extends Ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new _R(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new A4}next(n){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){If(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?dR:(this.currentObservers=null,o.push(n),new Cn(()=>{this.currentObservers=null,vy(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ot;return n.source=this,n}}return t.create=(e,n)=>new _R(e,n),t})();class _R extends qn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:dR}}class ar extends qn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function yR(t){return Ze(t?.lift)}function Jt(t){return e=>{if(yR(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(t,e,n,r,i){return new S4(t,e,n,r,i)}class S4 extends wy{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ke(t,e){return Jt((n,r)=>{let i=0;n.subscribe(kt(r,o=>{r.next(t.call(e,o,i++))}))})}const wf=_y(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Xi(t,e){return Jt((n,r)=>{let i=0;n.subscribe(kt(r,o=>t.call(e,o,i++)&&r.next(o)))})}const Br=new Ot(t=>t.complete());function Ea(t){return t<=0?()=>Br:Jt((e,n)=>{let r=0;e.subscribe(kt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Tf(t){return Jt((e,n)=>{let r=!1;e.subscribe(kt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function vR(t=P4){return Jt((e,n)=>{let r=!1;e.subscribe(kt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function P4(){return new wf}function Zi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xi((i,o)=>t(i,o,r)):is,Ea(1),n?Tf(e):vR(()=>new wf))}const IR="https://g.co/ng/security#xss";class V extends Error{constructor(e,n){super(function eo(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function yi(t){return{toString:t}.toString()}const Ta="__parameters__";function Da(t,e,n){return yi(()=>{const r=function Ay(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(Ta)?u[Ta]:Object.defineProperty(u,Ta,{value:[]})[Ta];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const et=globalThis;function Ve(t){for(let e in t)if(t[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function M4(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Sy(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const N4=Ve({__forward_ref__:Ve});function We(t){return t.__forward_ref__=We,t.toString=function(){return Ft(this())},t}function oe(t){return Df(t)?t():t}function Df(t){return"function"==typeof t&&t.hasOwnProperty(N4)&&t.__forward_ref__===We}function te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ba(t){return{providers:t.providers||[],imports:t.imports||[]}}function bf(t){return CR(t,Sf)||CR(t,DR)}function CR(t,e){return t.hasOwnProperty(e)?t[e]:null}function Af(t){return t&&(t.hasOwnProperty(Ry)||t.hasOwnProperty(U4))?t[Ry]:null}const Sf=Ve({\u0275prov:Ve}),Ry=Ve({\u0275inj:Ve}),DR=Ve({ngInjectableDef:Ve}),U4=Ve({ngInjectorDef:Ve});class q{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Oy(t){return t&&!!t.\u0275providers}const Lc=Ve({\u0275cmp:Ve}),ky=Ve({\u0275dir:Ve}),Fy=Ve({\u0275pipe:Ve}),AR=Ve({\u0275mod:Ve}),vi=Ve({\u0275fac:Ve}),Uc=Ve({__NG_ELEMENT_ID__:Ve}),SR=Ve({__NG_ENV_ID__:Ve});function de(t){return"string"==typeof t?t:null==t?"":String(t)}function Vy(t,e){throw new V(-201,!1)}var Ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ie||{});let Ly;function RR(){return Ly}function Fn(t){const e=Ly;return Ly=t,e}function PR(t,e,n){const r=bf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ie.Optional?null:void 0!==e?e:void Vy()}const jc={},Uy="__NG_DI_FLAG__",Rf="ngTempTokenPath",q4=/\n/gm,MR="__source";let Aa;function no(t){const e=Aa;return Aa=t,e}function K4(t,e=Ie.Default){if(void 0===Aa)throw new V(-203,!1);return null===Aa?PR(t,void 0,e):Aa.get(t,e&Ie.Optional?null:void 0,e)}function pe(t,e=Ie.Default){return(RR()||K4)(oe(t),e)}function L(t,e=Ie.Default){return pe(t,Pf(e))}function Pf(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jy(t){const e=[];for(let n=0;n<t.length;n++){const r=oe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new V(900,!1);let i,o=Ie.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Q4(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(pe(i,o))}else e.push(pe(r))}return e}function Bc(t,e){return t[Uy]=e,t.prototype[Uy]=e,t}function Q4(t){return t[Uy]}const By=Bc(Da("Optional"),8),$y=Bc(Da("SkipSelf"),4);function os(t,e){return t.hasOwnProperty(vi)?t[vi]:null}function Sa(t,e){t.forEach(n=>Array.isArray(n)?Sa(n,e):e(n))}function NR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Kn(t,e,n){let r=Ra(t,e);return r>=0?t[1|r]=n:(r=~r,function OR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Gy(t,e){const n=Ra(t,e);if(n>=0)return t[1|n]}function Ra(t,e){return function kR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const $r={},Re=[],Ir=new q(""),FR=new q("",-1),qy=new q("");class Nf{get(e,n=jc){if(n===jc){const r=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw r.name="NullInjectorError",r}return n}}var Of=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Of||{}),Er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Er||{}),ro=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ro||{});function nz(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function zy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];LR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function VR(t){return 3===t||4===t||6===t}function LR(t){return 64===t.charCodeAt(0)}function $c(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||UR(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function UR(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const jR="ng-template";function rz(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==nz(e[i+1].toLowerCase(),n,0))return!0}else if(Wy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function Wy(t){return 4===t.type&&t.value!==jR}function iz(t,e,n){return e===(4!==t.type||n?t.value:jR)}function oz(t,e,n){let r=4;const i=t.attrs,o=null!==i?function uz(t){for(let e=0;e<t.length;e++)if(VR(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!iz(t,u,n)||""===u&&1===e.length){if(wr(r))return!1;s=!0}}else if(8&r){if(null===i||!rz(t,i,u,n)){if(wr(r))return!1;s=!0}}else{const c=e[++a],d=sz(u,i,Wy(t),n);if(-1===d){if(wr(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>o?"":i[d+1].toLowerCase(),2&r&&c!==h){if(wr(r))return!1;s=!0}}}}else{if(!s&&!wr(r)&&!wr(u))return!1;if(s&&wr(u))continue;s=!1,r=u|1&r}}return wr(r)||s}function wr(t){return!(1&t)}function sz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function cz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function BR(t,e,n=!1){for(let r=0;r<e.length;r++)if(oz(t,e[r],n))return!0;return!1}function $R(t,e){return t?":not("+e.trim()+")":e}function dz(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!wr(s)&&(e+=$R(o,i),i=""),r=s,o=o||!wr(r);n++}return""!==i&&(e+=$R(o,i)),e}function io(t){return yi(()=>{const e=GR(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Of.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Er.Emulated,styles:t.styles||Re,_:null,schemas:t.schemas||null,tView:null,id:""};qR(n);const r=t.dependencies;return n.directiveDefs=kf(r,!1),n.pipeDefs=kf(r,!0),n.id=function _z(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function pz(t){return ve(t)||Vt(t)}function gz(t){return null!==t}function Hc(t){return yi(()=>({type:t.type,bootstrap:t.bootstrap||Re,declarations:t.declarations||Re,imports:t.imports||Re,exports:t.exports||Re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function HR(t,e){if(null==t)return $r;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a=ro.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ro.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ce(t){return yi(()=>{const e=GR(t);return qR(e),e})}function Ln(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[Lc]||null}function Vt(t){return t[ky]||null}function Xt(t){return t[Fy]||null}function cn(t,e){const n=t[AR]||null;if(!n&&!0===e)throw new Error(`Type ${Ft(t)} does not have '\u0275mod' property.`);return n}function GR(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$r,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:HR(t.inputs,e),outputs:HR(t.outputs),debugInfo:null}}function qR(t){t.features?.forEach(e=>e(t))}function kf(t,e){if(!t)return null;const n=e?Xt:pz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(gz)}function Pa(t){return{\u0275providers:t}}function yz(...t){return{\u0275providers:Ky(0,t),\u0275fromNgModule:!0}}function Ky(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Sa(e,s=>{const a=s;Ff(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&zR(i,o),n}function zR(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Qy(i,o=>{e(o,r)})}}function Ff(t,e,n,r){if(!(t=oe(t)))return!1;let i=null,o=Af(t);const s=!o&&ve(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Af(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)Ff(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Sa(o.imports,d=>{Ff(d,e,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&zR(c,e)}if(!a){const c=os(i)||(()=>new i);e({provide:i,useFactory:c,deps:Re},i),e({provide:qy,useValue:i,multi:!0},i),e({provide:Ir,useValue:()=>pe(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;Qy(u,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function Qy(t,e){for(let n of t)Oy(n)&&(n=n.\u0275providers),Array.isArray(n)?Qy(n,e):e(n)}const vz=Ve({provide:String,useValue:Ve});function Yy(t){return null!==t&&"object"==typeof t&&vz in t}function ss(t){return"function"==typeof t}const Jy=new q(""),Vf={},Ez={};let Xy;function Lf(){return void 0===Xy&&(Xy=new Nf),Xy}class Qn{}class Ma extends Qn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ev(e,s=>this.processProvider(s)),this.records.set(FR,xa(void 0,this)),i.has("environment")&&this.records.set(Qn,xa(void 0,this));const o=this.records.get(Jy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qy,Re,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=_e(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=no(this),r=Fn(void 0);try{return e()}finally{no(n),Fn(r)}}get(e,n=jc,r=Ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(SR))return e[SR](this);r=Pf(r);const o=no(this),s=Fn(void 0);try{if(!(r&Ie.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function bz(t){return"function"==typeof t||"object"==typeof t&&t instanceof q}(e)&&bf(e);u=c&&this.injectableDefInScope(c)?xa(Zy(e),Vf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Ie.Self?Lf():this.parent).get(e,n=r&Ie.Optional&&n===jc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Rf]=a[Rf]||[]).unshift(Ft(e)),o)throw a;return function Y4(t,e,n,r){const i=t[Rf];throw e[MR]&&i.unshift(e[MR]),t.message=function J4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ft(e);if(Array.isArray(e))i=e.map(Ft).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ft(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(q4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Rf]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Fn(s),no(o)}}resolveInjectorInitializers(){const e=_e(null),n=no(this),r=Fn(void 0);try{const o=this.get(Ir,Re,Ie.Self);for(const s of o)s()}finally{no(n),Fn(r),_e(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){let n=ss(e=oe(e))?e:oe(e&&e.provide);const r=function Tz(t){return Yy(t)?xa(void 0,t.useValue):xa(QR(t),Vf)}(e);if(!ss(e)&&!0===e.multi){let i=this.records.get(n);i||(i=xa(void 0,Vf,!0),i.factory=()=>jy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=_e(null);try{return n.value===Vf&&(n.value=Ez,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Dz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=oe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Zy(t){const e=bf(t),n=null!==e?e.factory:os(t);if(null!==n)return n;if(t instanceof q)throw new V(204,!1);if(t instanceof Function)return function wz(t){if(t.length>0)throw new V(204,!1);const n=function L4(t){return t&&(t[Sf]||t[DR])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new V(204,!1)}function QR(t,e,n){let r;if(ss(t)){const i=oe(t);return os(i)||Zy(i)}if(Yy(t))r=()=>oe(t.useValue);else if(function KR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...jy(t.deps||[]));else if(function WR(t){return!(!t||!t.useExisting)}(t))r=()=>pe(oe(t.useExisting));else{const i=oe(t&&(t.useClass||t.provide));if(!function Cz(t){return!!t.deps}(t))return os(i)||Zy(i);r=()=>new i(...jy(t.deps))}return r}function xa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ev(t,e){for(const n of t)Array.isArray(n)?ev(n,e):n&&Oy(n)?ev(n.\u0275providers,e):e(n)}function so(t,e){t instanceof Ma&&t.assertNotDestroyed();const r=no(t),i=Fn(void 0);try{return e()}finally{no(r),Fn(i)}}const ot=0,H=1,ne=2,St=3,Tr=4,Zt=5,Dn=6,Oa=7,Ke=8,Rt=9,Hr=10,ae=11,qc=12,XR=13,ka=14,st=15,as=16,Fa=17,Ii=18,Va=19,ZR=20,ao=21,jf=22,ur=23,Z=25,rv=1,zc=6,Gr=7,La=9,vt=10;var $f=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($f||{});function Ut(t){return Array.isArray(t)&&"object"==typeof t[rv]}function ln(t){return Array.isArray(t)&&!0===t[rv]}function iv(t){return!!(4&t.flags)}function us(t){return t.componentOffset>-1}function Hf(t){return!(1&~t.flags)}function Cr(t){return!!t.template}function Wc(t){return!!(512&t[ne])}class Lz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function iP(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function cr(){return oP}function oP(t){return t.type.prototype.ngOnChanges&&(t.setInput=jz),Uz}function Uz(){const t=aP(this),e=t?.current;if(e){const n=t.previous;if(n===$r)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jz(t,e,n,r,i){const o=this.declaredInputs[r],s=aP(t)||function Bz(t,e){return t[sP]=e}(t,{previous:$r,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new Lz(c&&c.currentValue,n,u===$r),iP(t,e,i,n)}cr.ngInherit=!0;const sP="__ngSimpleChanges__";function aP(t){return t[sP]||null}const qr=function(t,e,n){};function Pe(t){for(;Array.isArray(t);)t=t[ot];return t}function Kc(t,e){return Pe(e[t])}function bn(t,e){return Pe(e[t.index])}function Qc(t,e){return t.data[e]}function Yn(t,e){const n=e[t];return Ut(n)?n:n[ot]}function cv(t){return!(128&~t[ne])}function lr(t,e){return null==e?null:t[e]}function lP(t){t[Fa]=0}function dP(t){1024&t[ne]||(t[ne]|=1024,cv(t)&&qf(t))}function Gf(t){return!!(9216&t[ne]||t[ur]?.dirty)}function lv(t){t[Hr].changeDetectionScheduler?.notify(8),64&t[ne]&&(t[ne]|=1024),Gf(t)&&qf(t)}function qf(t){t[Hr].changeDetectionScheduler?.notify(0);let e=Ei(t);for(;null!==e&&!(8192&e[ne])&&(e[ne]|=8192,cv(e));)e=Ei(e)}function zf(t,e){if(!(256&~t[ne]))throw new V(911,!1);null===t[ao]&&(t[ao]=[]),t[ao].push(e)}function Ei(t){const e=t[St];return ln(e)?e[St]:e}const ue={lFrame:CP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let fP=!1;function pP(){return ue.bindingsEnabled}function ls(){return null!==ue.skipHydrationRootTNode}function k(){return ue.lFrame.lView}function ye(){return ue.lFrame.tView}function uo(t){return ue.lFrame.contextLView=t,t[Ke]}function co(t){return ue.lFrame.contextLView=null,t}function Le(){let t=gP();for(;null!==t&&64===t.type;)t=t.parent;return t}function gP(){return ue.lFrame.currentTNode}function Dr(t,e){const n=ue.lFrame;n.currentTNode=t,n.isParent=e}function fv(){return ue.lFrame.isParent}function yP(){return fP}function vP(t){fP=t}function An(){const t=ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function br(){return ue.lFrame.bindingIndex++}function Ti(t){const e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function t3(t,e){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,gv(e)}function gv(t){ue.lFrame.currentDirectiveIndex=t}function Kf(t){ue.lFrame.currentQueryIndex=t}function r3(t){const e=t[H];return 2===e.type?e.declTNode:1===e.type?t[Zt]:null}function wP(t,e,n){if(n&Ie.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Ie.Host||(i=r3(o),null===i||(o=o[ka],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ue.lFrame=TP();return r.currentTNode=e,r.lView=t,!0}function yv(t){const e=TP(),n=t[H];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TP(){const t=ue.lFrame,e=null===t?null:t.child;return null===e?CP(t):e}function CP(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function DP(){const t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bP=DP;function vv(){const t=DP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function en(){return ue.lFrame.selectedIndex}function ds(t){ue.lFrame.selectedIndex=t}function Qe(){const t=ue.lFrame;return Qc(t.tView,t.selectedIndex)}function AP(){return ue.lFrame.currentNamespace}let SP=!0;function Jc(){return SP}function zr(t){SP=t}function Qf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=d&&(t.destroyHooks??=[]).push(n,d)}}function Yf(t,e,n){RP(t,e,3,n)}function Jf(t,e,n,r){(3&t[ne])===n&&RP(t,e,n,r)}function Iv(t,e){let n=t[ne];(3&n)===e&&(n&=16383,n+=1,t[ne]=n)}function RP(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Fa]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Fa]+=65536),(a<o||-1==o)&&(l3(t,n,e,u),t[Fa]=(4294901760&t[Fa])+u+2),u++}function PP(t,e){qr(4,t,e);const n=_e(null);try{e.call(t)}finally{_e(n),qr(5,t,e)}}function l3(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>14<t[Fa]>>16&&(3&t[ne])===e&&(t[ne]+=16384,PP(a,o)):PP(a,o)}const Ua=-1;class Xc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const wv={};class hs{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pf(r);const i=this.injector.get(e,wv,r);return i!==wv||n===wv?i:this.parentInjector.get(e,n,r)}}function Tv(t){return t!==Ua}function Zc(t){return 32767&t}function el(t,e){let n=function g3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ka],n--;return r}let Cv=!0;function Xf(t){const e=Cv;return Cv=t,e}const xP=255,NP=5;let _3=0;const Wr={};function Zf(t,e){const n=OP(t,e);if(-1!==n)return n;const r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Dv(r.data,t),Dv(e,null),Dv(r.blueprint,null));const i=ep(t,e),o=t.injectorIndex;if(Tv(i)){const s=Zc(i),a=el(i,e),u=a[H].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Dv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OP(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ep(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=BP(i),null===r)return Ua;if(n++,i=i[ka],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ua}function bv(t,e,n){!function y3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Uc)&&(r=n[Uc]),null==r&&(r=n[Uc]=_3++);const i=r&xP;e.data[t+(i>>NP)]|=1<<i}(t,e,n)}function kP(t,e,n){if(n&Ie.Optional||void 0!==t)return t;Vy()}function FP(t,e,n,r){if(n&Ie.Optional&&void 0===r&&(r=null),!(n&(Ie.Self|Ie.Host))){const i=t[Rt],o=Fn(void 0);try{return i?i.get(e,r,n&Ie.Optional):PR(e,r,n&Ie.Optional)}finally{Fn(o)}}return kP(r,0,n)}function VP(t,e,n,r=Ie.Default,i){if(null!==t){if(2048&e[ne]&&!(r&Ie.Self)){const s=function T3(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ne]&&!(512&s[ne]);){const a=LP(o,s,n,r|Ie.Self,Wr);if(a!==Wr)return a;let u=o.parent;if(!u){const c=s[ZR];if(c){const d=c.get(n,Wr,r);if(d!==Wr)return d}u=BP(s),s=s[ka]}o=u}return i}(t,e,n,r,Wr);if(s!==Wr)return s}const o=LP(t,e,n,r,Wr);if(o!==Wr)return o}return FP(e,n,r,i)}function LP(t,e,n,r,i){const o=function E3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Uc)?t[Uc]:void 0;return"number"==typeof e?e>=0?e&xP:w3:e}(n);if("function"==typeof o){if(!wP(e,t,r))return r&Ie.Host?kP(i,0,r):FP(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Ie.Optional)return s;Vy()}finally{bP()}}else if("number"==typeof o){let s=null,a=OP(t,e),u=Ua,c=r&Ie.Host?e[st][Zt]:null;for((-1===a||r&Ie.SkipSelf)&&(u=-1===a?ep(t,e):e[a+8],u!==Ua&&jP(r,!1)?(s=e[H],a=Zc(u),e=el(u,e)):a=-1);-1!==a;){const d=e[H];if(UP(o,a,d.data)){const h=I3(a,e,n,s,r,c);if(h!==Wr)return h}u=e[a+8],u!==Ua&&jP(r,e[H].data[a+8]===c)&&UP(o,a,e)?(s=d,a=Zc(u),e=el(u,e)):a=-1}}return i}function I3(t,e,n,r,i,o){const s=e[H],a=s.data[t+8],d=function tp(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,d=o>>20,p=i?a+d:t.directiveEnd;for(let g=r?a:a+d;g<p;g++){const _=s[g];if(g<u&&n===_||g>=u&&_.type===n)return g}if(i){const g=s[u];if(g&&Cr(g)&&g.type===n)return u}return null}(a,s,n,null==r?us(a)&&Cv:r!=s&&!!(3&a.type),i&Ie.Host&&o===a);return null!==d?fs(e,s,d,a):Wr}function fs(t,e,n,r){let i=t[n];const o=e.data;if(function d3(t){return t instanceof Xc}(i)){const s=i;s.resolving&&function $4(t,e){throw e&&e.join(" > "),new V(-200,t)}(function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():de(t)}(o[n]));const a=Xf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Fn(s.injectImpl):null;wP(t,r,Ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function c3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=oP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&Fn(c),Xf(a),s.resolving=!1,bP()}}return i}function UP(t,e,n){return!!(n[e+(t>>NP)]&1<<t)}function jP(t,e){return!(t&Ie.Self||t&Ie.Host&&e)}class jt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VP(this._tNode,this._lView,e,Pf(r),n)}}function w3(){return new jt(Le(),k())}function qt(t){return yi(()=>{const e=t.prototype.constructor,n=e[vi]||Av(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[vi]||Av(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Av(t){return Df(t)?()=>{const e=Av(oe(t));return e&&e()}:os(t)}function BP(t){const e=t[H],n=e.type;return 2===n?e.declTNode:1===n?t[Zt]:null}function zP(t,e=null,n=null,r){const i=WP(t,e,n,r);return i.resolveInjectorInitializers(),i}function WP(t,e=null,n=null,r,i=new Set){const o=[n||Re,yz(t)];return r=r||("object"==typeof t?void 0:Ft(t)),new Ma(o,e||Lf(),r||null,i)}class tn{static{this.THROW_IF_NOT_FOUND=jc}static{this.NULL=new Nf}static create(e,n){if(Array.isArray(e))return zP({name:""},n,e,"");{const r=e.name??"";return zP({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=te({token:tn,providedIn:"any",factory:()=>pe(FR)})}static{this.__NG_ELEMENT_ID__=-1}}new q("").__NG_ELEMENT_ID__=t=>{const e=Le();if(null===e)throw new V(204,!1);if(2&e.type)return e.value;if(t&Ie.Optional)return null;throw new V(204,!1)};function Rv(t){return t.ngOriginalError}const QP=!0;let nl=(()=>{class t{static{this.__NG_ELEMENT_ID__=N3}static{this.__NG_ENV_ID__=n=>n}}return t})();class x3 extends nl{constructor(e){super(),this._lView=e}onDestroy(e){return zf(this._lView,e),()=>function dv(t,e){if(null===t[ao])return;const n=t[ao].indexOf(e);-1!==n&&t[ao].splice(n,1)}(this._lView,e)}}function N3(){return new x3(k())}let ps=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ar(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=te({token:t,providedIn:"root",factory:()=>new t})}}return t})();const ht=class O3 extends qn{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,function YR(){return void 0!==RR()||null!=function W4(){return Aa}()}()&&(this.destroyRef=L(nl,{optional:!0})??void 0,this.pendingTasks=L(ps,{optional:!0})??void 0)}emit(e){const n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Cn&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{e(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function rp(...t){}function YP(t){let e,n;function r(){t=rp;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function JP(t){return queueMicrotask(()=>t()),()=>{t=rp}}const Pv="isAngularZone",ip=Pv+"_ID";let k3=0;class Fe{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=QP}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function L3(t){const e=()=>{!function V3(t){function e(){YP(()=>{t.callbackScheduled=!1,xv(t),t.isCheckStableRunning=!0,Mv(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),xv(t))}(t)},n=k3++;t._inner=t._inner.fork({name:"angular",properties:{[Pv]:!0,[ip]:n,[ip+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(function U3(t){return eM(t,"__ignore_ng_zone__")}(u))return r.invokeTask(o,s,a,u);try{return XP(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ZP(t)}},onInvoke:(r,i,o,s,a,u,c)=>{try{return XP(t),r.invoke(o,s,a,u,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function j3(t){return eM(t,"__scheduler_tick__")}(u)&&e(),ZP(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,xv(t),Mv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Pv)}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,F3,rp,rp);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const F3={};function Mv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function XP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ZP(t){t._nesting--,Mv(t)}class Nv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function eM(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}class Kr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Rv(e);for(;n&&Rv(n);)n=Rv(n);return n||null}}const $3=new q("",{providedIn:"root",factory:()=>{const t=L(Fe),e=L(Kr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function H3(){return $a(Le(),k())}function $a(t,e){return new Jn(bn(t,e))}let Jn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=H3}}return t})();const rl="ngSkipHydration",q3="ngskiphydration";function kv(t){const e=t.mergedAttrs;if(null===e)return!1;for(let n=0;n<e.length;n+=2){const r=e[n];if("number"==typeof r)return!1;if("string"==typeof r&&r.toLowerCase()===q3)return!0}return!1}function rM(t){return t.hasAttribute(rl)}function il(t){return!(128&~t.flags)}const Fv=new Map;let z3=0;function Vv(t){Fv.delete(t[Va])}const op="__ngContext__";function dn(t,e){Ut(e)?(t[op]=e[Va],function K3(t){Fv.set(t[Va],t)}(e)):t[op]=e}function hM(t){return pM(t[qc])}function fM(t){return pM(t[Tr])}function pM(t){for(;null!==t&&!ln(t);)t=t[Tr];return t}let Uv;function lo(){if(void 0!==Uv)return Uv;if(typeof document<"u")return document;throw new V(210,!1)}const sl=new q("",{providedIn:"root",factory:()=>d6}),d6="ng",wM=new q(""),ho=new q("",{providedIn:"platform",factory:()=>"unknown"}),TM=new q("",{providedIn:"root",factory:()=>lo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function p6(){const t=new Ga;return"browser"===L(ho)&&(t.store=function g6(t,e){const n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(lo(),L(sl))),t}let Ga=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=te({token:t,providedIn:"root",factory:p6})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();const jv="h",Bv="b";var qa=function(t){return t.FirstChild="f",t.NextSibling="n",t}(qa||{});const ap="e",$v="t",al="c",up="x",za="r",Hv="i",cp="n",ul="d",qv="__nghData__",cl="ngh";let CM=()=>null;function _6(t,e,n=!1){let r=t.getAttribute(cl);if(null==r)return null;const[i,o]=r.split("|");if(r=n?o:i,!r)return null;const a=n?i:o?`|${o}`:"";let u={};if(""!==r){const d=e.get(Ga,null,{optional:!0});null!==d&&(u=d.get(qv,[])[Number(r)])}const c={data:u,firstChild:t.firstChild??null};return n&&(c.firstChild=t,lp(c,0,t.nextSibling)),a?t.setAttribute(cl,a):t.removeAttribute(cl),c}function zv(t,e,n=!1){return CM(t,e,n)}function DM(t){let e=t._lView;return 2===e[H].type?null:(Wc(e)&&(e=e[Z]),e)}function lp(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Kv(t,e){return t.segmentHeads?.[e]??null}function SM(t,e){return t.data[al]?.[e]??null}function Qv(t,e){const n=SM(t,e)??[];let r=0;for(let i of n)r+=i[za]*(i[up]??1);return r}function gs(t,e){if(typeof t.disconnectedNodes>"u"){const n=t.data[ul];t.disconnectedNodes=n?new Set(n):null}return!!function RM(t){if(typeof t.disconnectedNodes>"u"){const e=t.data[ul];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}(t)?.has(e)}const dp=new q(""),xM=new q("",{providedIn:"root",factory:()=>!1});let fp;function VM(t){return function Xv(){if(void 0===fp&&(fp=null,et.trustedTypes))try{fp=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fp}()?.createScriptURL(t)||t}class LM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IR})`}}function fo(t){return t instanceof LM?t.changingThisBreaksApplicationSecurity:t}function hl(t,e){const n=function M6(t){return t instanceof LM&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${IR})`)}return n===e}const k6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ka=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ka||{});function WM(t){const e=pl();return e?e.sanitize(Ka.URL,t)||"":hl(t,"URL")?fo(t):function Zv(t){return(t=String(t)).match(k6)?t:"unsafe:"+t}(de(t))}function KM(t){const e=pl();if(e)return VM(e.sanitize(Ka.RESOURCE_URL,t)||"");if(hl(t,"ResourceURL"))return VM(fo(t));throw new V(904,!1)}function pl(){const t=k();return t&&t[Hr].sanitizer}const J6=/^>|^->|<!--|-->|--!>|<!-$/g,X6=/(<|>)/g,Z6="\u200b$1\u200b";function Xn(t){return t instanceof Function?t():t}function Zn(t){return"browser"===(t??L(tn)).get(ho)}var po=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(po||{});let oI;function sI(t,e){return oI(t,e)}function Ya(t,e,n,r,i){if(null!=r){let o,s=!1;ln(r)?o=r:Ut(r)&&(s=!0,r=r[ot]);const a=Pe(r);0===t&&null!==n?null==i?ux(e,n,a):ms(e,n,a,i||null,!0):1===t&&null!==n?ms(e,n,a,i||null,!0):2===t?ml(e,a,s):3===t&&e.destroyNode(a),null!=o&&function v9(t,e,n,r,i){const o=n[Gr];o!==Pe(n)&&Ya(e,t,r,o,i);for(let a=vt;a<n.length;a++){const u=n[a];Ip(u[H],u,t,e,r,o)}}(e,t,o,n,i)}}function aI(t,e){return t.createText(e)}function uI(t,e){return t.createComment(function YM(t){return t.replace(J6,e=>e.replace(X6,Z6))}(e))}function _p(t,e,n){return t.createElement(e,n)}function ox(t,e){e[Hr].changeDetectionScheduler?.notify(9),Ip(t,e,e[ae],2,null,null)}function sx(t,e){const n=t[La],r=e[St];(Ut(r)||e[st]!==r[St][st])&&(t[ne]|=$f.HasTransplantedViews),null===n?t[La]=[e]:n.push(e)}function cI(t,e){const n=t[La],r=n.indexOf(e);n.splice(r,1)}function gl(t,e){if(t.length<=vt)return;const n=vt+e,r=t[n];if(r){const i=r[as];null!==i&&i!==t&&cI(i,r),e>0&&(t[n-1][Tr]=r[Tr]);const o=Mf(t,vt+e);!function d9(t,e){ox(t,e),e[ot]=null,e[Zt]=null}(r[H],r);const s=o[Ii];null!==s&&s.detachView(o[H]),r[St]=null,r[Tr]=null,r[ne]&=-129}return r}function yp(t,e){if(!(256&e[ne])){const n=e[ae];n.destroyNode&&Ip(t,e,n,3,null,null),function f9(t){let e=t[qc];if(!e)return lI(t[H],t);for(;e;){let n=null;if(Ut(e))n=e[qc];else{const r=e[vt];r&&(n=r)}if(!n){for(;e&&!e[Tr]&&e!==t;)Ut(e)&&lI(e[H],e),e=e[St];null===e&&(e=t),Ut(e)&&lI(e[H],e),n=e&&e[Tr]}e=n}}(e)}}function lI(t,e){if(256&e[ne])return;const n=_e(null);try{e[ne]&=-129,e[ne]|=256,e[ur]&&py(e[ur]),function m9(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Xc)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];qr(4,a,u);try{u.call(a)}finally{qr(5,a,u)}}else{qr(4,i,o);try{o.call(i)}finally{qr(5,i,o)}}}}}(t,e),function g9(t,e){const n=t.cleanup,r=e[Oa];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Oa]=null);const i=e[ao];if(null!==i){e[ao]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[H].type&&e[ae].destroy();const r=e[as];if(null!==r&&ln(e[St])){r!==e[St]&&cI(r,e);const i=e[Ii];null!==i&&i.detachView(t)}Vv(e)}finally{_e(n)}}function dI(t,e,n){return function ax(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[ot];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Er.None||o===Er.Emulated)return null}return bn(r,n)}}(t,e.parent,n)}function ms(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ux(t,e,n){t.appendChild(e,n)}function cx(t,e,n,r,i){null!==r?ms(t,e,n,r,i):ux(t,e,n)}function hI(t,e){return t.parentNode(e)}let fI,hx=function dx(t,e,n){return 40&t.type?bn(t,n):null};function vp(t,e,n,r){const i=dI(t,r,e),o=e[ae],a=function lx(t,e,n){return hx(t,e,n)}(r.parent||e[Zt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)cx(o,i,n[u],a,!1);else cx(o,i,n,a,!1);void 0!==fI&&fI(o,r,e,n,i)}function _s(t,e){if(null!==e){const n=e.type;if(3&n)return bn(e,t);if(4&n)return pI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return _s(t,r);{const i=t[e.index];return ln(i)?pI(-1,i):Pe(i)}}if(128&n)return _s(t,e.next);if(32&n)return sI(e,t)()||Pe(t[e.index]);{const r=px(t,e);return null!==r?Array.isArray(r)?r[0]:_s(Ei(t[st]),r):_s(t,e.next)}}return null}function px(t,e){return null!==e?t[st][Zt].projection[e.projection]:null}function pI(t,e){const n=vt+t+1;if(n<e.length){const r=e[n],i=r[H].firstChild;if(null!==i)return _s(r,i)}return e[Gr]}function ml(t,e,n){t.removeChild(null,e,n)}function gx(t){t.textContent=""}function gI(t,e,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],u=n.type;if(s&&0===e&&(a&&dn(Pe(a),r),n.flags|=2),32&~n.flags)if(8&u)gI(t,e,n.child,r,i,o,!1),Ya(e,t,i,a,o);else if(32&u){const c=sI(n,r);let d;for(;d=c();)Ya(e,t,i,d,o);Ya(e,t,i,a,o)}else 16&u?mx(t,e,r,n,i,o):Ya(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ip(t,e,n,r,i,o){gI(n,r,t.firstChild,e,i,o,!1)}function mx(t,e,n,r,i,o){const s=n[st],u=s[Zt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ya(e,t,i,u[c],o);else{let c=u;const d=s[St];il(r)&&(c.flags|=128),gI(t,e,c,d,i,o,!0)}}function _x(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&zy(t,e,r),null!==i&&_x(t,e,i),null!==o&&function E9(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const he={};function be(t=1){vx(ye(),k(),en()+t,!1)}function vx(t,e,n,r){if(!r)if(3&~e[ne]){const o=t.preOrderHooks;null!==o&&Jf(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&Yf(e,o,n)}ds(n)}function B(t,e=Ie.Default){const n=k();return null===n?pe(t,e):VP(Le(),n,oe(t),e)}function Ix(t,e,n,r,i,o){const s=_e(null);try{let a=null;i&ro.SignalBased&&(a=e[r][vr]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&ro.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):iP(e,a,r,o)}finally{_e(s)}}function Ep(t,e,n,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[ot]=i,h[ne]=204|r,(null!==c||t&&2048&t[ne])&&(h[ne]|=2048),lP(h),h[St]=h[ka]=t,h[Ke]=n,h[Hr]=s||t&&t[Hr],h[ae]=a||t&&t[ae],h[Rt]=u||t&&t[Rt]||null,h[Zt]=o,h[Va]=function W3(){return z3++}(),h[Dn]=d,h[ZR]=c,h[st]=2==e.type?t[st]:h,h}function ys(t,e,n,r,i){let o=t.data[e];if(null===o)o=function mI(t,e,n,r,i){const o=gP(),s=fv(),u=t.data[e]=function P9(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ls()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function e3(){return ue.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Yc(){const t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Dr(o,!0),o}function _l(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ex(t,e,n,r,i){const o=en(),s=2&r;try{ds(-1),s&&e.length>Z&&vx(t,e,Z,!1),qr(s?2:0,i),n(r,i)}finally{ds(o),qr(s?3:1,i)}}function _I(t,e,n){if(iv(e)){const r=_e(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{_e(r)}}}function yI(t,e,n){pP()&&(function V9(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;us(n)&&function G9(t,e,n){const r=bn(e,t),i=wx(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=wp(t,Ep(t,i,null,s,r,e,null,t[Hr].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zf(n,e),dn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=fs(e,t,a,n);dn(c,e),null!==s&&q9(0,a-i,c,u,0,s),Cr(u)&&(Yn(n.index,e)[Ke]=fs(e,t,a,n))}}(t,e,n,bn(n,e)),!(64&~n.flags)&&Ax(t,e,n))}function vI(t,e,n=bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function wx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=II(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function II(t,e,n,r,i,o,s,a,u,c,d){const h=Z+r,p=h+i,g=function C9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:he);return n}(h,p),_="function"==typeof c?c():c;return g[H]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1,ssrId:d}}let Tx=()=>null;function A9(t){rM(t)?gx(t):function I6(t){const e=lo(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function v6(t){return t.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=n.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(t)}function Cx(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;r??={};let a,u=ro.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(null!==i){if(!i.hasOwnProperty(o))continue;c=i[o]}0===t?Dx(r,n,c,a,u):Dx(r,n,c,a)}return r}function Dx(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function jn(t,e,n,r,i,o,s,a){const u=bn(e,n);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(DI(t,n,d,r,i),us(e)&&function N9(t,e){const n=Yn(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function x9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function EI(t,e,n,r){if(pP()){const i=null===r?null:{"":-1},o=function U9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(BR(e,s.selectors,!1))if(r||(r=[]),Cr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),wI(t,e,a.length)}else r.unshift(s),wI(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&bx(t,e,n,s,i,a),i&&function j9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new V(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=$c(n.mergedAttrs,n.attrs)}function bx(t,e,n,r,i,o){for(let c=0;c<r.length;c++)bv(Zf(n,e),t,r[c].type);!function $9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,u=_l(t,e,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];n.mergedAttrs=$c(n.mergedAttrs,d.hostAttrs),H9(t,n,e,u,d),B9(u,d,i),null!==d.contentQueries&&(n.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function M9(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=n?n.get(h):null,_=p?p.outputs:null;u=Cx(0,h.inputs,d,u,p?p.inputs:null),c=Cx(1,h.outputs,d,c,_);const v=null===u||null===s||Wy(e)?null:z9(u,d,s);a.push(v)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function Ax(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function n3(){return ue.lFrame.currentDirectiveIndex}();try{ds(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];gv(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&L9(u,c)}}finally{ds(-1),gv(s)}}function L9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function wI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function B9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Cr(e)&&(n[""]=t)}}function H9(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=os(i.type)),s=new Xc(o,Cr(i),B);t.blueprint[r]=s,n[r]=s,function k9(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function F9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,_l(t,n,i.hostVars,he),i)}function Qr(t,e,n,r,i,o){const s=bn(t,e);!function TI(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?de(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[ae],s,o,t.value,n,r,i)}function q9(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)Ix(r,n,s[a++],s[a++],s[a++],s[a++])}function z9(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Sx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Rx(t,e){const n=t.contentQueries;if(null!==n){const r=_e(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Kf(n[i]),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function wp(t,e){return t[qc]?t[XR][Tr]=e:t[qc]=e,t[XR]=e,e}function CI(t,e,n){Kf(0);const r=_e(null);try{e(t,n)}finally{_e(r)}}function Tp(t,e){const n=t[Rt],r=n?n.get(Kr,null):null;r&&r.handleError(e)}function DI(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=n[o++];Ix(t.data[s],e[s],r,a,u,i)}}function Di(t,e,n){const r=Kc(e,t);!function ix(t,e,n){t.setValue(e,n)}(t[ae],r,n)}function W9(t,e){const n=Yn(e,t),r=n[H];!function K9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ot];null!==i&&null===n[Dn]&&(n[Dn]=zv(i,n[Rt])),bI(r,n,n[Ke])}function bI(t,e,n){yv(e);try{const r=t.viewQuery;null!==r&&CI(1,r,n);const i=t.template;null!==i&&Ex(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ii]?.finishViewCreation(t),t.staticContentQueries&&Rx(t,e),t.staticViewQueries&&CI(2,t.viewQuery,n);const o=t.components;null!==o&&function Q9(t,e){for(let n=0;n<e.length;n++)W9(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,vv()}}function vs(t,e){return!e||null===e.firstChild||il(t)}function yl(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(Pe(o)),ln(o)&&Ox(o,r);const s=n.type;if(8&s)yl(t,e,n.child,r);else if(32&s){const a=sI(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=px(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ei(e[st]);yl(u[H],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ox(t,e){for(let n=vt;n<t.length;n++){const r=t[n],i=r[H].firstChild;null!==i&&yl(r[H],r,i,e)}t[Gr]!==t[ot]&&e.push(t[Gr])}let kx=[];const Z9={...ff,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qf(t.lView)},consumerOnSignalRead(){this.lView[ur]=this}},t5={...ff,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ei(t.lView);for(;e&&!Fx(e[H]);)e=Ei(e);e&&dP(e)},consumerOnSignalRead(){this.lView[ur]=this}};function Fx(t){return 2!==t.type}const n5=100;function Cp(t,e=!0,n=0){const r=t[Hr],i=r.rendererFactory;i.begin?.();try{!function r5(t,e){const n=yP();try{vP(!0),SI(t,e);let r=0;for(;Gf(t);){if(r===n5)throw new V(103,!1);r++,SI(t,1)}}finally{vP(n)}}(t,n)}catch(s){throw e&&Tp(t,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function i5(t,e,n,r){const i=e[ne];if(!(256&~i))return;e[Hr].inlineEffectRunner?.flush(),yv(e);let a=!0,u=null,c=null;Fx(t)?(c=function Y9(t){return t[ur]??function J9(t){const e=kx.pop()??Object.create(Z9);return e.lView=t,e}(t)}(e),u=pf(c)):null===function Z0(){return yt}()?(a=!1,c=function e5(t){const e=t[ur]??Object.create(t5);return e.lView=t,e}(e),u=pf(c)):e[ur]&&(py(e[ur]),e[ur]=null);try{lP(e),function IP(t){return ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Ex(t,e,n,2,r);const d=!(3&~i);if(d){const g=t.preOrderCheckHooks;null!==g&&Yf(e,g,null)}else{const g=t.preOrderHooks;null!==g&&Jf(e,g,0,null),Iv(e,0)}if(function o5(t){for(let e=hM(t);null!==e;e=fM(e)){if(!(e[ne]&$f.HasTransplantedViews))continue;const n=e[La];for(let r=0;r<n.length;r++)dP(n[r])}}(e),Lx(e,0),null!==t.contentQueries&&Rx(t,e),d){const g=t.contentCheckHooks;null!==g&&Yf(e,g)}else{const g=t.contentHooks;null!==g&&Jf(e,g,1),Iv(e,1)}!function T9(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ds(~i);else{const o=i,s=n[++r],a=n[++r];t3(s,o),a(2,e[o])}}}finally{ds(-1)}}(t,e);const h=t.components;null!==h&&jx(e,h,0);const p=t.viewQuery;if(null!==p&&CI(2,p,r),d){const g=t.viewCheckHooks;null!==g&&Yf(e,g)}else{const g=t.viewHooks;null!==g&&Jf(e,g,2),Iv(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[jf]){for(const g of e[jf])g();e[jf]=null}e[ne]&=-73}catch(d){throw qf(e),d}finally{null!==c&&(hy(c,u),a&&function X9(t){t.lView[ur]!==t&&(t.lView=null,kx.push(t))}(c)),vv()}}function Lx(t,e){for(let n=hM(t);null!==n;n=fM(n))for(let r=vt;r<n.length;r++)Ux(n[r],e)}function s5(t,e,n){Ux(Yn(e,t),n)}function Ux(t,e){cv(t)&&SI(t,e)}function SI(t,e){const r=t[H],i=t[ne],o=t[ur];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!fy(o)),s||=!1,o&&(o.dirty=!1),t[ne]&=-9217,s)i5(r,t,r.template,t[Ke]);else if(8192&i){Lx(t,1);const a=r.components;null!==a&&jx(t,a,1)}}function jx(t,e,n){for(let r=0;r<e.length;r++)s5(t,e[r],n)}function vl(t,e){const n=yP()?64:1088;for(t[Hr].changeDetectionScheduler?.notify(e);t;){t[ne]|=n;const r=Ei(t);if(Wc(t)&&!r)return t;t=r}return null}class Il{get rootNodes(){const e=this._lView,n=e[H];return yl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(e){this._lView[Ke]=e}get destroyed(){return!(256&~this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[St];if(ln(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(gl(e,r),Mf(n,r))}this._attachedToViewContainer=!1}yp(this._lView[H],this._lView)}onDestroy(e){zf(this._lView,e)}markForCheck(){vl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){lv(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,Cp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Wc(this._lView),n=this._lView[as];null!==n&&!e&&cI(n,this._lView),ox(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;const n=Wc(this._lView),r=this._lView[as];null!==r&&!n&&sx(r,this._lView),lv(this._lView)}}let bi=(()=>{class t{static{this.__NG_ELEMENT_ID__=c5}}return t})();const a5=bi,u5=class extends a5{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Ja(t,e,n,r){const i=_e(null);try{const o=e.tView,u=Ep(t,o,n,4096&t[ne]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[as]=t[e.index];const d=t[Ii];return null!==d&&(u[Ii]=d.createEmbeddedView(o)),bI(o,u,n),u}finally{_e(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Il(i)}};function c5(){return function Dp(t,e){return 4&t.type?new u5(e,t,$a(t,e)):null}(Le(),k())}const A5=new RegExp(`^(\\d+)*(${Bv}|${jv})*(.*)`);function NI(t){return t.index-Z}function bl(t,e,n,r){const i=NI(r);let o=function Xx(t,e){const n=t.i18nNodes;if(n)return n.get(e)}(t,i);if(void 0===o){const s=t.data[cp];if(s?.[i])o=function Zx(t,e){const[n,...r]=function R5(t){const e=t.match(A5),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[u,c,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(c,h)}return[s,...a]}(t);let i;i=n===jv?e[st][ot]:n===Bv?function ex(t){return t.ownerDocument.body}(e[st][ot]):Pe(e[Number(n)+Z]);return function x5(t,e){let n=t;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case qa.FirstChild:n=n.firstChild;break;case qa.NextSibling:n=n.nextSibling}}return n}(i,r)}(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{const a=null===r.prev,u=r.prev??r.parent;if(function P5(t){return!t.prev&&8===t.parent?.type}(r))o=Kv(t,NI(r.parent));else{let c=bn(u,n);if(a)o=c.firstChild;else{const d=NI(u),h=Kv(t,d);o=2===u.type&&h?Rp(Qv(t,d)+1,h):c.nextSibling}}}}return o}function Rp(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}let tN=!1;function Q5(t,e,n){for(const r of n.node.cases[n.case]){const i=e.get(r.index-Z);i&&ml(t,i,!1)}}function oN(t){const e=t[zc]??[],r=t[St][ae];for(const i of e)Y5(i,r);t[zc]=Re}function Y5(t,e){let n=0,r=t.firstChild;if(r){const i=t.data[za];for(;n<i;){const o=r.nextSibling;ml(e,r,!1),r=o,n++}}}function sN(t){oN(t);const e=t[ot];Ut(e)&&Pp(e);for(let n=vt;n<t.length;n++)Pp(t[n])}function Pp(t){!function K5(t){const e=t[Dn];if(e){const{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){const i=t[ae];for(const o of r.values())Q5(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}(t);const e=t[H];for(let n=Z;n<e.bindingStartIndex;n++)ln(t[n])?sN(t[n]):Ut(t[n])&&Pp(t[n])}let aN=()=>null;function Z5(t,e){const n=t[zc];return e&&null!==n&&0!==n.length?n[0].data[Hv]===e?n.shift():(oN(t),null):null}function Es(t,e){return aN(t,e)}class eu{}const tu=new q("",{providedIn:"root",factory:()=>!1}),uN=new q(""),UI=new q("");class t8{}class cN{}class r8{resolveComponentFactory(e){throw function n8(t){const e=Error(`No component factory found for ${Ft(t)}.`);return e.ngComponent=t,e}(e)}}class Mp{static{this.NULL=new r8}}class jI{}let Ai=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function i8(){const t=k(),n=Yn(Le().index,t);return(Ut(n)?n:t)[ae]}()}}return t})(),o8=(()=>{class t{static{this.\u0275prov=te({token:t,providedIn:"root",factory:()=>null})}}return t})();function Np(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Sy(i,a):2==o&&(r=Sy(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class fN extends Mp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ve(e);return new Pl(n,this.ngModule)}}function pN(t,e){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r];if(void 0===i)continue;const o=Array.isArray(i),s=o?i[0]:i;n.push(e?{propName:s,templateName:r,isSignal:!!((o?i[1]:ro.None)&ro.SignalBased)}:{propName:s,templateName:r})}return n}class Pl extends cN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=pN(e.inputs,!0);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return pN(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function hz(t){return t.map(dz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const o=_e(null);try{let s=(i=i||this.ngModule)instanceof Qn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new hs(e,s):e,u=a.get(jI,null);if(null===u)throw new V(407,!1);const h={rendererFactory:u,sanitizer:a.get(o8,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(eu,null)},p=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?function D9(t,e,n,r){const o=r.get(xM,!1)||n===Er.ShadowDom,s=t.selectRootElement(e,o);return function b9(t){Tx(t)}(s),s}(p,r,this.componentDef.encapsulation,a):_p(p,g,function u8(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g));let v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let E=null;null!==_&&(E=zv(_,a,!0));const A=II(0,null,null,1,0,null,null,null,null,null,null),b=Ep(null,A,null,v,null,null,h,p,a,null,E);yv(b);let F,$,Q=null;try{const Y=this.componentDef;let D,w=null;Y.findHostDirectiveDefs?(D=[],w=new Map,Y.findHostDirectiveDefs(Y,D,w),D.push(Y)):D=[Y];const T=function l8(t,e){const n=t[H],r=Z;return t[r]=e,ys(n,r,2,"#host",null)}(b,_);Q=function d8(t,e,n,r,i,o,s){const a=i[H];!function h8(t,e,n,r){for(const i of t)e.mergedAttrs=$c(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Np(e,e.mergedAttrs,!0),null!==n&&yx(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=zv(e,i[Rt]));const c=o.rendererFactory.createRenderer(e,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const h=Ep(i,wx(n),null,d,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&wI(a,t,r.length-1),wp(i,h),i[t.index]=h}(T,_,Y,D,b,h,p),$=Qc(A,Z),_&&function p8(t,e,n,r){if(r)zy(t,n,["ng-version","18.2.10"]);else{const{attrs:i,classes:o}=function fz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!wr(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&zy(t,n,i),o&&o.length>0&&_x(t,n,o.join(" "))}}(p,Y,_,r),void 0!==n&&function g8(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}($,this.ngContentSelectors,n),F=function f8(t,e,n,r,i,o){const s=Le(),a=i[H],u=bn(s,i);bx(a,i,s,n,null,r);for(let d=0;d<n.length;d++)dn(fs(i,a,s.directiveStart+d,s),i);Ax(a,i,s),u&&dn(u,i);const c=fs(i,a,s.directiveStart+s.componentOffset,s);if(t[Ke]=i[Ke]=c,null!==o)for(const d of o)d(c,e);return _I(a,s,i),c}(Q,Y,D,w,b,[m8]),bI(A,b,null)}catch(Y){throw null!==Q&&Vv(Q),Vv(b),Y}finally{vv()}return new c8(this.componentType,F,$a($,b),b,$)}finally{_e(o)}}}class c8 extends t8{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Il(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;DI(o[H],o,i,e,n),this.previousInputValues.set(e,n),vl(Yn(this._tNode.index,o),1)}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function m8(){const t=Le();Qf(k()[H],t)}let Ar=(()=>{class t{static{this.__NG_ELEMENT_ID__=_8}}return t})();function _8(){return function _N(t,e){let n;const r=e[t.index];return ln(r)?n=r:(n=Sx(r,e,null,t),e[t.index]=n,wp(e,n)),yN(n,e,t,r),new gN(n,t,e)}(Le(),k())}const y8=Ar,gN=class extends y8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $a(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const e=ep(this._hostTNode,this._hostLView);if(Tv(e)){const n=el(e,this._hostLView),r=Zc(e);return new jt(n[H].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=mN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=Es(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,vs(this._hostTNode,s)),a}createComponent(e,n,r,i,o){const s=e&&!function Gc(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const u=s?e:new Pl(ve(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const v=(s?c:this.parentInjector).get(Qn,null);v&&(o=v)}const d=ve(u.componentType??{}),h=Es(this._lContainer,d?.id??null),g=u.create(c,i,h?.firstChild??null,o);return this.insertImpl(g.hostView,a,vs(this._hostTNode,h)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function qz(t){return ln(t[St])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[St],c=new gN(u,u[Zt],u[St]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return function Xa(t,e,n,r=!0){const i=e[H];if(function p9(t,e,n,r){const i=vt+r,o=n.length;r>0&&(n[i-1][Tr]=e),r<o-vt?(e[Tr]=n[i],NR(n,vt+r,e)):(n.push(e),e[Tr]=null),e[St]=n;const s=e[as];null!==s&&n!==s&&sx(s,e);const a=e[Ii];null!==a&&a.insertView(t),lv(e),e[ne]|=128}(i,e,t,n),r){const s=pI(n,t),a=e[ae],u=hI(a,t[Gr]);null!==u&&function h9(t,e,n,r,i,o){r[ot]=i,r[Zt]=e,Ip(t,r,n,1,i,o)}(i,t[Zt],a,e,u,s)}const o=e[Dn];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(s,i,o,r),e.attachToViewContainerRef(),NR(HI(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=mN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=gl(this._lContainer,n);r&&(Mf(HI(this._lContainer),n),yp(r[H],r))}detach(e){const n=this._adjustIndex(e,-1),r=gl(this._lContainer,n);return r&&null!=Mf(HI(this._lContainer),n)?new Il(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mN(t){return t[8]}function HI(t){return t[8]||(t[8]=[])}let yN=IN,GI=()=>!1;function IN(t,e,n,r){if(t[Gr])return;let i;i=8&n.type?Pe(r):function v8(t,e){const n=t[ae],r=n.createComment(""),i=bn(e,t);return ms(n,hI(n,i),r,function _9(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Gr]=i}function I8(t,e,n){if(t[Gr]&&t[zc])return!0;const r=n[Dn],i=e.index-Z;if(!r||function ol(t){if(il(t))return!0;let e=t.parent;for(;e;){if(il(t)||kv(e))return!0;e=e.parent}return!1}(e)||gs(r,i))return!1;const s=Kv(r,i),a=r.data[al]?.[i],[u,c]=function X5(t,e){const n=[];for(const r of e)for(let i=0;i<(r[up]??1);i++){const o={data:r,firstChild:null};r[za]>0&&(o.firstChild=t,t=Rp(r[za],t)),n.push(o)}return[t,n]}(s,a);return t[Gr]=u,t[zc]=c,!0}function E8(t,e,n,r){GI(t,n,e)||IN(t,e,n,r)}const SN=new Set;function hn(t){SN.has(t)||(SN.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nu(t,e){hn("NgSignals");const n=function d4(t){const e=Object.create(f4);e.value=t;const n=()=>(dy(e),e.value);return n[vr]=e,n}(t),r=n[vr];return e?.equal&&(r.equal=e.equal),n.set=i=>cR(r,i),n.update=i=>function h4(t,e){nR()||uR(),cR(t,e(t.value))}(r,i),n.asReadonly=PN.bind(n),n}function PN(){const t=this[vr];if(void 0===t.readonlyFn){const e=()=>this();e[vr]=t,t.readonlyFn=e}return t.readonlyFn}function MN(t){return function RN(t){return"function"==typeof t&&void 0!==t[vr]}(t)&&"function"==typeof t.set}function Ue(t){let e=function $N(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=kp(t.inputs),s.inputTransforms=kp(t.inputTransforms),s.declaredInputs=kp(t.declaredInputs),s.outputs=kp(t.outputs);const a=i.hostBindings;a&&$8(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&j8(t,u),c&&B8(t,c),L8(t,i),M4(t.outputs,i.outputs),Cr(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Ue&&(n=!1)}}e=Object.getPrototypeOf(e)}!function U8(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$c(i.hostAttrs,n=$c(n,i.hostAttrs))}}(r)}function L8(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];if(void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function kp(t){return t===$r?{}:t===Re?[]:t}function j8(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function B8(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function $8(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function zN(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class ws{}class WN{}class ZI extends ws{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fN(this);const o=cn(e);this._bootstrapComponents=Xn(o.bootstrap),this._r3Injector=WP(e,n,[{provide:ws,useValue:this},{provide:Mp,useValue:this.componentFactoryResolver},...r],Ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class eE extends WN{constructor(e){super(),this.moduleType=e}create(e){return new ZI(this.moduleType,e,[])}}class KN extends ws{constructor(e){super(),this.componentFactoryResolver=new fN(this),this.instance=null;const n=new Ma([...e.providers,{provide:ws,useValue:this},{provide:Mp,useValue:this.componentFactoryResolver}],e.parent||Lf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function tE(t,e,n=null){return new KN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Fp(t){return!!function nE(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Yr(t,e,n){return t[e]=n}function It(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ts(t,e,n,r){const i=It(t,e,n);return It(t,e+1,r)||i}function iu(t){return!(32&~t.flags)}function Nl(t,e,n,r,i,o,s,a,u,c){const d=n+Z,h=e.firstCreatePass?function eW(t,e,n,r,i,o,s,a,u){const c=e.consts,d=ys(e,t,4,s||null,a||null);EI(e,n,d,lr(c,u)),Qf(e,d);const h=d.tView=II(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,e,t,r,i,o,s,a,u):e.data[d];Dr(h,!1);const p=QN(e,t,h,n);Jc()&&vp(e,t,p,h),dn(p,t);const g=Sx(p,t,p,h);return t[d]=g,wp(t,g),function vN(t,e,n){return GI(t,e,n)}(g,h,t),Hf(h)&&yI(e,t,h),null!=u&&vI(t,h,c),h}function hr(t,e,n,r,i,o,s,a){const u=k(),c=ye();return Nl(u,c,t,e,n,r,i,lr(c.consts,o),s,a),hr}let QN=YN;function YN(t,e,n,r){return zr(!0),e[ae].createComment("")}function tW(t,e,n,r){const i=e[Dn],o=!i||ls()||iu(n)||gs(i,r);if(zr(o),o)return YN(0,e);const s=i.data[$v]?.[r]??null;null!==s&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=s);const a=bl(i,t,e,n);return lp(i,r,a),Rp(Qv(i,r),a)}var su=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(su||{});let nO=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=te({token:t,providedIn:"root",factory:()=>new t})}}return t})();class Fl{constructor(){this.ngZone=L(Fe),this.scheduler=L(eu),this.errorHandler=L(Kr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[su.EarlyRead,su.Write,su.MixedReadWrite,su.Read]}execute(){this.executing=!0;for(const e of Fl.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[e])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(const e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=te({token:Fl,providedIn:"root",factory:()=>new Fl})}}function Jr(t,e,n,r){const i=k();return It(i,br(),e)&&(ye(),Qr(Qe(),i,t,e,n,r)),Jr}function pu(t,e,n,r,i,o){const a=Ts(t,function wi(){return ue.lFrame.bindingIndex}(),n,i);return Ti(2),a?e+de(n)+r+de(i)+o:he}function Hp(t,e){return t<<17|e<<2}function yo(t){return t>>17&32767}function pE(t){return 2|t}function Ds(t){return(131068&t)>>2}function gE(t,e){return-131069&t|e<<2}function mE(t){return 1|t}function PO(t,e,n,r){const i=t[n+1],o=null===e;let s=r?yo(i):Ds(i),a=!1;for(;0!==s&&(!1===a||o);){const c=t[s+1];$W(t[s],e)&&(a=!0,t[s+1]=r?mE(c):pE(c)),s=r?yo(c):Ds(c)}a&&(t[n+1]=r?pE(i):mE(i))}function $W(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ra(t,e)>=0}function $t(t,e,n){const r=k();return It(r,br(),e)&&jn(ye(),Qe(),r,t,e,r[ae],n,!1),$t}function _E(t,e,n,r,i){const s=i?"class":"style";DI(t,n,e.inputs[s],s,r)}function Gp(t,e){return function Sr(t,e,n,r){const i=k(),o=ye(),s=Ti(2);o.firstUpdatePass&&function UO(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[en()],s=function LO(t,e){return e>=t.expandoStartIndex}(t,n);(function HO(t,e){return!!(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function JW(t,e,n,r){const i=function mv(t){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ll(n=yE(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=yE(i,t,e,n,r),null===o){let u=function XW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ds(r))return t[yo(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=yE(null,t,e,u[1],r),u=Ll(u,e.attrs,r),function ZW(t,e,n,r){t[yo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function e7(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ll(r,t[o].hostAttrs,n);return Ll(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function jW(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yo(s),u=Ds(s);t[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||Ra(n,d)>0)&&(c=!0)):d=n,i)if(0!==u){const p=yo(t[a+1]);t[r+1]=Hp(p,a),0!==p&&(t[p+1]=gE(t[p+1],r)),t[a+1]=function LW(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Hp(a,0),0!==a&&(t[a+1]=gE(t[a+1],r)),a=r;else t[r+1]=Hp(u,0),0===a?a=r:t[u+1]=gE(t[u+1],r),u=r;c&&(t[r+1]=pE(t[r+1])),PO(t,d,r,!0),PO(t,d,r,!1),function BW(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ra(o,e)>=0&&(n[r+1]=mE(n[r+1]))}(e,d,t,r,o),s=Hp(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==he&&It(i,s,e)&&function BO(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],d=function UW(t){return!(1&~t)}(c)?$O(u,e,n,i,Ds(c),s):void 0;qp(d)||(qp(o)||function VW(t){return!(2&~t)}(c)&&(o=$O(u,null,n,i,a,s)),function I9(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:po.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=po.Important),t.setStyle(n,r,i,o))}}(r,s,Kc(en(),n),i,o))}(o,o.data[en()],i,i[ae],t,i[s+1]=function i7(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ft(fo(t)))),t}(e,n),r,s)}(t,e,null,!0),Gp}function yE(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ll(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ll(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Kn(t,s,!!n||e[++o]))}return void 0===t?null:t}function $O(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let p=n[i+1];p===he&&(p=h?Re:void 0);let g=h?Gy(p,r):d===r?p:void 0;if(c&&!qp(g)&&(g=Gy(u,r)),qp(g)&&(a=g,s))return a;const _=t[i+1];i=s?yo(_):Ds(_)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Gy(u,r))}return a}function qp(t){return void 0!==t}function re(t,e,n,r){const i=k(),o=ye(),s=Z+t,a=i[ae],u=o.firstCreatePass?function A7(t,e,n,r,i,o){const s=e.consts,u=ys(e,t,2,r,lr(s,i));return EI(e,n,u,lr(s,o)),null!==u.attrs&&Np(u,u.attrs,!1),null!==u.mergedAttrs&&Np(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=WO(o,i,u,a,e,t);i[s]=c;const d=Hf(u);return Dr(u,!0),yx(a,c,u),!iu(u)&&Jc()&&vp(o,i,c,u),0===function zz(){return ue.lFrame.elementDepthCount}()&&dn(c,i),function Wz(){ue.lFrame.elementDepthCount++}(),d&&(yI(o,i,u),_I(o,u,i)),null!==r&&vI(i,u),re}function se(){let t=Le();fv()?function pv(){ue.lFrame.isParent=!1}():(t=t.parent,Dr(t,!1));const e=t;(function Qz(t){return ue.skipHydrationRootTNode===t})(e)&&function Zz(){ue.skipHydrationRootTNode=null}(),function Kz(){ue.lFrame.elementDepthCount--}();const n=ye();return n.firstCreatePass&&(Qf(n,t),iv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function f3(t){return!!(8&t.flags)}(e)&&_E(n,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function p3(t){return!!(16&t.flags)}(e)&&_E(n,e,k(),e.stylesWithoutHost,!1),se}function bs(t,e,n,r){return re(t,e,n,r),se(),bs}let WO=(t,e,n,r,i,o)=>(zr(!0),_p(r,i,AP()));function S7(t,e,n,r,i,o){const s=e[Dn],a=!s||ls()||iu(n)||gs(s,o);if(zr(a),a)return _p(r,i,AP());const u=bl(s,t,e,n);return SM(s,o)&&lp(s,o,u.nextSibling),s&&(kv(n)||rM(u))&&us(n)&&(function Jz(t){ue.skipHydrationRootTNode=t}(n),gx(u)),u}let QO=(t,e,n,r)=>(zr(!0),uI(e[ae],""));function M7(t,e,n,r){let i;const o=e[Dn],s=!o||ls()||gs(o,r)||iu(n);if(zr(s),s)return uI(e[ae],"");const a=bl(o,t,e,n),u=function AM(t,e){const n=t.data;let r=n[ap]?.[e]??null;return null===r&&n[al]?.[e]&&(r=Qv(t,e)),r}(o,r);return lp(o,r,a),i=Rp(u,a),i}function As(){return k()}const Ss=void 0;var O7=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function N7(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let wu={};function Sn(t){const e=function k7(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ZO(e);if(n)return n;const r=e.split("-")[0];if(n=ZO(r),n)return n;if("en"===r)return O7;throw new V(701,!1)}function ZO(t){return t in wu||(wu[t]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[t]),wu[t]}var Ye=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ye||{});const Wp="en-US";let ek=Wp,yk=(t,e,n)=>{};function ft(t,e,n,r){const i=k(),o=ye(),s=Le();return bE(o,i,i[ae],s,t,e,r),ft}function bE(t,e,n,r,i,o,s){const a=Hf(r),c=t.firstCreatePass&&function Mx(t){return t.cleanup??=[]}(t),d=e[Ke],h=function Px(t){return t[Oa]??=[]}(e);let p=!0;if(3&r.type||s){const v=bn(r,e),E=s?s(v):v,A=h.length,b=s?$=>s(Pe($[r.index])):r.index;let F=null;if(!s&&a&&(F=function TK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Oa],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,p=!1;else{o=wk(r,e,d,o),yk(v,i,o);const $=n.listen(E,i,o);h.push(o,$),c&&c.push(i,b,A,A+1)}}else o=wk(r,e,d,o);const g=r.outputs;let _;if(p&&null!==g&&(_=g[i])){const v=_.length;if(v)for(let E=0;E<v;E+=2){const Q=e[_[E]][_[E+1]].subscribe(o),Y=h.length;h.push(o,Q),c&&c.push(i,r.index,Y,-(Y+1))}}}function Ek(t,e,n,r){const i=_e(null);try{return qr(6,e,n),!1!==n(r)}catch(o){return Tp(t,o),!1}finally{qr(7,e,n),_e(i)}}function wk(t,e,n,r){return function i(o){if(o===Function)return r;vl(t.componentOffset>-1?Yn(t.index,e):e,5);let a=Ek(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=Ek(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function nn(t=1){return function i3(t){return(ue.lFrame.contextLView=function hP(t,e){for(;t>0;)e=e[ka],t--;return e}(t,ue.lFrame.contextLView))[Ke]}(t)}function Ae(t,e=""){const n=k(),r=ye(),i=t+Z,o=r.firstCreatePass?ys(r,i,1,e,null):r.data[i],s=Gk(r,n,o,e,t);n[i]=s,Jc()&&vp(r,n,s,o),Dr(o,!1)}let Gk=(t,e,n,r,i)=>(zr(!0),aI(e[ae],r));function $K(t,e,n,r,i){const o=e[Dn],s=!o||ls()||iu(n)||gs(o,i);return zr(s),s?aI(e[ae],r):bl(o,t,e,n)}function vo(t){return Jp("",t,""),vo}function Jp(t,e,n){const r=k(),i=function fu(t,e,n,r){return It(t,br(),n)?e+de(n)+r:he}(r,t,e,n);return i!==he&&Di(r,en(),i),Jp}function RE(t,e,n,r,i){const o=k(),s=pu(o,t,e,n,r,i);return s!==he&&Di(o,en(),s),RE}function Pr(t,e,n){MN(e)&&(e=e());const r=k();return It(r,br(),e)&&jn(ye(),Qe(),r,t,e,r[ae],n,!1),Pr}function ei(t,e){const n=MN(t);return n&&t.set(e),n}function Mr(t,e){const n=k(),r=ye(),i=Le();return bE(r,n,n[ae],i,t,e),Mr}function PE(t,e,n,r,i){if(t=oe(t),Array.isArray(t))for(let o=0;o<t.length;o++)PE(t[o],e,n,r,i);else{const o=ye(),s=k(),a=Le();let u=ss(t)?t:oe(t.provide);const c=QR(t),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(ss(t)||!t.multi){const g=new Xc(c,i,B),_=xE(u,e,i?d:d+p,h);-1===_?(bv(Zf(a,s),o,u),ME(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{const g=xE(u,e,d+p,h),_=xE(u,e,d,d+p),E=_>=0&&n[_];if(i&&!E||!i&&!(g>=0&&n[g])){bv(Zf(a,s),o,u);const A=function QK(t,e,n,r,i){const o=new Xc(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,e1(o,i,r&&!n),o}(i?KK:WK,n.length,i,r,c);!i&&E&&(n[_].providerFactory=A),ME(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else ME(o,t,g>-1?g:_,e1(n[i?_:g],c,!i&&r));!i&&r&&E&&n[_].componentProviders++}}}function ME(t,e,n,r){const i=ss(e),o=function Iz(t){return!!t.useClass}(e);if(i||o){const u=(o?oe(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,u]):c[d+1].push(r,u)}else c.push(n,u)}}}function e1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function WK(t,e,n,r){return NE(this.multi,[])}function KK(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=fs(n,n[H],this.providerFactory.index,r);o=a.slice(0,s),NE(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],NE(i,o);return o}function NE(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function at(t,e=[]){return n=>{n.providersResolver=(r,i)=>function zK(t,e,n){const r=ye();if(r.firstCreatePass){const i=Cr(t);PE(n,r.data,r.blueprint,i,!0),PE(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let YK=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ky(0,n.type),i=r.length>0?tE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=te({token:t,providedIn:"environment",factory:()=>new t(pe(Qn))})}}return t})();function Io(t){hn("NgStandalone"),t.getStandaloneInjector=e=>e.get(YK).getOrCreateStandaloneInjector(t)}function Gl(t,e,n){const r=An()+t,i=k();return i[r]===he?Yr(i,r,n?e.call(n):e()):function xl(t,e){return t[e]}(i,r)}function o1(t,e,n,r,i,o,s){const a=e+n;return Ts(t,a,i,o)?Yr(t,a+2,s?r.call(s,i,o):r(i,o)):function ql(t,e){const n=t[e];return n===he?void 0:n}(t,a+2)}function eg(t,e){const n=ye();let r;const i=t+Z;n.firstCreatePass?(r=function cQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=os(r.type)),a=Fn(B);try{const u=Xf(!1),c=o();return Xf(u),function SE(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,k(),i,c),c}finally{Fn(a)}}function tg(t,e,n,r){const i=t+Z,o=k(),s=function cs(t,e){return t[e]}(o,i);return function zl(t,e){return t[H].data[e].pure}(o,i)?o1(o,An(),e,s.transform,n,r,s):s.transform(n,r)}let LE=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const S1=new q("");function Yl(t){return!!t&&"function"==typeof t.then}function R1(t){return!!t&&"function"==typeof t.subscribe}const uY=new q("");let P1=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(uY,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Yl(o))n.push(o);else if(R1(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Jl=new q("");let sg,xr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L($3),this.afterRenderManager=L(nO),this.zonelessEnabled=L(tu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qn,this.afterTick=new qn,this.componentTypes=[],this.components=[],this.isStable=L(ps).hasPendingTasks.pipe(ke(n=>!n)),this._injector=L(Qn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof cN;if(!this._injector.get(P1).done)throw!i&&function oo(t){const e=ve(t)||Vt(t)||Xt(t);return null!==e&&e.standalone}(n),new V(405,!1);let s;s=i?n:this._injector.get(Mp).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function cY(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ws),c=s.create(tn.NULL,[],r||s.selector,a),d=c.location.nativeElement,h=c.injector.get(S1,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),og(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);const n=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(jI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)hY(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Gf(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;og(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Jl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>og(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function og(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function HE(t){sg??=new WeakMap;const e=sg.get(t);if(e)return e;const n=t.isStable.pipe(Zi(r=>r)).toPromise().then(()=>{});return sg.set(t,n),t.onDestroy(()=>sg?.delete(t)),n}function hY(t,e,n,r){(n||Gf(t))&&Cp(t,e,n&&!r?0:1)}class fY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let pY=(()=>{class t{compileModuleSync(n){return new eE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Xn(cn(n).declarations).reduce((s,a)=>{const u=ve(a);return u&&s.push(new Pl(u)),s},[]);return new fY(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_Y=(()=>{class t{constructor(){this.zone=L(Fe),this.changeDetectionScheduler=L(eu),this.applicationRef=L(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const yY=new q("",{factory:()=>!1});function GE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Fe({...qE(),scheduleInRootZone:n}),[{provide:Fe,useFactory:t},{provide:Ir,multi:!0,useFactory:()=>{const r=L(_Y,{optional:!0});return()=>r.initialize()}},{provide:Ir,multi:!0,useFactory:()=>{const r=L(IY);return()=>{r.initialize()}}},!0===e?{provide:uN,useValue:!0}:[],{provide:UI,useValue:n??QP}]}function qE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let IY=(()=>{class t{constructor(){this.subscription=new Cn,this.initialized=!1,this.zone=L(Fe),this.pendingTasks=L(ps)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xl=(()=>{class t{constructor(){this.appRef=L(xr),this.taskService=L(ps),this.ngZone=L(Fe),this.zonelessEnabled=L(tu),this.disableScheduling=L(uN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Cn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ip):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(UI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?JP:YP;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ip+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,JP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Eo=new q("",{providedIn:"root",factory:()=>L(Eo,Ie.Optional|Ie.SkipSelf)||function EY(){return typeof $localize<"u"&&$localize.locale||Wp}()}),ag=new q("");function ug(t){return!t.moduleRef}let wo=null;let Zl=(()=>{class t{static{this.__NG_ELEMENT_ID__=MY}}return t})();function MY(t){return function xY(t,e,n){if(us(t)&&!n){const r=Yn(t.index,e);return new Il(r,r)}return 175&t.type?new Il(e[st],e):null}(Le(),k(),!(16&~t))}class z1{constructor(){}supports(e){return Fp(e)}create(e){return new VY(e)}}const FY=(t,e)=>e;class VY{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FY}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<K1(r,i,o)?n:r,a=K1(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=u-i;if(c!=d){for(let p=0;p<c;p++){const g=p<o.length?o[p]:o[p]=0,_=g+p;d<=_&&_<c&&(o[p]=g+1)}o[s.previousIndex]=d-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Fp(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function X8(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new LY(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new W1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new W1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class LY{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class W1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new UY,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Y1(){return new XE([new z1])}let XE=(()=>{class t{static{this.\u0275prov=te({token:t,providedIn:"root",factory:Y1})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Y1()),deps:[[t,new $y,new By]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new V(901,!1)}}return t})();function tJ(t){try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,i=function PY(t=[]){if(wo)return wo;const e=function j1(t=[],e){return tn.create({name:e,providers:[{provide:Jy,useValue:"platform"},{provide:ag,useValue:new Set([()=>wo=null])},...t]})}(t);return wo=e,function M1(){!function l4(t){aR=t}(()=>{throw new V(600,!1)})}(),function B1(t){t.get(wM,null)?.forEach(n=>n())}(e),e}(r),o=[GE({}),{provide:eu,useExisting:Xl},...n||[]];return function V1(t){const e=ug(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Fe);return n.run(()=>{ug(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(Kr,null);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ug(t)){const o=()=>e.destroy(),s=t.platformInjector.get(ag);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ag);s.add(o),t.moduleRef.onDestroy(()=>{og(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function dY(t,e,n){try{const r=n();return Yl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(r,n,()=>{const o=e.get(P1);return o.runInitializers(),o.donePromise.then(()=>{if(function U7(t){"string"==typeof t&&(ek=t.toLowerCase().replace(/_/g,"-"))}(e.get(Eo,Wp)||Wp),ug(t)){const a=e.get(xr);return void 0!==t.rootComponent&&a.bootstrap(t.rootComponent),a}return function AY(t,e){const n=t.injector.get(xr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new V(-403,!1);t.instance.ngDoBootstrap(n)}e.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new KN({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}let yF=!1;function IJ(){return Pa([{provide:dp,useFactory:()=>{let t=!0;return Zn()&&(t=!!L(Ga,{optional:!0})?.get(qv,null)),t&&hn("NgHydration"),t}},{provide:Ir,useValue:()=>{(function rN(t){tN=t})(!1),Zn()&&L(dp)&&(function EJ(){const t=lo();let e;for(const n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&"nghm"===n.textContent?.trim()){e=n;break}if(!e)throw new V(-507,!1)}(),function _J(){yF||(yF=!0,function y6(){CM=_6}(),function R7(){WO=S7}(),function HK(){Gk=$K}(),function x7(){QO=M7}(),function nW(){QN=tW}(),function w8(){yN=E8,GI=I8}(),function e8(){aN=Z5}(),function S9(){Tx=A9}())}())},multi:!0},{provide:xM,useFactory:()=>Zn()&&L(dp)},{provide:Jl,useFactory:()=>{if(Zn()&&L(dp)){const t=L(xr);return L(tn),()=>{(function vJ(t){return HE(t)})(t).then(()=>{!function J5(t){const e=t._views;for(const n of e){const r=DM(n);null!==r&&null!==r[ot]&&(Ut(r)?Pp(r):sN(r))}}(t)})}}return()=>{}},multi:!0}])}function Du(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function rd(t,e){hn("NgSignals");const n=function a4(t){const e=Object.create(u4);e.computation=t;const n=()=>{if(eR(e),dy(e),e.value===_f)throw e.error;return e.value};return n[vr]=e,n}(t);return e?.equal&&(n[vr].equal=e.equal),n}function ti(t){const e=_e(null);try{return t()}finally{_e(e)}}let IF=null;function To(){return IF}class RJ{}const ni=new q("");let EF=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>L(PJ),providedIn:"platform"})}}return t})(),PJ=(()=>{class t extends EF{constructor(){super(),this._doc=L(ni),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return To().getBaseHref(this._doc)}onPopState(n){const r=To().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=To().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function wF(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function TF(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ps(t){return t&&"?"!==t[0]?"?"+t:t}let yg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>L(xJ),providedIn:"root"})}}return t})();const MJ=new q("");let xJ=(()=>{class t extends yg{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(ni).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wF(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ps(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ps(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ps(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(pe(EF),pe(MJ,8))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),id=(()=>{class t{constructor(n){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function kJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(TF(CF(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ps(r))}normalize(n){return t.stripTrailingSlash(function OJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,CF(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ps(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ps(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ps}static{this.joinWithSlash=wF}static{this.stripTrailingSlash=TF}static{this.\u0275fac=function(r){return new(r||t)(pe(yg))}}static{this.\u0275prov=te({token:t,factory:()=>function NJ(){return new id(pe(yg))}(),providedIn:"root"})}}return t})();function CF(t){return t.replace(/\/index.html$/,"")}var Pn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Pn||{}),He=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(He||{}),tr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(tr||{});const Pt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ig(t,e){return pr(Sn(t)[Ye.DateFormat],e)}function Eg(t,e){return pr(Sn(t)[Ye.TimeFormat],e)}function wg(t,e){return pr(Sn(t)[Ye.DateTimeFormat],e)}function fr(t,e){const n=Sn(t),r=n[Ye.NumberSymbols][e];if(typeof r>"u"){if(e===Pt.CurrencyDecimal)return n[Ye.NumberSymbols][Pt.Decimal];if(e===Pt.CurrencyGroup)return n[Ye.NumberSymbols][Pt.Group]}return r}function bF(t){if(!t[Ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function nw(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const QJ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tg={},YJ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Si=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Si||{}),Ne=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ne||{}),Oe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Oe||{});function JJ(t,e,n,r){let i=function sX(t){if(RF(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return Cg(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(QJ))return function aX(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(r)}const e=new Date(t);if(!RF(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Ri(n,e)||e;let a,s=[];for(;e;){if(a=YJ.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;e=d}}let u=i.getTimezoneOffset();r&&(u=SF(r,u),i=function oX(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function iX(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(SF(e,i)-i))}(i,r,!0));let c="";return s.forEach(d=>{const h=function rX(t){if(iw[t])return iw[t];let e;switch(t){case"G":case"GG":case"GGG":e=Je(Oe.Eras,He.Abbreviated);break;case"GGGG":e=Je(Oe.Eras,He.Wide);break;case"GGGGG":e=Je(Oe.Eras,He.Narrow);break;case"y":e=Mt(Ne.FullYear,1,0,!1,!0);break;case"yy":e=Mt(Ne.FullYear,2,0,!0,!0);break;case"yyy":e=Mt(Ne.FullYear,3,0,!1,!0);break;case"yyyy":e=Mt(Ne.FullYear,4,0,!1,!0);break;case"Y":e=Sg(1);break;case"YY":e=Sg(2,!0);break;case"YYY":e=Sg(3);break;case"YYYY":e=Sg(4);break;case"M":case"L":e=Mt(Ne.Month,1,1);break;case"MM":case"LL":e=Mt(Ne.Month,2,1);break;case"MMM":e=Je(Oe.Months,He.Abbreviated);break;case"MMMM":e=Je(Oe.Months,He.Wide);break;case"MMMMM":e=Je(Oe.Months,He.Narrow);break;case"LLL":e=Je(Oe.Months,He.Abbreviated,Pn.Standalone);break;case"LLLL":e=Je(Oe.Months,He.Wide,Pn.Standalone);break;case"LLLLL":e=Je(Oe.Months,He.Narrow,Pn.Standalone);break;case"w":e=rw(1);break;case"ww":e=rw(2);break;case"W":e=rw(1,!0);break;case"d":e=Mt(Ne.Date,1);break;case"dd":e=Mt(Ne.Date,2);break;case"c":case"cc":e=Mt(Ne.Day,1);break;case"ccc":e=Je(Oe.Days,He.Abbreviated,Pn.Standalone);break;case"cccc":e=Je(Oe.Days,He.Wide,Pn.Standalone);break;case"ccccc":e=Je(Oe.Days,He.Narrow,Pn.Standalone);break;case"cccccc":e=Je(Oe.Days,He.Short,Pn.Standalone);break;case"E":case"EE":case"EEE":e=Je(Oe.Days,He.Abbreviated);break;case"EEEE":e=Je(Oe.Days,He.Wide);break;case"EEEEE":e=Je(Oe.Days,He.Narrow);break;case"EEEEEE":e=Je(Oe.Days,He.Short);break;case"a":case"aa":case"aaa":e=Je(Oe.DayPeriods,He.Abbreviated);break;case"aaaa":e=Je(Oe.DayPeriods,He.Wide);break;case"aaaaa":e=Je(Oe.DayPeriods,He.Narrow);break;case"b":case"bb":case"bbb":e=Je(Oe.DayPeriods,He.Abbreviated,Pn.Standalone,!0);break;case"bbbb":e=Je(Oe.DayPeriods,He.Wide,Pn.Standalone,!0);break;case"bbbbb":e=Je(Oe.DayPeriods,He.Narrow,Pn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Je(Oe.DayPeriods,He.Abbreviated,Pn.Format,!0);break;case"BBBB":e=Je(Oe.DayPeriods,He.Wide,Pn.Format,!0);break;case"BBBBB":e=Je(Oe.DayPeriods,He.Narrow,Pn.Format,!0);break;case"h":e=Mt(Ne.Hours,1,-12);break;case"hh":e=Mt(Ne.Hours,2,-12);break;case"H":e=Mt(Ne.Hours,1);break;case"HH":e=Mt(Ne.Hours,2);break;case"m":e=Mt(Ne.Minutes,1);break;case"mm":e=Mt(Ne.Minutes,2);break;case"s":e=Mt(Ne.Seconds,1);break;case"ss":e=Mt(Ne.Seconds,2);break;case"S":e=Mt(Ne.FractionalSeconds,1);break;case"SS":e=Mt(Ne.FractionalSeconds,2);break;case"SSS":e=Mt(Ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=bg(Si.Short);break;case"ZZZZZ":e=bg(Si.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=bg(Si.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=bg(Si.Long);break;default:return null}return iw[t]=e,e}(d);c+=h?h(i,n,u):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Cg(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ri(t,e){const n=function VJ(t){return Sn(t)[Ye.LocaleId]}(t);if(Tg[n]??={},Tg[n][e])return Tg[n][e];let r="";switch(e){case"shortDate":r=Ig(t,tr.Short);break;case"mediumDate":r=Ig(t,tr.Medium);break;case"longDate":r=Ig(t,tr.Long);break;case"fullDate":r=Ig(t,tr.Full);break;case"shortTime":r=Eg(t,tr.Short);break;case"mediumTime":r=Eg(t,tr.Medium);break;case"longTime":r=Eg(t,tr.Long);break;case"fullTime":r=Eg(t,tr.Full);break;case"short":const i=Ri(t,"shortTime"),o=Ri(t,"shortDate");r=Dg(wg(t,tr.Short),[i,o]);break;case"medium":const s=Ri(t,"mediumTime"),a=Ri(t,"mediumDate");r=Dg(wg(t,tr.Medium),[s,a]);break;case"long":const u=Ri(t,"longTime"),c=Ri(t,"longDate");r=Dg(wg(t,tr.Long),[u,c]);break;case"full":const d=Ri(t,"fullTime"),h=Ri(t,"fullDate");r=Dg(wg(t,tr.Full),[d,h])}return r&&(Tg[n][e]=r),r}function Dg(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Nr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Mt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function ZJ(t,e){switch(t){case Ne.FullYear:return e.getFullYear();case Ne.Month:return e.getMonth();case Ne.Date:return e.getDate();case Ne.Hours:return e.getHours();case Ne.Minutes:return e.getMinutes();case Ne.Seconds:return e.getSeconds();case Ne.FractionalSeconds:return e.getMilliseconds();case Ne.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Ne.Hours)0===a&&-12===n&&(a=12);else if(t===Ne.FractionalSeconds)return function XJ(t,e){return Nr(t,3).substring(0,e)}(a,e);const u=fr(s,Pt.MinusSign);return Nr(a,e,u,r,i)}}function Je(t,e,n=Pn.Format,r=!1){return function(i,o){return function eX(t,e,n,r,i,o){switch(n){case Oe.Months:return function jJ(t,e,n){const r=Sn(t),o=pr([r[Ye.MonthsFormat],r[Ye.MonthsStandalone]],e);return pr(o,n)}(e,i,r)[t.getMonth()];case Oe.Days:return function UJ(t,e,n){const r=Sn(t),o=pr([r[Ye.DaysFormat],r[Ye.DaysStandalone]],e);return pr(o,n)}(e,i,r)[t.getDay()];case Oe.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const c=function GJ(t){const e=Sn(t);return bF(e),(e[Ye.ExtraData][2]||[]).map(r=>"string"==typeof r?nw(r):[nw(r[0]),nw(r[1])])}(e),d=function qJ(t,e,n){const r=Sn(t);bF(r);const o=pr([r[Ye.ExtraData][0],r[Ye.ExtraData][1]],e)||[];return pr(o,n)||[]}(e,i,r),h=c.findIndex(p=>{if(Array.isArray(p)){const[g,_]=p,v=s>=g.hours&&a>=g.minutes,E=s<_.hours||s===_.hours&&a<_.minutes;if(g.hours<_.hours){if(v&&E)return!0}else if(v||E)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==h)return d[h]}return function LJ(t,e,n){const r=Sn(t),o=pr([r[Ye.DayPeriodsFormat],r[Ye.DayPeriodsStandalone]],e);return pr(o,n)}(e,i,r)[s<12?0:1];case Oe.Eras:return function BJ(t,e){return pr(Sn(t)[Ye.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function bg(t){return function(e,n,r){const i=-1*r,o=fr(n,Pt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Si.Short:return(i>=0?"+":"")+Nr(s,2,o)+Nr(Math.abs(i%60),2,o);case Si.ShortGMT:return"GMT"+(i>=0?"+":"")+Nr(s,1,o);case Si.Long:return"GMT"+(i>=0?"+":"")+Nr(s,2,o)+":"+Nr(Math.abs(i%60),2,o);case Si.Extended:return 0===r?"Z":(i>=0?"+":"")+Nr(s,2,o)+":"+Nr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const tX=0,Ag=4;function AF(t){const e=t.getDay(),n=0===e?-3:Ag-e;return Cg(t.getFullYear(),t.getMonth(),t.getDate()+n)}function rw(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=AF(n),s=function nX(t){const e=Cg(t,tX,1).getDay();return Cg(t,0,1+(e<=Ag?Ag:Ag+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Nr(i,t,fr(r,Pt.MinusSign))}}function Sg(t,e=!1){return function(n,r){return Nr(AF(n).getFullYear(),t,fr(r,Pt.MinusSign),e)}}const iw={};function SF(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function RF(t){return t instanceof Date&&!isNaN(t.valueOf())}class wX{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dw=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wX(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),kF(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{kF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(B(Ar),B(bi),B(XE))}}static{this.\u0275dir=ce({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function kF(t,e){t.context.$implicit=e.item}let sd=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new TX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){FF("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){FF("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(B(Ar),B(bi))}}static{this.\u0275dir=ce({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class TX{constructor(){this.$implicit=null,this.ngIf=null}}function FF(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ft(e)}'.`)}const FX=new q(""),VX=new q("");let LF=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return JJ(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Or(t,e){return new V(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||t)(B(Eo,16),B(FX,24),B(VX,24))}}static{this.\u0275pipe=Ln({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),ad=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Hc({type:t})}static{this.\u0275inj=ba({})}}return t})();const WX="server";function mw(t){return t===WX}function Iw(t){return t[t.length-1]}function JF(t){return Ze(Iw(t))?t.pop():void 0}function Ng(t){return function TZ(t){return t&&Ze(t.schedule)}(Iw(t))?t.pop():void 0}function Og(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Co(t){return this instanceof Co?(this.v=t,this):new Co(t)}function tV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Cw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nV=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rV(t){return Ze(t?.then)}function iV(t){return Ze(t[by])}function oV(t){return Symbol.asyncIterator&&Ze(t?.[Symbol.asyncIterator])}function sV(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const aV=function QZ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function uV(t){return Ze(t?.[aV])}function cV(t){return function eV(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(_){return Promise.resolve(_).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,_){r[g]&&(i[g]=function(v){return new Promise(function(E,A){o.push([g,v,E,A])>1||u(g,v)})},_&&(i[g]=_(i[g])))}function u(g,_){try{!function c(g){g.value instanceof Co?Promise.resolve(g.value.v).then(d,h):p(o[0][2],g)}(r[g](_))}catch(v){p(o[0][3],v)}}function d(g){u("next",g)}function h(g){u("throw",g)}function p(g,_){g(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Co(n.read());if(i)return yield Co(void 0);yield yield Co(r)}}finally{n.releaseLock()}})}function lV(t){return Ze(t?.getReader)}function ri(t){if(t instanceof Ot)return t;if(null!=t){if(iV(t))return function YZ(t){return new Ot(e=>{const n=t[by]();if(Ze(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(nV(t))return function JZ(t){return new Ot(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(rV(t))return function XZ(t){return new Ot(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pR)})}(t);if(oV(t))return dV(t);if(uV(t))return function ZZ(t){return new Ot(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(lV(t))return function eee(t){return dV(cV(t))}(t)}throw sV(t)}function dV(t){return new Ot(e=>{(function tee(t,e){var n,r,i,o;return function XF(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=tV(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Pi(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hV(t,e=0){return Jt((n,r)=>{n.subscribe(kt(r,i=>Pi(r,t,()=>r.next(i),e),()=>Pi(r,t,()=>r.complete(),e),i=>Pi(r,t,()=>r.error(i),e)))})}function fV(t,e=0){return Jt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pV(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ot(n=>{Pi(n,e,()=>{const r=t[Symbol.asyncIterator]();Pi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fn(t,e){return e?function aee(t,e){if(null!=t){if(iV(t))return function nee(t,e){return ri(t).pipe(fV(e),hV(e))}(t,e);if(nV(t))return function iee(t,e){return new Ot(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(rV(t))return function ree(t,e){return ri(t).pipe(fV(e),hV(e))}(t,e);if(oV(t))return pV(t,e);if(uV(t))return function oee(t,e){return new Ot(n=>{let r;return Pi(n,e,()=>{r=t[aV](),Pi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ze(r?.return)&&r.return()})}(t,e);if(lV(t))return function see(t,e){return pV(cV(t),e)}(t,e)}throw sV(t)}(t,e):ri(t)}function fe(...t){return fn(t,Ng(t))}function pn(t,e,n){const r=Ze(t)||e||n?{next:t,error:e,complete:n}:t;return r?Jt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(kt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):is}class Ms{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ms?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ms;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ms?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}var bw=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(bw||{});class Aw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ms,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Fg extends Aw{constructor(e={}){super(e),this.type=bw.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}const Eee=new q(""),Nee=new q(""),RV="b",PV="h",MV="s",xV="st",NV="u",OV="rt",Lg=new q(""),Oee=["GET","HEAD"];function kee(t,e){const{isCacheActive:n,...r}=L(Lg),{transferCache:i,method:o}=t;if(!n||!1===i||"POST"===o&&!r.includePostRequests&&!i||"POST"!==o&&!Oee.includes(o)||!r.includeRequestsWithAuthHeaders&&function Fee(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}(t)||!1===r.filter?.(t))return e(t);const s=L(Ga),a=L(Nee,{optional:!0}),u=mw(L(ho));if(a&&!u)throw new V(2803,!1);const c=u&&a?function Bee(t,e){const n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}(t.url,a):t.url,d=function Lee(t,e){const{params:n,method:r,responseType:i}=t,o=kV(n);let s=t.serializeBody();s instanceof URLSearchParams?s=kV(s):"string"!=typeof s&&(s="");const u=function Uee(t){let e=0;for(const n of t)e=Math.imul(31,e)+n.charCodeAt(0)|0;return e+=2147483648,e.toString()}([r,i,e,s,o].join("|"));return u}(t,c),h=s.get(d,null);let p=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(p=i.includeHeaders),h){const{[RV]:g,[OV]:_,[PV]:v,[MV]:E,[xV]:A,[NV]:b}=h;let F=g;switch(_){case"arraybuffer":F=(new TextEncoder).encode(g).buffer;break;case"blob":F=new Blob([g])}let $=new Ms(v);return fe(new Fg({body:F,headers:$,status:E,statusText:A,url:b}))}return e(t).pipe(pn(g=>{g instanceof Fg&&u&&s.set(d,{[RV]:g.body,[PV]:Vee(g.headers,p),[MV]:g.status,[xV]:g.statusText,[NV]:c,[OV]:t.responseType})}))}function Vee(t,e){if(!e)return{};const n={};for(const r of e){const i=t.getAll(r);null!==i&&(n[r]=i)}return n}function kV(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function jee(t){return[{provide:Lg,useFactory:()=>(hn("NgHttpTransferCache"),{isCacheActive:!0,...t})},{provide:Eee,useValue:kee,multi:!0,deps:[Ga,Lg]},{provide:Jl,multi:!0,useFactory:()=>{const e=L(xr),n=L(Lg);return()=>{HE(e).then(()=>{n.isCacheActive=!1})}}}]}class $ee extends RJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pw extends $ee{static makeCurrent(){!function SJ(t){IF??=t}(new Pw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Hee(){return dd=dd||document.querySelector("base"),dd?dd.getAttribute("href"):null}();return null==n?null:function Gee(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){dd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vX(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let dd=null,zee=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac})}}return t})();const Mw=new q("");let FV=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(pe(Mw),pe(Fe))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac})}}return t})();class VV{constructor(e){this._doc=e}}const xw="ng-app-id";let LV=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mw(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${xw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(xw),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(xw,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(pe(ni),pe(sl),pe(TM,8),pe(ho))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac})}}return t})();const Nw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ow=/%COMP%/g,Yee=new q("",{providedIn:"root",factory:()=>!0});function jV(t,e){return e.map(n=>n.replace(Ow,t))}let BV=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=mw(a),this.defaultRenderer=new kw(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Er.ShadowDom&&(r={...r,encapsulation:Er.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof HV?i.applyToHost(n):i instanceof Fw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Er.Emulated:o=new HV(u,c,r,this.appId,d,s,a,h);break;case Er.ShadowDom:return new ete(u,c,n,r,s,a,this.nonce,h);default:o=new Fw(u,c,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(pe(FV),pe(LV),pe(sl),pe(Yee),pe(ni),pe(ho),pe(Fe),pe(TM))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac})}}return t})();class kw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($V(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($V(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Nw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Nw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(po.DashCase|po.Important)?e.style.setProperty(n,r,i&po.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&po.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=To().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function $V(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class ete extends kw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=jV(i.id,i.styles);for(const d of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fw extends kw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?jV(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class HV extends Fw{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function Jee(t){return"_ngcontent-%COMP%".replace(Ow,t)}(c),this.hostAttr=function Xee(t){return"_nghost-%COMP%".replace(Ow,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}const GV=["alt","control","meta","shift"],nte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function qV(t){return{appProviders:[...dte,...t?.providers??[]],platformProviders:cte}}const cte=[{provide:ho,useValue:"browser"},{provide:wM,useValue:function ste(){Pw.makeCurrent()},multi:!0},{provide:ni,useFactory:function ute(){return function l6(t){Uv=t}(document),document},deps:[]}],dte=[{provide:Jy,useValue:"root"},{provide:Kr,useFactory:function ate(){return new Kr},deps:[]},{provide:Mw,useClass:(()=>{class t extends VV{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(pe(ni))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[ni,Fe,ho]},{provide:Mw,useClass:(()=>{class t extends VV{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>To().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),GV.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=nte[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GV.forEach(s=>{s!==i&&(0,rte[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(pe(ni))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[ni]},BV,LV,FV,{provide:jI,useExisting:BV},{provide:class QX{},useClass:zee,deps:[]},[]];let hte=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(pe(ni))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ns=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(Ns||{});const{isArray:yte}=Array,{getPrototypeOf:vte,prototype:Ite,keys:Ete}=Object;function KV(t){if(1===t.length){const e=t[0];if(yte(e))return{args:e,keys:null};if(function wte(t){return t&&"object"==typeof t&&vte(t)===Ite}(e)){const n=Ete(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Tte}=Array;function QV(t){return ke(e=>function Cte(t,e){return Tte(e)?t(...e):t(e)}(t,e))}function YV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function JV(...t){const e=Ng(t),n=JF(t),{args:r,keys:i}=KV(t);if(0===r.length)return fn([],e);const o=new Ot(function Dte(t,e,n=is){return r=>{XV(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)XV(e,()=>{const c=fn(t[u],e);let d=!1;c.subscribe(kt(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>YV(i,s):is));return n?o.pipe(QV(n)):o}function XV(t,e,n){t?Pi(n,t,e):e()}function Mn(t,e,n=1/0){return Ze(e)?Mn((r,i)=>ke((o,s)=>e(r,o,i,s))(ri(t(r,i))),n):("number"==typeof e&&(n=e),Jt((r,i)=>function bte(t,e,n,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const p=()=>{h&&!u.length&&!c&&e.complete()},g=v=>c<r?_(v):u.push(v),_=v=>{o&&e.next(v),c++;let E=!1;ri(n(v,d++)).subscribe(kt(e,A=>{i?.(A),o?g(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const A=u.shift();s?Pi(e,s,()=>_(A)):_(A)}p()}catch(A){e.error(A)}}))};return t.subscribe(kt(e,g,()=>{h=!0,p()})),()=>{a?.()}}(r,i,t,n)))}function Lw(...t){return function Ate(){return function Vw(t=1/0){return Mn(is,t)}(1)}()(fn(t,Ng(t)))}function ZV(t){return new Ot(e=>{ri(t()).subscribe(e)})}function jg(t,e){const n=Ze(t)?t:()=>t,r=i=>i.error(n());return new Ot(e?i=>e.schedule(r,0,i):r)}function Uw(){return Jt((t,e)=>{let n=null;t._refCount++;const r=kt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class eL extends Ot{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yR(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Cn;const n=this.getSubject();e.add(this.source.subscribe(kt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Cn.EMPTY)}return e}refCount(){return Uw()(this)}}function Mi(t,e){return Jt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(kt(r,u=>{i?.unsubscribe();let c=0;const d=o++;ri(t(u,d)).subscribe(i=kt(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Bg(t,e){return Ze(e)?Mn(t,e,1):Mn(t,1)}function Su(t){return Jt((e,n)=>{let o,r=null,i=!1;r=e.subscribe(kt(n,void 0,void 0,s=>{o=ri(t(s,Su(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function jw(t){return t<=0?()=>Br:Jt((e,n)=>{let r=[];e.subscribe(kt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bw(t){return Jt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const me="primary",hd=Symbol("RouteTitle");class Ote{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ru(t){return new Ote(t)}function kte(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ii(t,e){const n=t?$w(t):void 0,r=e?$w(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!tL(t[i],e[i]))return!1;return!0}function $w(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function nL(t){return t.length>0?t[t.length-1]:null}function bo(t){return function _te(t){return!!t&&(t instanceof Ot||Ze(t.lift)&&Ze(t.subscribe))}(t)?t:Yl(t)?fn(Promise.resolve(t)):fe(t)}const Vte={exact:function oL(t,e,n){if(!ks(t.segments,e.segments)||!$g(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!oL(t.children[r],e.children[r],n))return!1;return!0},subset:sL},rL={exact:function Lte(t,e){return ii(t,e)},subset:function Ute(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tL(t[n],e[n]))},ignored:()=>!0};function iL(t,e,n){return Vte[n.paths](t.root,e.root,n.matrixParams)&&rL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function sL(t,e,n){return aL(t,e,e.segments,n)}function aL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ks(i,n)||e.hasChildren()||!$g(i,n,r))}if(t.segments.length===n.length){if(!ks(t.segments,n)||!$g(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!sL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(ks(t.segments,i)&&$g(t.segments,i,r)&&t.children[me])&&aL(t.children[me],e,o,r)}}function $g(t,e,n){return e.every((r,i)=>rL[n](t[i].parameters,r.parameters))}class Os{constructor(e=new Be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ru(this.queryParams),this._queryParamMap}toString(){return $te.serialize(this)}}class Be{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gg(this)}}class fd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ru(this.parameters),this._parameterMap}toString(){return lL(this)}}function ks(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Pu=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>new Hg,providedIn:"root"})}}return t})();class Hg{parse(e){const n=new Zte(e);return new Os(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${pd(e.root,!0)}`,r=function qte(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qg(n)}=${qg(i)}`).join("&"):`${qg(n)}=${qg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Hte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const $te=new Hg;function Gg(t){return t.segments.map(e=>lL(e)).join("/")}function pd(t,e){if(!t.hasChildren())return Gg(t);if(e){const n=t.children[me]?pd(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${pd(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Bte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===me?[pd(t.children[me],!1)]:[`${i}:${pd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[me]?`${Gg(t)}/${n[0]}`:`${Gg(t)}/(${n.join("//")})`}}function uL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qg(t){return uL(t).replace(/%3B/gi,";")}function Hw(t){return uL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zg(t){return decodeURIComponent(t)}function cL(t){return zg(t.replace(/\+/g,"%20"))}function lL(t){return`${Hw(t.path)}${function Gte(t){return Object.entries(t).map(([e,n])=>`;${Hw(e)}=${Hw(n)}`).join("")}(t.parameters)}`}const zte=/^[^\/()?;#]+/;function Gw(t){const e=t.match(zte);return e?e[0]:""}const Wte=/^[^\/()?;=#]+/,Qte=/^[^=?&#]+/,Jte=/^[^&#]+/;class Zte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Be(e,n)),r}parseSegment(){const e=Gw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new fd(zg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Kte(t){const e=t.match(Wte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Gw(this.remaining);i&&(r=i,this.capture(r))}e[zg(n)]=zg(r)}parseQueryParam(e){const n=function Yte(t){const e=t.match(Qte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Xte(t){const e=t.match(Jte);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=cL(n),o=cL(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[me]:new Be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}}function dL(t){return t.segments.length>0?new Be([],{[me]:t}):t}function hL(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=hL(i);if(r===me&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ene(t){if(1===t.numberOfChildren&&t.children[me]){const e=t.children[me];return new Be(t.segments.concat(e.segments),e.children)}return t}(new Be(t.segments,e))}function Fs(t){return t instanceof Os}function fL(t){let e;const i=dL(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new Be(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function pL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return qw(i,i,i,n,r);const o=function nne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mL(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new mL(n,e,r)}(e);if(o.toRoot())return qw(i,i,new Be([],{}),n,r);const s=function rne(t,e,n){if(t.isAbsolute)return new Kg(e,!0,0);if(!n)return new Kg(e,!1,NaN);if(null===n.parent)return new Kg(n,!0,0);const r=Wg(t.commands[0])?0:1;return function ine(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Kg(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?md(s.segmentGroup,s.index,o.commands):_L(s.segmentGroup,s.index,o.commands);return qw(i,s.segmentGroup,a,n,r)}function Wg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gd(t){return"object"==typeof t&&null!=t&&t.outlets}function qw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?n:gL(t,e,n);const a=dL(hL(s));return new Os(a,o,i)}function gL(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:gL(o,e,n)}),new Be(t.segments,r)}class mL{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wg(r[0]))throw new V(4003,!1);const i=r.find(gd);if(i&&i!==nL(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function _L(t,e,n){if(t??=new Be([],{}),0===t.segments.length&&t.hasChildren())return md(t,e,n);const r=function sne(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(gd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!vL(u,c,s))return o;r+=2}else{if(!vL(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Be(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new Be(t.segments.slice(r.pathIndex),t.children),md(o,0,i)}return r.match&&0===i.length?new Be(t.segments,{}):r.match&&!t.hasChildren()?zw(t,e,n):r.match?md(t,0,i):zw(t,e,n)}function md(t,e,n){if(0===n.length)return new Be(t.segments,{});{const r=function one(t){return gd(t[0])?t[0].outlets:{[me]:t}}(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&1===t.numberOfChildren&&0===t.children[me].segments.length){const o=md(t.children[me],e,n);return new Be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=_L(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Be(t.segments,i)}}function zw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(gd(o)){const u=ane(o.outlets);return new Be(r,u)}if(0===i&&Wg(n[0])){r.push(new fd(t.segments[e].path,yL(n[0]))),i++;continue}const s=gd(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wg(a)?(r.push(new fd(s,yL(a))),i+=2):(r.push(new fd(s,{})),i++)}return new Be(r,{})}function ane(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=zw(new Be([],{}),0,r))}),e}function yL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vL(t,e,n){return t==n.path&&ii(e,n.parameters)}const _d="imperative";var De=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(De||{});class oi{constructor(e,n){this.id=e,this.url=n}}class Ww extends oi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=De.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ao extends oi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=De.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var nr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(nr||{}),Kw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Kw||{});class Vs extends oi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yd extends oi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationSkipped}}class Qw extends oi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=De.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IL extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class une extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cne extends oi{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=De.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lne extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dne extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hne{constructor(e){this.route=e,this.type=De.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fne{constructor(e){this.route=e,this.type=De.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pne{constructor(e){this.snapshot=e,this.type=De.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gne{constructor(e){this.snapshot=e,this.type=De.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mne{constructor(e){this.snapshot=e,this.type=De.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _ne{constructor(e){this.snapshot=e,this.type=De.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yw{}class Qg{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function kr(t){return t.outlet||me}function vd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Tne{get injector(){return vd(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Id(this.rootInjector),this.attachRef=null}}let Id=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Tne(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(pe(Qn))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class EL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Jw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Jw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Xw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xw(e,this._root).map(n=>n.value)}}function Jw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Jw(t,n);if(r)return r}return null}function Xw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Xw(t,n);if(r.length)return r.unshift(e),r}return[]}class Fr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Mu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class wL extends EL{constructor(e,n){super(e),this.snapshot=n,Zw(this,e)}toString(){return this.snapshot.toString()}}function TL(t){const e=function Cne(t){const o=new Jg([],{},{},"",{},me,t,null,{});return new CL("",new Fr(o,[]))}(t),n=new ar([new fd("",{})]),r=new ar({}),i=new ar({}),o=new ar({}),s=new ar(""),a=new xu(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new wL(new Fr(a,[]),e)}class xu{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ke(c=>c[hd]))??fe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ke(e=>Ru(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ke(e=>Ru(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yg(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&bL(i)&&(r.resolve[hd]=i.title),r}class Jg{get title(){return this.data?.[hd]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ru(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ru(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CL extends EL{constructor(e,n){super(n),this.url=e,Zw(this,n)}toString(){return DL(this._root)}}function Zw(t,e){e.value._routerState=t,e.children.forEach(n=>Zw(t,n))}function DL(t){const e=t.children.length>0?` { ${t.children.map(DL).join(", ")} } `:"";return`${t.value}${e}`}function eT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ii(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ii(e.params,n.params)||t.paramsSubject.next(n.params),function Fte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ii(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ii(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tT(t,e){const n=ii(t.params,e.params)&&function jte(t,e){return ks(t,e)&&t.every((n,r)=>ii(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||tT(t.parent,e.parent))}function bL(t){return"string"==typeof t.title||null===t.title}let nT=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=L(Id),this.location=L(Ar),this.changeDetector=L(Zl),this.inputBinder=L(Xg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new rT(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ce({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]})}}return t})();class rT{__ngOutletInjector(e){return new rT(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xu?this.route:e===Id?this.childContexts:this.parent.get(e,n)}}const Xg=new q("");function Ed(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function bne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ed(t,r,i);return Ed(t,r)})}(t,e,n);return new Fr(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ed(t,a)),s}}const r=function Ane(t){return new xu(new ar(t.url),new ar(t.params),new ar(t.queryParams),new ar(t.fragment),new ar(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Ed(t,o));return new Fr(r,i)}}class iT{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const SL="ngNavigationCancelingError";function Zg(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RL(!1,nr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function RL(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[SL]=!0,n.cancellationCode=e,n}function PL(t){return!!t&&t[SL]}class Pne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),eT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Mu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Mu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _ne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(eT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eT(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class ML{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class em{constructor(e,n){this.component=e,this.route=n}}function Mne(t,e,n){const r=t._root;return wd(r,e?e._root:null,n,[r.value])}function Nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function V4(t){return null!==bf(t)}(t)?e.get(t):t:r}function wd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Mu(e);return t.children.forEach(s=>{(function Nne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function One(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ks(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ks(t.url,e.url)||!ii(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tT(t,e)||!ii(t.queryParams,e.queryParams);default:return!tT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ML(r)):(o.data=s.data,o._resolvedData=s._resolvedData),wd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new em(a.outlet.component,s))}else s&&Td(e,a,i),i.canActivateChecks.push(new ML(r)),wd(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Td(a,n.getContext(s),i)),i}function Td(t,e,n){const r=Mu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Td(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new em(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Cd(t){return"function"==typeof t}function xL(t){return t instanceof wf||"EmptyError"===t?.name}const tm=Symbol("INITIAL_VALUE");function Ou(){return Mi(t=>JV(t.map(e=>e.pipe(Ea(1),function Ste(...t){const e=Ng(t);return Jt((n,r)=>{(e?Lw(t,n,e):Lw(t,n)).subscribe(r)})}(tm)))).pipe(ke(e=>{for(const n of e)if(!0!==n){if(n===tm)return tm;if(!1===n||Bne(n))return n}return!0}),Xi(e=>e!==tm),Ea(1)))}function Bne(t){return Fs(t)||t instanceof iT}function NL(t){return function C4(...t){return gR(t)}(pn(e=>{if("boolean"!=typeof e)throw Zg(0,e)}),ke(e=>!0===e))}class oT{constructor(e){this.segmentGroup=e||null}}class nm extends Error{constructor(e){super(),this.urlTree=e}}function ku(t){return jg(new oT(t))}class ere{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return fe(r);if(i.numberOfChildren>1||!i.children[me])return jg(new V(4e3,!1));i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){if("string"!=typeof n){const a=n,{queryParams:u,fragment:c,routeConfig:d,url:h,outlet:p,params:g,data:_,title:v}=i,E=so(o,()=>a({params:g,data:_,queryParams:u,fragment:c,routeConfig:d,url:h,outlet:p,title:v}));if(E instanceof Os)throw new nm(E);n=E}const s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if("/"===n[0])throw new nm(s);return s}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Os(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Be(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const sT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tre(t,e,n,r,i){const o=OL(t,e,n);return o.matched?(r=function yne(t,e){return t.providers&&!t._injector&&(t._injector=tE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Jne(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?fe(i.map(s=>{const a=Nu(s,t);return bo(function jne(t){return t&&Cd(t.canMatch)}(a)?a.canMatch(e,n):so(t,()=>a(e,n)))})).pipe(Ou(),NL()):fe(!0)}(r,e,n).pipe(ke(s=>!0===s?o:{...sT}))):fe(o)}function OL(t,e,n){if("**"===e.path)return function nre(t){return{matched:!0,parameters:t.length>0?nL(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...sT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||kte)(n,t,e);if(!i)return{...sT};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function kL(t,e,n,r){return n.length>0&&function ore(t,e,n){return n.some(r=>rm(t,e,r)&&kr(r)!==me)}(t,n,r)?{segmentGroup:new Be(e,ire(r,new Be(n,t.children))),slicedSegments:[]}:0===n.length&&function sre(t,e,n){return n.some(r=>rm(t,e,r))}(t,n,r)?{segmentGroup:new Be(t.segments,rre(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Be(t.segments,t.children),slicedSegments:n}}function rre(t,e,n,r){const i={};for(const o of n)if(rm(t,e,o)&&!r[kr(o)]){const s=new Be([],{});i[kr(o)]=s}return{...r,...i}}function ire(t,e){const n={};n[me]=e;for(const r of t)if(""===r.path&&kr(r)!==me){const i=new Be([],{});n[kr(r)]=i}return n}function rm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class ure{}class dre{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ere(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){const e=kL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ke(({children:n,rootSnapshot:r})=>{const i=new Fr(r,n),o=new CL("",i),s=function tne(t,e,n=null,r=null){return pL(fL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const n=new Jg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(ke(r=>({children:r,rootSnapshot:n})),Su(r=>{if(r instanceof nm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oT?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ke(s=>s instanceof Fr?[s]:[]))}processChildren(e,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return fn(o).pipe(Bg(s=>{const a=r.children[s],u=function wne(t,e){const n=t.filter(r=>kr(r)===e);return n.push(...t.filter(r=>kr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,u,a,s,i)}),function Pte(t,e){return Jt(function Rte(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(kt(s,d=>{const h=c++;u=a?t(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Tf(null),function Mte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xi((i,o)=>t(i,o,r)):is,jw(1),n?Tf(e):vR(()=>new wf))}(),Mn(s=>{if(null===s)return ku(r);const a=FL(s);return function hre(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}(a),fe(a)}))}processSegment(e,n,r,i,o,s,a){return fn(n).pipe(Bg(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Su(c=>{if(c instanceof oT)return fe(null);throw c}))),Zi(u=>!!u),Su(u=>{if(xL(u))return function are(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?fe(new ure):ku(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return kr(r)===s||s!==me&&rm(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ku(i):ku(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){const{matched:u,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:p}=OL(n,i,o);if(!u)return ku(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new Jg(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VL(i),kr(i),i.component??i._loadedComponent??null,i,LL(i)),_=Yg(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);const v=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Mn(E=>this.processSegment(e,r,n,E.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){const a=tre(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(Mi(u=>u.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Mi(({routes:c})=>{const d=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=u,_=new Jg(p,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,VL(r),kr(r),r.component??r._loadedComponent??null,r,LL(r)),v=Yg(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);const{segmentGroup:E,slicedSegments:A}=kL(n,p,g,c);if(0===A.length&&E.hasChildren())return this.processChildren(d,c,E,_).pipe(ke(F=>new Fr(_,F)));if(0===c.length&&0===A.length)return fe(new Fr(_,[]));const b=kr(r)===o;return this.processSegment(d,c,E,A,b?me:o,!0,_).pipe(ke(F=>new Fr(_,F instanceof Fr?[F]:[])))})):ku(n)))}getChildConfig(e,n,r){return n.children?fe({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?fe({routes:n._loadedRoutes,injector:n._loadedInjector}):function Yne(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?fe(!0):fe(i.map(s=>{const a=Nu(s,t);return bo(function Fne(t){return t&&Cd(t.canLoad)}(a)?a.canLoad(e,n):so(t,()=>a(e,n)))})).pipe(Ou(),NL())}(e,n,r).pipe(Mn(i=>i?this.configLoader.loadChildren(e,n).pipe(pn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Zne(){return jg(RL(!1,nr.GuardRejected))}())):fe({routes:[],injector:e})}}function fre(t){const e=t.value.routeConfig;return e&&""===e.path}function FL(t){const e=[],n=new Set;for(const r of t){if(!fre(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=FL(r.children);e.push(new Fr(r.value,i))}return e.filter(r=>!n.has(r))}function VL(t){return t.data||{}}function LL(t){return t.resolve||{}}function UL(t){const e=t.children.map(n=>UL(n)).flat();return[t,...e]}function aT(t){return Mi(e=>{const n=t(e);return n?fn(n).pipe(ke(()=>e)):fe(e)})}let jL=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(n){return n.data[hd]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>L(vre),providedIn:"root"})}}return t})(),vre=(()=>{class t extends jL{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(pe(hte))}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Dd=new q("",{providedIn:"root",factory:()=>({})});let BL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=io({type:t,selectors:[["ng-component"]],standalone:!0,features:[Io],decls:1,vars:0,template:function(r,i){1&r&&bs(0,"router-outlet")},dependencies:[nT],encapsulation:2})}}return t})();function uT(t){const e=t.children&&t.children.map(uT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=BL),n}const im=new q("");let $L=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(pY)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return fe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=bo(n.loadComponent()).pipe(ke(HL),pn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Bw(()=>{this.componentLoaders.delete(n)})),i=new eL(r,()=>new qn).pipe(Uw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return fe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Ire(t,e,n,r){return bo(t.loadChildren()).pipe(ke(HL),Mn(i=>i instanceof WN||Array.isArray(i)?fe(i):fn(e.compileModuleAsync(i))),ke(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(im,[],{optional:!0,self:!0}).flat()),{routes:s.map(uT),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Bw(()=>{this.childrenLoaders.delete(r)})),s=new eL(o,()=>new qn).pipe(Uw());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function HL(t){return function Ere(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let cT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>L(wre),providedIn:"root"})}}return t})(),wre=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const GL=new q(""),zL=new q("");let om=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qn,this.transitionAbortSubject=new qn,this.configLoader=L($L),this.environmentInjector=L(Qn),this.urlSerializer=L(Pu),this.rootContexts=L(Id),this.location=L(id),this.inputBindingEnabled=null!==L(Xg,{optional:!0}),this.titleStrategy=L(jL),this.options=L(Dd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(cT),this.createViewTransition=L(GL,{optional:!0}),this.navigationErrorHandler=L(zL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>fe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new fne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new hne(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new ar({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_d,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xi(o=>0!==o.id),ke(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mi(o=>{let s=!1,a=!1;return fe(o).pipe(Mi(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nr.SupersededByNewNavigation),Br;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:"string"==typeof u.extras.browserUrl?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new yd(u.id,this.urlSerializer.serialize(u.rawUrl),h,Kw.IgnoredSameUrlNavigation)),u.resolve(!1),Br}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return fe(u).pipe(Mi(h=>{const p=this.transitions?.getValue();return this.events.next(new Ww(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Br:Promise.resolve(h)}),function pre(t,e,n,r,i,o){return Mn(s=>function cre(t,e,n,r,i,o,s="emptyOnly"){return new dre(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(ke(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),pn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new IL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:_,extras:v}=u,E=new Ww(h,this.urlSerializer.serialize(p),g,_);this.events.next(E);const A=TL(this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:A,urlAfterRedirects:p,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=p,fe(o)}{const h="";return this.events.next(new yd(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Kw.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Br}}),pn(u=>{const c=new une(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),ke(u=>(this.currentTransition=o={...u,guards:Mne(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function $ne(t,e){return Mn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?fe({...n,guardsResult:!0}):function Hne(t,e,n,r){return fn(t).pipe(Mn(i=>function Qne(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?fe(o.map(a=>{const u=vd(e)??i,c=Nu(a,u);return bo(function Une(t){return t&&Cd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):so(u,()=>c(t,e,n,r))).pipe(Zi())})).pipe(Ou()):fe(!0)}(i.component,i.route,n,e,r)),Zi(i=>!0!==i,!0))}(s,r,i,t).pipe(Mn(a=>a&&function kne(t){return"boolean"==typeof t}(a)?function Gne(t,e,n,r){return fn(e).pipe(Bg(i=>Lw(function zne(t,e){return null!==t&&e&&e(new pne(t)),fe(!0)}(i.route.parent,r),function qne(t,e){return null!==t&&e&&e(new mne(t)),fe(!0)}(i.route,r),function Kne(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function xne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>ZV(()=>fe(s.guards.map(u=>{const c=vd(s.node)??n,d=Nu(u,c);return bo(function Lne(t){return t&&Cd(t.canActivateChild)}(d)?d.canActivateChild(r,t):so(c,()=>d(r,t))).pipe(Zi())})).pipe(Ou())));return fe(o).pipe(Ou())}(t,i.path,n),function Wne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return fe(!0);const i=r.map(o=>ZV(()=>{const s=vd(e)??n,a=Nu(o,s);return bo(function Vne(t){return t&&Cd(t.canActivate)}(a)?a.canActivate(e,t):so(s,()=>a(e,t))).pipe(Zi())}));return fe(i).pipe(Ou())}(t,i.route,n))),Zi(i=>!0!==i,!0))}(r,o,t,e):fe(a)),ke(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),pn(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&"boolean"!=typeof u.guardsResult)throw Zg(0,u.guardsResult);const c=new cne(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Xi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",nr.GuardRejected),!1)),aT(u=>{if(u.guards.canActivateChecks.length)return fe(u).pipe(pn(c=>{const d=new lne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Mi(c=>{let d=!1;return fe(c).pipe(function gre(t,e){return Mn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return fe(n);const o=new Set(i.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const c of UL(u))s.add(c);let a=0;return fn(s).pipe(Bg(u=>o.has(u)?function mre(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!bL(i)&&(o[hd]=i.title),function _re(t,e,n,r){const i=$w(t);if(0===i.length)return fe({});const o={};return fn(i).pipe(Mn(s=>function yre(t,e,n,r){const i=vd(e)??r,o=Nu(t,i);return bo(o.resolve?o.resolve(e,n):so(i,()=>o(e,n)))}(t[s],e,n,r).pipe(Zi(),pn(a=>{if(a instanceof iT)throw Zg(new Hg,a);o[s]=a}))),jw(1),function xte(t){return ke(()=>t)}(o),Su(s=>xL(s)?Br:jg(s)))}(o,t,e,r).pipe(ke(s=>(t._resolvedData=s,t.data=Yg(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=Yg(u,u.parent,t).resolve,fe(void 0))),pn(()=>a++),jw(1),Mn(u=>a===s.size?fe(n):Br))})}(this.paramsInheritanceStrategy,this.environmentInjector),pn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",nr.NoDataFromResolver)}}))}),pn(c=>{const d=new dne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),aT(u=>{const c=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(pn(p=>{d.component=p}),ke(()=>{})));for(const p of d.children)h.push(...c(p));return h};return JV(c(u.targetSnapshot.root)).pipe(Tf(null),Ea(1))}),aT(()=>this.afterPreactivation()),Mi(()=>{const{currentSnapshot:u,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return d?fn(d).pipe(ke(()=>o)):fe(o)}),ke(u=>{const c=function Dne(t,e,n){const r=Ed(t,e._root,n?n._root:void 0);return new wL(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),pn(()=>{this.events.next(new Yw)}),((t,e,n,r)=>ke(i=>(new Pne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ea(1),pn({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ao(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function Nte(t){return Jt((e,n)=>{ri(t).subscribe(kt(n,()=>n.complete(),Iy)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(pn(u=>{throw u}))),Bw(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",nr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Su(u=>{if(a=!0,PL(u))this.events.next(new Vs(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function Sne(t){return PL(t)&&Fs(t.url)}(u)?this.events.next(new Qg(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{const c=new Qw(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{const d=so(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof iT){const{message:h,cancellationCode:p}=Zg(0,d);this.events.next(new Vs(o.id,this.urlSerializer.serialize(o.extractedUrl),h,p)),this.events.next(new Qg(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(c);const h=n.errorHandler(u);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Br}))}))}cancelNavigationTransition(n,r,i){const o=new Vs(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dre(t){return t!==_d}let bre=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>L(Sre),providedIn:"root"})}}return t})();class Are{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Sre=(()=>{class t extends Are{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=qt(t)))(i||t)}})()}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:()=>L(Rre),providedIn:"root"})}}return t})(),Rre=(()=>{class t extends WL{constructor(){super(...arguments),this.location=L(id),this.urlSerializer=L(Pu),this.options=L(Dd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(cT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Os,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=TL(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ww)this.stateMemento=this.createStateMemento();else if(n instanceof yd)this.rawUrlTree=r.initialUrl;else if(n instanceof IL){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Yw?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Vs&&(n.code===nr.GuardRejected||n.code===nr.NoDataFromResolver)?this.restoreHistory(r):n instanceof Qw?this.restoreHistory(r,!0):n instanceof Ao&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=n instanceof Os?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&0===o&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=qt(t)))(i||t)}})()}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bd||{});function Pre(t){throw t}const Mre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(LE),this.stateManager=L(WL),this.options=L(Dd,{optional:!0})||{},this.pendingTasks=L(ps),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(om),this.urlSerializer=L(Pu),this.location=L(id),this.urlHandlingStrategy=L(cT),this._events=new qn,this.errorHandler=this.options.errorHandler||Pre,this.navigated=!1,this.routeReuseStrategy=L(bre),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(im,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(Xg,{optional:!0}),this.eventsSubscription=new Cn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Vs&&r.code!==nr.Redirect&&r.code!==nr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ao)this.navigated=!0;else if(r instanceof Qg){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Dre(i.source),...s};this.scheduleNavigation(a,_d,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Ore(t){return!(t instanceof Yw||t instanceof Qg)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_d,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(uT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=fL(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return pL(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Fs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_d,null,r)}navigate(n,r={skipLocationChange:!1}){return function Nre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new V(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Mre}:!1===r?{...xre}:r,Fs(n))return iL(this.currentUrlTree,n,i);const o=this.parseUrl(n);return iL(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,u=p});const d=this.pendingTasks.add();return function KL(t,e){t.events.pipe(Xi(n=>n instanceof Ao||n instanceof Vs||n instanceof Qw||n instanceof yd),ke(n=>n instanceof Ao||n instanceof yd?bd.COMPLETE:n instanceof Vs&&(n.code===nr.Redirect||n.code===nr.SupersededByNewNavigation)?bd.REDIRECTING:bd.FAILED),Xi(n=>n!==bd.REDIRECTING),Ea(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ad=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new qn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Fs(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function QM(t,e,n){return function Y6(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?KM:WM}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.routerLinkInput?null:Fs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(B(Vr),B(xu),function tl(t){return function v3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(VR(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Le(),t)}("tabindex"),B(Ai),B(Jn),B(yg))}}static{this.\u0275dir=ce({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ft("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Jr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Du],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Du],replaceUrl:[2,"replaceUrl","replaceUrl",Du],routerLink:"routerLink"},standalone:!0,features:[zN,cr]})}}return t})();const lT=new q("");function YL(t){return t.routerState.root}function JL(){const t=L(tn);return e=>{const n=t.get(xr);if(e!==n.components[0])return;const r=t.get(Vr),i=t.get(XL);1===t.get(dT)&&r.initialNavigation(),t.get(ZL,null,Ie.Optional)?.setUpPreloading(),t.get(lT,null,Ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const XL=new q("",{factory:()=>new qn}),dT=new q("",{providedIn:"root",factory:()=>1}),ZL=new q("");let t2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(B(Ai),B(Jn))}}static{this.\u0275dir=ce({type:t})}}return t})(),Ls=(()=>{class t extends t2{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=qt(t)))(i||t)}})()}static{this.\u0275dir=ce({type:t,features:[Ue]})}}return t})();const ai=new q(""),qre={provide:ai,useExisting:We(()=>Fu),multi:!0},Wre=new q("");let Fu=(()=>{class t extends t2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zre(){const t=To()?To().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Ai),B(Jn),B(Wre,8))}}static{this.\u0275dir=ce({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ft("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[at([qre]),Ue]})}}return t})();const gn=new q(""),Ro=new q("");function s2(t){return function So(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function sm(t){return null}function h2(t){return null!=t}function f2(t){return Yl(t)?fn(t):t}function p2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function g2(t,e){return e.map(n=>n(t))}function m2(t){return t.map(e=>function Qre(t){return!t.validate}(e)?e:n=>e.validate(n))}function hT(t){return null!=t?function _2(t){if(!t)return null;const e=t.filter(h2);return 0==e.length?null:function(n){return p2(g2(n,e))}}(m2(t)):null}function fT(t){return null!=t?function y2(t){if(!t)return null;const e=t.filter(h2);return 0==e.length?null:function(n){return function Hre(...t){const e=JF(t),{args:n,keys:r}=KV(t),i=new Ot(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;ri(n[d]).subscribe(kt(o,p=>{h||(h=!0,c--),a[d]=p},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?YV(r,a):a),o.complete())}))}});return e?i.pipe(QV(e)):i}(g2(n,e).map(f2)).pipe(ke(p2))}}(m2(t)):null}function v2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pT(t){return t?Array.isArray(t)?t:[t]:[]}function am(t,e){return Array.isArray(t)?t.includes(e):t===e}function w2(t,e){const n=pT(e);return pT(t).forEach(i=>{am(n,i)||n.push(i)}),n}function T2(t,e){return pT(e).filter(n=>!am(t,n))}class C2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class xn extends C2{get formDirective(){return null}get path(){return null}}class Po extends C2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class D2{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let um=(()=>{class t extends D2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Po,2))}}static{this.\u0275dir=ce({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Gp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ue]})}}return t})(),gT=(()=>{class t extends D2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(B(xn,10))}}static{this.\u0275dir=ce({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Gp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ue]})}}return t})();const Sd="VALID",lm="INVALID",Vu="PENDING",Rd="DISABLED";class Lu{}class A2 extends Lu{constructor(e,n){super(),this.value=e,this.source=n}}class yT extends Lu{constructor(e,n){super(),this.pristine=e,this.source=n}}class vT extends Lu{constructor(e,n){super(),this.touched=e,this.source=n}}class dm extends Lu{constructor(e,n){super(),this.status=e,this.source=n}}function IT(t){return(hm(t)?t.validators:t)||null}function ET(t,e){return(hm(e)?e.asyncValidators:t)||null}function hm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class wT{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=rd(()=>this.statusReactive()),this.statusReactive=nu(void 0),this._pristine=rd(()=>this.pristineReactive()),this.pristineReactive=nu(!0),this._touched=rd(()=>this.touchedReactive()),this.touchedReactive=nu(!1),this._events=new qn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ti(this.statusReactive)}set status(e){ti(()=>this.statusReactive.set(e))}get valid(){return this.status===Sd}get invalid(){return this.status===lm}get pending(){return this.status==Vu}get disabled(){return this.status===Rd}get enabled(){return this.status!==Rd}get pristine(){return ti(this.pristineReactive)}set pristine(e){ti(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ti(this.touchedReactive)}set touched(e){ti(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(w2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(w2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(T2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(T2(e,this._rawAsyncValidators))}hasValidator(e){return am(this._rawValidators,e)}hasAsyncValidator(e){return am(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new vT(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new vT(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new yT(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new yT(!0,r))}markAsPending(e={}){this.status=Vu;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new dm(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new A2(this.value,r)),this._events.next(new dm(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sd||this.status===Vu)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new A2(this.value,n)),this._events.next(new dm(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rd:Sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Vu,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=f2(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new dm(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?Rd:this.errors?lm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vu)?Vu:this._anyControlsHaveStatus(lm)?lm:Sd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new yT(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new vT(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function nie(t){return Array.isArray(t)?hT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function rie(t){return Array.isArray(t)?fT(t):t||null}(this._rawAsyncValidators)}}class TT extends wT{constructor(e,n,r){super(IT(n),ET(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function R2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new V(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function S2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Uu=new q("CallSetDisabledState",{providedIn:"root",factory:()=>fm}),fm="always";function Pd(t,e,n=fm){CT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function sie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&P2(t,e)})}(t,e),function uie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function aie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&P2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function oie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function CT(t,e){const n=function I2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(v2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function E2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(v2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();mm(e._rawValidators,i),mm(e._rawAsyncValidators,i)}function P2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const fie={provide:xn,useExisting:We(()=>xd)},Md=Promise.resolve();let xd=(()=>{class t extends xn{get submitted(){return ti(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=rd(()=>this.submittedReactive()),this.submittedReactive=nu(!1),this._directives=new Set,this.ngSubmit=new ht,this.form=new TT({},hT(n),fT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Md.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Pd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Md.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Md.then(()=>{const r=this._findContainer(n.path),i=new TT({});(function M2(t,e){CT(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Md.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Md.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),function x2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(B(gn,10),B(Ro,10),B(Uu,8))}}static{this.\u0275dir=ce({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ft("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([fie]),Ue]})}}return t})();function N2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function O2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const k2=class extends wT{constructor(e=null,n,r){super(IT(n),ET(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=O2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){N2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){N2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){O2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},mie={provide:Po,useExisting:We(()=>Nd)},L2=Promise.resolve();let Nd=(()=>{class t extends Po{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new k2,this._registered=!1,this.name="",this.update=new ht,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function AT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Fu?n=o:function die(t){return Object.getPrototypeOf(t.constructor)===Ls}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function bT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){L2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Du(r);L2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function pm(t,e){return[...e.path,t]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(B(xn,9),B(gn,10),B(Ro,10),B(ai,10),B(Zl,8),B(Uu,8))}}static{this.\u0275dir=ce({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[at([mie]),Ue,cr]})}}return t})(),ST=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ce({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Us=(()=>{class t{constructor(){this._validator=sm}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ce({type:t,features:[cr]})}}return t})();const Oie={provide:gn,useExisting:We(()=>Od),multi:!0};let Od=(()=>{class t extends Us{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Du,this.createValidator=n=>s2}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=qt(t)))(i||t)}})()}static{this.\u0275dir=ce({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Jr("required",i._enabled?"":null)},inputs:{required:"required"},features:[at([Oie]),Ue]})}}return t})(),jie=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Hc({type:t})}static{this.\u0275inj=ba({})}}return t})(),OT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Uu,useValue:n.callSetDisabledState??fm}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Hc({type:t})}static{this.\u0275inj=ba({imports:[jie]})}}return t})();function rU(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function I(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){rU(o,r,i,s,a,"next",u)}function a(u){rU(o,r,i,s,a,"throw",u)}s(void 0)})}}const iU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},oU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let p=(15&a)<<2|c>>6,g=63&c;u||(g=64,s||(p=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new qie;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ym=function(t){return function(t){const e=iU(t);return oU.encodeByteArray(e,!0)}(t).replace(/\./g,"")},vm=function(t){try{return oU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Im=()=>{try{return function Kie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vm(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},aU=t=>{var e,n;return null===(n=null===(e=Im())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},uU=()=>{var t;return null===(t=Im())||void 0===t?void 0:t.config},cU=t=>{var e;return null===(e=Im())||void 0===e?void 0:e[`_${t}`]};class lU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function FT(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Em(){try{return"object"==typeof indexedDB}catch{return!1}}function VT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function hU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,js.prototype.create)}}class js{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function aoe(t,e){return t.replace(uoe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Lr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const uoe=/\{\$([^}]+)}/g;function Bs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(pU(o)&&pU(s)){if(!Bs(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pU(t){return null!==t&&"object"==typeof t}function kd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Vd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class doe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function hoe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=LT),void 0===i.error&&(i.error=LT),void 0===i.complete&&(i.complete=LT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LT(){}const foe=1e3,poe=2,goe=144e5,moe=.5;function gU(t,e=foe,n=poe){const r=e*Math.pow(n,t),i=Math.round(moe*r*(Math.random()-.5)*2);return Math.min(goe,r+i)}function pt(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class yoe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Ioe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return I(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===$s?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Eoe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yoe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const jT=[];var we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{});const mU={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},woe=we.INFO,Toe={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Coe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Toe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Tm{constructor(e){this.name=e,this._logLevel=woe,this._logHandler=Coe,this._userLogHandler=null,jT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?mU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const Doe=(t,e)=>e.some(n=>t instanceof n);let _U,yU;const vU=new WeakMap,BT=new WeakMap,IU=new WeakMap,$T=new WeakMap,HT=new WeakMap;let GT={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return BT.get(t);if("objectStoreNames"===e)return t.objectStoreNames||IU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function xoe(t){return"function"==typeof t?function Moe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Aoe(){return yU||(yU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(qT(this),e),Mo(vU.get(this))}:function(...e){return Mo(t.apply(qT(this),e))}:function(e,...n){const r=t.call(qT(this),e,...n);return IU.set(r,e.sort?e.sort():[e]),Mo(r)}}(t):(t instanceof IDBTransaction&&function Roe(t){if(BT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});BT.set(t,e)}(t),Doe(t,function boe(){return _U||(_U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,GT):t)}function Mo(t){if(t instanceof IDBRequest)return function Soe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&vU.set(n,t)}).catch(()=>{}),HT.set(e,t),e}(t);if($T.has(t))return $T.get(t);const e=xoe(t);return e!==t&&($T.set(t,e),HT.set(e,t)),e}const qT=t=>HT.get(t);function EU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Mo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Mo(s.result),u.oldVersion,u.newVersion,Mo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Noe=["get","getKey","getAll","getAllKeys","count"],Ooe=["put","add","delete","clear"],zT=new Map;function wU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(zT.get(e))return zT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ooe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Noe.includes(n))return;const o=function(){var s=I(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return zT.set(e,o),o}!function Poe(t){GT=t(GT)}(t=>({...t,get:(e,n,r)=>wU(e,n)||t.get(e,n,r),has:(e,n)=>!!wU(e,n)||t.has(e,n)}));class koe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Foe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Cm="@firebase/app",WT="0.10.15",xi=new Tm("@firebase/app"),Voe="@firebase/app-compat",Loe="@firebase/analytics-compat",Uoe="@firebase/analytics",joe="@firebase/app-check-compat",Boe="@firebase/app-check",$oe="@firebase/auth",Hoe="@firebase/auth-compat",Goe="@firebase/database",qoe="@firebase/data-connect",zoe="@firebase/database-compat",Woe="@firebase/functions",Koe="@firebase/functions-compat",Qoe="@firebase/installations",Yoe="@firebase/installations-compat",Joe="@firebase/messaging",Xoe="@firebase/messaging-compat",Zoe="@firebase/performance",ese="@firebase/performance-compat",tse="@firebase/remote-config",nse="@firebase/remote-config-compat",rse="@firebase/storage",ise="@firebase/storage-compat",ose="@firebase/firestore",sse="@firebase/vertexai",ase="@firebase/firestore-compat",use="firebase",Dm="[DEFAULT]",lse={[Cm]:"fire-core",[Voe]:"fire-core-compat",[Uoe]:"fire-analytics",[Loe]:"fire-analytics-compat",[Boe]:"fire-app-check",[joe]:"fire-app-check-compat",[$oe]:"fire-auth",[Hoe]:"fire-auth-compat",[Goe]:"fire-rtdb",[qoe]:"fire-data-connect",[zoe]:"fire-rtdb-compat",[Woe]:"fire-fn",[Koe]:"fire-fn-compat",[Qoe]:"fire-iid",[Yoe]:"fire-iid-compat",[Joe]:"fire-fcm",[Xoe]:"fire-fcm-compat",[Zoe]:"fire-perf",[ese]:"fire-perf-compat",[tse]:"fire-rc",[nse]:"fire-rc-compat",[rse]:"fire-gcs",[ise]:"fire-gcs-compat",[ose]:"fire-fst",[ase]:"fire-fst-compat",[sse]:"fire-vertex","fire-js":"fire-js",[use]:"fire-js-all"},Hs=new Map,Ld=new Map,Ud=new Map;function TU(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){const e=t.name;if(Ud.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,t);for(const n of Hs.values())TU(n,t);for(const n of Ld.values())TU(n,t);return!0}function xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ni(t){return void 0!==t.settings}const gr=new js("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class CU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const ju="11.0.1";function DU(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=uU()),!n)throw gr.create("no-options");const o=Hs.get(i);if(o){if(Bs(n,o.options)&&Bs(r,o.config))return o;throw gr.create("duplicate-app",{appName:i})}const s=new Eoe(i);for(const u of Ud.values())s.addComponent(u);const a=new CU(n,r,s);return Hs.set(i,a),a}function KT(t=Dm){const e=Hs.get(t);if(!e&&t===Dm&&uU())return DU();if(!e)throw gr.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let i=null!==(r=lse[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void xi.warn(a.join(" "))}ui(new Ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gse="firebase-heartbeat-database",mse=1,jd="firebase-heartbeat-store";let YT=null;function bU(){return YT||(YT=EU(gse,mse,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(jd)}catch(n){console.warn(n)}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),YT}function JT(){return(JT=I(function*(t){try{const n=(yield bU()).transaction(jd),r=yield n.objectStore(jd).get(SU(t));return yield n.done,r}catch(e){if(e instanceof Lr)xi.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e?.message});xi.warn(n.message)}}})).apply(this,arguments)}function AU(t,e){return XT.apply(this,arguments)}function XT(){return(XT=I(function*(t,e){try{const r=(yield bU()).transaction(jd,"readwrite");yield r.objectStore(jd).put(e,SU(t)),yield r.done}catch(n){if(n instanceof Lr)xi.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n?.message});xi.warn(r.message)}}})).apply(this,arguments)}function SU(t){return`${t.name}!${t.options.appId}`}class Ise{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return I(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RU();return null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){xi.warn(i)}})()}getHeartbeatsHeader(){var e=this;return I(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=RU(),{heartbeatsToSend:i,unsentEntries:o}=function Ese(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PU(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PU(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ym(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return xi.warn(r),""}})()}}function RU(){return(new Date).toISOString().substring(0,10)}class wse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(function*(){return!!Em()&&VT().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return I(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function _se(t){return JT.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return I(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return AU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return I(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return AU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function PU(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}!function Tse(t){ui(new Ur("platform-logger",e=>new koe(e),"PRIVATE")),ui(new Ur("heartbeat",e=>new Ise(e),"PRIVATE")),rr(Cm,WT,t),rr(Cm,WT,"esm2017"),rr("fire-js","")}(""),rr("firebase","11.0.1","app");const bse=function MU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xU=new js("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bm=new Tm("@firebase/auth");function Am(t,...e){bm.logLevel<=we.ERROR&&bm.error(`Auth (${ju}): ${t}`,...e)}function $n(t,...e){throw eC(t,...e)}function mr(t,...e){return eC(t,...e)}function ZT(t,e,n){const r=Object.assign(Object.assign({},bse()),{[e]:n});return new js("auth","Firebase",r).create(e,{appName:t.name})}function zt(t){return ZT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xU.create(t,...e)}function G(t,e,...n){if(!t)throw eC(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Am(e),new Error(e)}function No(t,e){t||ci(e)}function Bd(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function NU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,No(n>e,"Short delay should be less than long delay!"),this.isMobile=function eoe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}()||function ioe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Sse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tC(){return"http:"===NU()||"https:"===NU()}()||FT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nC(t,e){No(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class OU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mse=new $d(3e4,6e4);function tt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function nt(t,e,n,r){return rC.apply(this,arguments)}function rC(){return(rC=I(function*(t,e,n,r,i={}){return kU(t,i,I(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=kd(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return function roe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),OU.fetch()(FU(t,t.config.apiHost,n,a),c)}))})).apply(this,arguments)}function kU(t,e,n){return iC.apply(this,arguments)}function iC(){return(iC=I(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pse),e);try{const i=new Nse(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Hd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Hd(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Hd(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Hd(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZT(t,d,c);$n(t,d)}}catch(i){if(i instanceof Lr)throw i;$n(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Oi(t,e,n,r){return oC.apply(this,arguments)}function oC(){return(oC=I(function*(t,e,n,r,i={}){const o=yield nt(t,e,n,r,i);return"mfaPendingCredential"in o&&$n(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function FU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?nC(t.config,i):`${t.config.apiScheme}://${i}`}function xse(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),Mse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(t,e,r);return i.customData._tokenResponse=n,i}function LU(t){return void 0!==t&&void 0!==t.enterprise}class UU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xse(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function jU(t,e){return aC.apply(this,arguments)}function aC(){return(aC=I(function*(t,e){return nt(t,"GET","/v2/recaptchaConfig",tt(t,e))})).apply(this,arguments)}function uC(){return(uC=I(function*(t,e){return nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function BU(t,e){return lC.apply(this,arguments)}function lC(){return(lC=I(function*(t,e){return nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dC(){return(dC=I(function*(t,e=!1){const n=pt(t),r=yield n.getIdToken(e),i=Sm(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gd(hC(i.auth_time)),issuedAtTime:Gd(hC(i.iat)),expirationTime:Gd(hC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function hC(t){return 1e3*Number(t)}function Sm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Am("JWT malformed, contained fewer than 3 sections"),null;try{const i=vm(n);return i?JSON.parse(i):(Am("Failed to decode base64 JWT payload"),null)}catch(i){return Am("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $U(t){const e=Sm(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ki(t,e){return fC.apply(this,arguments)}function fC(){return(fC=I(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Lr&&function Lse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Use{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(I(function*(){yield n.iteration()}),r)}iteration(){var e=this;return I(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class pC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gd(this.lastLoginAt),this.creationTime=Gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qd(t){return gC.apply(this,arguments)}function gC(){return(gC=I(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ki(t,BU(n,{idToken:r}));G(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?HU(o.providerUserInfo):[],a=function Bse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),d=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pC(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)})).apply(this,arguments)}function mC(){return(mC=I(function*(t){const e=pt(t);yield qd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function HU(t){return t.map(e=>{var{providerId:n}=e,r=Og(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _C(){return(_C=I(function*(t,e){const n=yield kU(t,{},I(function*(){const r=kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=FU(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OU.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function yC(){return(yC=I(function*(t,e){return nt(t,"POST","/v2/accounts:revokeToken",tt(t,e))})).apply(this,arguments)}class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$U(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(0!==e.length,"internal-error");const n=$U(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var r=this;return I(function*(){return n||!r.accessToken||r.isExpired?(G(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return I(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function $se(t,e){return _C.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $u;return r&&(G("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(G("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(G("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return ci("not implemented")}}function Oo(t,e){G("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Use(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pC(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return I(function*(){const r=yield ki(n,n.stsTokenManager.getToken(n.auth,e));return G(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Vse(t){return dC.apply(this,arguments)}(this,e)}reload(){return function jse(t){return mC.apply(this,arguments)}(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return I(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield qd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return I(function*(){if(Ni(e.auth.app))return Promise.reject(zt(e.auth));const n=yield e.getIdToken();return yield ki(e,function kse(t,e){return uC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const h=null!==(r=n.displayName)&&void 0!==r?r:void 0,p=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,A=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(d=n.lastLoginAt)&&void 0!==d?d:void 0,{uid:F,emailVerified:$,isAnonymous:Q,providerData:Y,stsTokenManager:D}=n;G(F&&D,e,"internal-error");const w=$u.fromJSON(this.name,D);G("string"==typeof F,e,"internal-error"),Oo(h,e.name),Oo(p,e.name),G("boolean"==typeof $,e,"internal-error"),G("boolean"==typeof Q,e,"internal-error"),Oo(g,e.name),Oo(_,e.name),Oo(v,e.name),Oo(E,e.name),Oo(A,e.name),Oo(b,e.name);const T=new Fi({uid:F,auth:e,email:p,emailVerified:$,displayName:h,isAnonymous:Q,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:w,createdAt:A,lastLoginAt:b});return Y&&Array.isArray(Y)&&(T.providerData=Y.map(S=>Object.assign({},S))),E&&(T._redirectEventId=E),T}static _fromIdTokenResponse(e,n,r=!1){return I(function*(){const i=new $u;i.updateFromServerResponse(n);const o=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qd(o),o})()}static _fromGetAccountInfoResponse(e,n,r){return I(function*(){const i=n.users[0];G(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?HU(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new $u;a.updateFromIdToken(r);const u=new Fi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const GU=new Map;function Vi(t){No(t instanceof Function,"Expected a class definition");let e=GU.get(t);return e?(No(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GU.set(t,e),e)}const qU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(function*(){return!0})()}_set(n,r){var i=this;return I(function*(){i.storage[n]=r})()}_get(n){var r=this;return I(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return I(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Rm(t,e,n){return`firebase:${t}:${e}:${n}`}class Hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Rm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return I(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Fi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return I(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(function*(){if(!n.length)return new Hu(Vi(qU),e,r);const i=(yield Promise.all(n.map(function(){var c=I(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Vi(qU);const s=Rm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=yield c._get(s);if(d){const h=Fi._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=I(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return c.apply(this,arguments)}}())),new Hu(o,e,r)):new Hu(o,e,r)})()}}function zU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XU(e))return"Blackberry";if(ZU(e))return"Webos";if(KU(e))return"Safari";if((e.includes("chrome/")||QU(e))&&!e.includes("edge/"))return"Chrome";if(JU(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function WU(t=Tt()){return/firefox\//i.test(t)}function KU(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QU(t=Tt()){return/crios\//i.test(t)}function YU(t=Tt()){return/iemobile/i.test(t)}function JU(t=Tt()){return/android/i.test(t)}function XU(t=Tt()){return/blackberry/i.test(t)}function ZU(t=Tt()){return/webos/i.test(t)}function vC(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ej(t=Tt()){return vC(t)||JU(t)||ZU(t)||XU(t)||/windows phone/i.test(t)||YU(t)}function tj(t,e=[]){let n;switch(t){case"Browser":n=zU(Tt());break;case"Worker":n=`${zU(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ju}/${r}`}class zse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return I(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function IC(){return(IC=I(function*(t,e={}){return nt(t,"GET","/v2/passwordPolicy",tt(t,e))})).apply(this,arguments)}class Qse{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Yse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nj(this),this.idTokenSubscription=new nj(this),this.beforeStateQueue=new zse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(I(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Hu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return I(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return I(function*(){try{const r=yield BU(n,{idToken:e}),i=yield Fi._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return I(function*(){var r;if(Ni(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return G(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return I(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return I(function*(){try{yield qd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Rse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return I(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return I(function*(){if(Ni(n.app))return Promise.reject(zt(n));const r=e?pt(e):null;return r&&G(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return I(function*(){if(!r._deleted)return e&&G(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(I(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return I(function*(){return Ni(e.app)?Promise.reject(zt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return Ni(this.app)?Promise.reject(zt(this)):this.queue(I(function*(){yield n.assertedPersistence.setPersistence(Vi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return I(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return I(function*(){const n=yield function Wse(t){return IC.apply(this,arguments)}(e),r=new Qse(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new js("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return I(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function Hse(t,e){return yC.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return I(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return I(function*(){if(!n.redirectPersistenceManager){const r=e&&Vi(e)||n._popupRedirectResolver;G(r,n,"argument-error"),n.redirectPersistenceManager=yield Hu.create(n,[Vi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return I(function*(){var r,i;return n._isInitialized&&(yield n.queue(I(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return I(function*(){if(e===n.currentUser)return n.queue(I(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return I(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return I(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return I(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Ase(t,...e){bm.logLevel<=we.WARN&&bm.warn(`Auth (${ju}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ct(t){return pt(t)}class nj{constructor(e){this.auth=e,this.observer=null,this.addObserver=function loe(t,e){const n=new doe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zd={loadJS:()=>I(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(t){return zd.loadJS(t)}function rj(t){return`__${t}${Math.floor(1e6*Math.random())}`}class iae{constructor(){this.enterprise=new oae}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oae{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Wd="NO_RECAPTCHA";class ij{constructor(e){this.type="recaptcha-enterprise",this.auth=Ct(e)}verify(e="verify",n=!1){var r=this;return I(function*(){function o(){return o=I(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=I(function*(c,d){jU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(void 0!==h.recaptchaKey){const p=new UU(h);return null==a.tenantId?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,c(p.siteKey)}d(new Error("recaptcha Enterprise site key undefined"))}).catch(h=>{d(h)})});return function(c,d){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const d=window.grecaptcha;LU(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(Wd)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return r.auth.settings.appVerificationDisabledForTesting?(new iae).execute("siteKey",{action:"verify"}):new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&LU(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let d=function Zse(){return zd.recaptchaEnterpriseScript}();0!==d.length&&(d+=c),EC(d).then(()=>{s(c,a,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})})()}}function Kd(t,e,n){return wC.apply(this,arguments)}function wC(){return(wC=I(function*(t,e,n,r=!1,i=!1){const o=new ij(t);let s;if(i)s=Wd;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}const a=Object.assign({},e);return"mfaSmsEnrollment"===n||"mfaSmsSignIn"===n?("phoneEnrollmentInfo"in a?Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:a.phoneEnrollmentInfo.phoneNumber,recaptchaToken:a.phoneEnrollmentInfo.recaptchaToken,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in a&&Object.assign(a,{phoneSignInInfo:{recaptchaToken:a.phoneSignInInfo.recaptchaToken,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),a):(Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a)})).apply(this,arguments)}function ko(t,e,n,r,i){return TC.apply(this,arguments)}function TC(){return TC=I(function*(t,e,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null!==(o=t._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=yield Kd(t,e,n,"getOobCode"===n);return r(t,a)}return r(t,e).catch(function(){var a=I(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=yield Kd(t,e,n,"getOobCode"===n);return r(t,c)}return Promise.reject(u)});return function(u){return a.apply(this,arguments)}}())}if("PHONE_PROVIDER"===i){if(null!==(s=t._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const a=yield Kd(t,e,n);return r(t,a).catch(function(){var u=I(function*(c){var d;if("AUDIT"===(null===(d=t._getRecaptchaConfig())||void 0===d?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===c.code||"auth/invalid-app-credential"===c.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=yield Kd(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)});return function(c){return u.apply(this,arguments)}}())}{const a=yield Kd(t,e,n,!1,!0);return r(t,a)}}return Promise.reject(i+" provider is not supported.")}),TC.apply(this,arguments)}function sj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Qd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}function gae(t,e){return AC.apply(this,arguments)}function AC(){return(AC=I(function*(t,e){return nt(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function _ae(t,e){return RC.apply(this,arguments)}function RC(){return(RC=I(function*(t,e){return Oi(t,"POST","/v1/accounts:signInWithPassword",tt(t,e))})).apply(this,arguments)}function kC(){return(kC=I(function*(t,e){return Oi(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))})).apply(this,arguments)}function FC(){return(FC=I(function*(t,e){return Oi(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))})).apply(this,arguments)}class Yd extends Qd{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return I(function*(){switch(n.signInMethod){case"password":return ko(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_ae,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function wae(t,e){return kC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:$n(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return I(function*(){switch(r.signInMethod){case"password":return ko(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gae,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Tae(t,e){return FC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:$n(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Li(t,e){return VC.apply(this,arguments)}function VC(){return(VC=I(function*(t,e){return Oi(t,"POST","/v1/accounts:signInWithIdp",tt(t,e))})).apply(this,arguments)}class Zd{constructor(e){var n,r,i,o,s,a;const u=Fd(Vd(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,d=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function Rae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);G(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Pae(t){const e=Fd(Vd(t)).link,n=e?Fd(Vd(e)).deep_link_id:null,r=Fd(Vd(t)).deep_link_id;return(r?Fd(Vd(r)).link:null)||r||n||e||t}(e);try{return new Zd(n)}catch{return null}}}let lj=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Yd._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Zd.parseLink(r);return G(i,"argument-error"),Yd._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ui{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mae extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(function*(){const o=yield Fi._fromIdTokenResponse(e,r,i),s=hj(r);return new _r({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return I(function*(){yield e._updateTokensIfNecessary(r,!0);const i=hj(r);return new _r({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function hj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Nm extends Lr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nm.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nm(e,n,r,i)}}function fj(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Nm._fromErrorAndOperation(t,o,e,r):o})}function WC(){return(WC=I(function*(t,e,n=!1){const r=yield ki(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _r._forOperation(t,"link",r)})).apply(this,arguments)}function QC(){return(QC=I(function*(t,e,n=!1){const{auth:r}=t;if(Ni(r.app))return Promise.reject(zt(r));const i="reauthenticate";try{const o=yield ki(t,fj(r,i,e,t),n);G(o.idToken,r,"internal-error");const s=Sm(o.idToken);G(s,r,"internal-error");const{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),_r._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&$n(r,"user-mismatch"),o}})).apply(this,arguments)}function mj(t,e){return YC.apply(this,arguments)}function YC(){return(YC=I(function*(t,e,n=!1){if(Ni(t.app))return Promise.reject(zt(t));const r="signIn",i=yield fj(t,r,e),o=yield _r._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function JC(t,e){return XC.apply(this,arguments)}function XC(){return(XC=I(function*(t,e){return mj(Ct(t),e)})).apply(this,arguments)}function oD(t){return sD.apply(this,arguments)}function sD(){return(sD=I(function*(t){const e=Ct(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}const Fm="__sak";class Ij{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eue=(()=>{class t extends Ij{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ej(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function qse(){return function ooe(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return I(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return I(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return I(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Ej=(()=>{class t extends Ij{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let nue=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return I(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var h=I(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),d=yield function tue(t){return Promise.all(t.map(function(){var e=I(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function AD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class rue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return I(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=AD("",20);o.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:d,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xt(){return window}function SD(){return typeof xt().WorkerGlobalScope<"u"&&"function"==typeof xt().importScripts}function RD(){return(RD=I(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wj="firebaseLocalStorageDb",Vm="firebaseLocalStorage",Tj="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lm(t,e){return t.transaction([Vm],e?"readwrite":"readonly").objectStore(Vm)}function PD(){const t=indexedDB.open(wj,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vm,{keyPath:Tj})}catch(i){n(i)}}),t.addEventListener("success",I(function*(){const r=t.result;r.objectStoreNames.contains(Vm)?e(r):(r.close(),yield function cue(){const t=indexedDB.deleteDatabase(wj);return new nh(t).toPromise()}(),e(yield PD()))}))})}function Cj(t,e,n){return MD.apply(this,arguments)}function MD(){return(MD=I(function*(t,e,n){const r=Lm(t,!0).put({[Tj]:e,value:n});return new nh(r).toPromise()})).apply(this,arguments)}function xD(){return(xD=I(function*(t,e){const n=Lm(t,!1).get(e),r=yield new nh(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Dj(t,e){const n=Lm(t,!0).delete(e);return new nh(n).toPromise()}const fue=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return I(function*(){return n.db||(n.db=yield PD()),n.db})()}_withRetries(n){var r=this;return I(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return I(function*(){return SD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return I(function*(){n.receiver=nue._getInstance(function aue(){return SD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=I(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=I(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return I(function*(){var r,i;if(n.activeServiceWorker=yield function oue(){return RD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new rue(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return I(function*(){if(r.sender&&r.activeServiceWorker&&function sue(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return I(function*(){try{if(!indexedDB)return!1;const n=yield PD();return yield Cj(n,Fm,"1"),yield Dj(n,Fm),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return I(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return I(function*(){return i._withPendingWrite(I(function*(){return yield i._withRetries(o=>Cj(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return I(function*(){const i=yield r._withRetries(o=>function lue(t,e){return xD.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return I(function*(){return r._withPendingWrite(I(function*(){return yield r._withRetries(i=>Dj(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return I(function*(){const r=yield n._withRetries(s=>{const a=Lm(s,!1).getAll();return new nh(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(I(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();rj("rcb"),new $d(3e4,6e4);class HD extends Qd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Li(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Li(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Li(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wue(t){return mj(t.auth,new HD(t),t.bypassAuthState)}function Tue(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function gj(t,e){return QC.apply(this,arguments)}(n,new HD(t),t.bypassAuthState)}function Cue(t){return GD.apply(this,arguments)}function GD(){return(GD=I(function*(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function zC(t,e){return WC.apply(this,arguments)}(n,new HD(t),t.bypassAuthState)})).apply(this,arguments)}class Due{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=I(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return I(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(d){n.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wue;case"linkViaPopup":case"linkViaRedirect":return Cue;case"reauthViaPopup":case"reauthViaRedirect":return Tue;default:$n(this.auth,"internal-error")}}resolve(e){No(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){No(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new $d(2e3,1e4);const bue="pendingRedirect",ih=new Map;class Aue extends Due{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return I(function*(){let r=ih.get(n.auth._key());if(!r){try{const o=(yield function Sue(t,e){return QD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}ih.set(n.auth._key(),r)}return n.bypassAuthState||ih.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return I(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return I(function*(){})()}cleanUp(){}}function QD(){return(QD=I(function*(t,e){const n=function Sj(t){return Rm(bue,t.config.apiKey,t.name)}(e),r=function Aj(t){return Vi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Rue(t,e){ih.set(t._key(),e)}function Rj(t,e){return nb.apply(this,arguments)}function nb(){return(nb=I(function*(t,e,n=!1){if(Ni(t.app))return Promise.reject(zt(t));const r=Ct(t),i=function qs(t,e){return e?Vi(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new Aue(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Oue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function kue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xj(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xj(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mj(e))}saveEventToCache(e){this.cachedEventUids.add(Mj(e)),this.lastProcessedEventTime=Date.now()}}function Mj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xj({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function ib(){return(ib=I(function*(t,e={}){return nt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Vue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lue=/^https?/;function ob(){return ob=I(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Fue(t){return ib.apply(this,arguments)}(t);for(const n of e)try{if(jue(n))return}catch{}$n(t,"unauthorized-domain")}),ob.apply(this,arguments)}function jue(t){const e=Bd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Lue.test(n))return!1;if(Vue.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Bue=new $d(3e4,6e4);function Nj(){const t=xt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Um=null;const Gue=new $d(5e3,15e3),que="__/auth/iframe",zue="emulator/auth/iframe",Wue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Que(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nC(e,zue):`https://${t.config.authDomain}/${que}`,r={apiKey:e.apiKey,appName:t.name,v:ju},i=Kue.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${kd(r).slice(1)}`}function sb(){return sb=I(function*(t){const e=yield function Hue(t){return Um=Um||function $ue(t){return new Promise((e,n)=>{var r,i,o;function s(){Nj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nj(),n(mr(t,"network-request-failed"))},timeout:Bue.get()})}if(null!==(i=null===(r=xt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=xt().gapi)||void 0===o||!o.load){const a=rj("iframefcb");return xt()[a]=()=>{gapi.load?s():n(mr(t,"network-request-failed"))},EC(`${function eae(){return zd.gapiScript}()}?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw Um=null,e})}(t),Um}(t),n=xt().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:Que(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wue,dontclear:!0},r=>new Promise(function(){var i=I(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=mr(t,"network-request-failed"),u=xt().setTimeout(()=>{s(a)},Gue.get());function c(){xt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),sb.apply(this,arguments)}const Jue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ice="__/auth/handler",oce="emulator/auth/handler",sce=encodeURIComponent("fac");function kj(t,e,n,r,i,o){return ab.apply(this,arguments)}function ab(){return(ab=I(function*(t,e,n,r,i,o){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ju,eventId:i};if(e instanceof Ui){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function coe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Mae){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const u=yield t._getAppCheckToken(),c=u?`#${sce}=${encodeURIComponent(u)}`:"";return`${function ace({config:t}){return t.emulator?nC(t,oce):`https://${t.authDomain}/${ice}`}(t)}?${kd(a).slice(1)}${c}`})).apply(this,arguments)}const ub="webStorageSupport",cce=class uce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ej,this._completeRedirectFn=Rj,this._overrideRedirectResult=Rue}_openPopup(e,n,r,i){var o=this;return I(function*(){var s;No(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield kj(e,n,r,Bd(),i);return function nce(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Jue),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Tt().toLowerCase();n&&(a=QU(c)?"_blank":n),WU(c)&&(e=e||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(function Gse(t=Tt()){var e;return vC(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function rce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new Oj(null);const h=window.open(e||"",a,d);G(h,t,"popup-blocked");try{h.focus()}catch{}return new Oj(h)}(e,a,AD())})()}_openRedirect(e,n,r,i){var o=this;return I(function*(){return yield o._originValidation(e),function iue(t){xt().location.href=t}(yield kj(e,n,r,Bd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(No(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return I(function*(){const r=yield function Yue(t){return sb.apply(this,arguments)}(e),i=new Oue(e);return r.register("authEvent",o=>(G(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ub,{type:ub},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[ub];void 0!==s&&n(!!s),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Uue(t){return ob.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ej()||KU()||vC()}};var Uj="@firebase/auth";class lce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return I(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pce=cU("authIdTokenMaxAge")||300;let Bj=null;const gce=t=>function(){var e=I(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>pce)return;const o=r?.token;Bj!==o&&(Bj=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function mce(t=KT()){const e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function cae(t,e){const n=xo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Bs(n.getOptions(),e??{}))return i;$n(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:cce,persistence:[fue,eue,Ej]}),r=cU("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=gce(o.toString());(function Wae(t,e,n){pt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function zae(t,e,n,r){pt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}}const i=aU("auth");return i&&function dae(t,e,n){const r=Ct(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=sj(e),{host:s,port:a}=function hae(t){const e=sj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:aj(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:aj(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function fae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function Jse(t){zd=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=mr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function _ce(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function hce(t){ui(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tj(t)},c=new Yse(r,i,o,u);return function lae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new Ur("auth-internal",e=>{const n=Ct(e.getProvider("auth").getImmediate());return new lce(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(Uj,"1.8.0",function dce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),rr(Uj,"1.8.0","esm2017")}("Browser");var zs,Gj,$j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hj={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(D,w,T){T||(T=0);var S=Array(16);if("string"==typeof w)for(var R=0;16>R;++R)S[R]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(R=0;16>R;++R)S[R]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;var x=D.g[3],C=(w=D.g[0])+(x^(T=D.g[1])&((R=D.g[2])^x))+S[0]+3614090360&4294967295;C=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=T+(C<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[1]+3905402710&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[2]+606105819&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[3]+3250441966&4294967295)<<22&4294967295|C>>>10))+((C=w+(x^T&(R^x))+S[4]+4118548399&4294967295)<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[5]+1200080426&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[6]+2821735955&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[7]+4249261313&4294967295)<<22&4294967295|C>>>10))+((C=w+(x^T&(R^x))+S[8]+1770035416&4294967295)<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[9]+2336552879&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[10]+4294925233&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[11]+2304563134&4294967295)<<22&4294967295|C>>>10))+((C=w+(x^T&(R^x))+S[12]+1804603682&4294967295)<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[13]+4254626195&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[14]+2792965006&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[15]+1236535329&4294967295)<<22&4294967295|C>>>10))+((C=w+(R^x&(T^R))+S[1]+4129170786&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[6]+3225465664&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[11]+643717713&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[0]+3921069994&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^x&(T^R))+S[5]+3593408605&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[10]+38016083&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[15]+3634488961&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[4]+3889429448&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^x&(T^R))+S[9]+568446438&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[14]+3275163606&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[3]+4107603335&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[8]+1163531501&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^x&(T^R))+S[13]+2850285829&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[2]+4243563512&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[7]+1735328473&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[12]+2368359562&4294967295)<<20&4294967295|C>>>12))+((C=w+(T^R^x)+S[5]+4294588738&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[8]+2272392833&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[11]+1839030562&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[14]+4259657740&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^x)+S[1]+2763975236&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[4]+1272893353&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[7]+4139469664&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[10]+3200236656&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^x)+S[13]+681279174&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[0]+3936430074&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[3]+3572445317&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[6]+76029189&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^x)+S[9]+3654602809&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[12]+3873151461&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[15]+530742520&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[2]+3299628645&4294967295)<<23&4294967295|C>>>9))+((C=w+(R^(T|~x))+S[0]+4096336452&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[7]+1126891415&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(x|~T))+S[14]+2878612391&4294967295)<<15&4294967295|C>>>17))+((C=T+(x^(R|~w))+S[5]+4237533241&4294967295)<<21&4294967295|C>>>11))+((C=w+(R^(T|~x))+S[12]+1700485571&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[3]+2399980690&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(x|~T))+S[10]+4293915773&4294967295)<<15&4294967295|C>>>17))+((C=T+(x^(R|~w))+S[1]+2240044497&4294967295)<<21&4294967295|C>>>11))+((C=w+(R^(T|~x))+S[8]+1873313359&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[15]+4264355552&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(x|~T))+S[6]+2734768916&4294967295)<<15&4294967295|C>>>17))+((C=T+(x^(R|~w))+S[13]+1309151649&4294967295)<<21&4294967295|C>>>11))+((x=(w=T+((C=w+(R^(T|~x))+S[4]+4149444226&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[11]+3174756917&4294967295)<<10&4294967295|C>>>22))^((R=x+((C=R+(w^(x|~T))+S[2]+718787259&4294967295)<<15&4294967295|C>>>17))|~w))+S[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+x&4294967295}function s(D,w){this.h=w;for(var T=[],S=!0,R=D.length-1;0<=R;R--){var x=0|D[R];S&&x==w||(T[R]=x,S=!1)}this.g=T}(function e(D,w){function T(){}T.prototype=w.prototype,D.D=w.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(S,R,x){for(var C=Array(arguments.length-2),Qi=2;Qi<arguments.length;Qi++)C[Qi-2]=arguments[Qi];return w.prototype[R].apply(S,C)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(D,w){void 0===w&&(w=D.length);for(var T=w-this.blockSize,S=this.B,R=this.h,x=0;x<w;){if(0==R)for(;x<=T;)i(this,D,x),x+=this.blockSize;if("string"==typeof D){for(;x<w;)if(S[R++]=D.charCodeAt(x++),R==this.blockSize){i(this,S),R=0;break}}else for(;x<w;)if(S[R++]=D[x++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var T=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=255&T,T/=256;for(this.u(D),D=Array(16),w=T=0;4>w;++w)for(var S=0;32>S;S+=8)D[T++]=this.g[w]>>>S&255;return D};var a={};function u(D){return-128<=D&&128>D?function o(D,w){var T=a;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=w(D)}(D,function(w){return new s([0|w],0>w?-1:0)}):new s([0|D],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return E(c(-D));for(var w=[],T=1,S=0;D>=T;S++)w[S]=D/T|0,T*=4294967296;return new s(w,0)}var h=u(0),p=u(1),g=u(16777216);function _(D){if(0!=D.h)return!1;for(var w=0;w<D.g.length;w++)if(0!=D.g[w])return!1;return!0}function v(D){return-1==D.h}function E(D){for(var w=D.g.length,T=[],S=0;S<w;S++)T[S]=~D.g[S];return new s(T,~D.h).add(p)}function A(D,w){return D.add(E(w))}function b(D,w){for(;(65535&D[w])!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function F(D,w){this.g=D,this.h=w}function $(D,w){if(_(w))throw Error("division by zero");if(_(D))return new F(h,h);if(v(D))return w=$(E(D),w),new F(E(w.g),E(w.h));if(v(w))return w=$(D,E(w)),new F(E(w.g),w.h);if(30<D.g.length){if(v(D)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var T=p,S=w;0>=S.l(D);)T=Q(T),S=Q(S);var R=Y(T,1),x=Y(S,1);for(S=Y(S,2),T=Y(T,2);!_(S);){var C=x.add(S);0>=C.l(D)&&(R=R.add(T),x=C),S=Y(S,1),T=Y(T,1)}return w=A(D,R.j(w)),new F(R,w)}for(R=h;0<=D.l(w);){for(T=Math.max(1,Math.floor(D.m()/w.m())),S=48>=(S=Math.ceil(Math.log(T)/Math.LN2))?1:Math.pow(2,S-48),C=(x=c(T)).j(w);v(C)||0<C.l(D);)C=(x=c(T-=S)).j(w);_(x)&&(x=p),R=R.add(x),D=A(D,C)}return new F(R,D)}function Q(D){for(var w=D.g.length+1,T=[],S=0;S<w;S++)T[S]=D.i(S)<<1|D.i(S-1)>>>31;return new s(T,D.h)}function Y(D,w){var T=w>>5;w%=32;for(var S=D.g.length-T,R=[],x=0;x<S;x++)R[x]=0<w?D.i(x+T)>>>w|D.i(x+T+1)<<32-w:D.i(x+T);return new s(R,D.h)}(t=s.prototype).m=function(){if(v(this))return-E(this).m();for(var D=0,w=1,T=0;T<this.g.length;T++){var S=this.i(T);D+=(0<=S?S:4294967296+S)*w,w*=4294967296}return D},t.toString=function(D){if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(v(this))return"-"+E(this).toString(D);for(var w=c(Math.pow(D,6)),T=this,S="";;){var R=$(T,w).g,x=((0<(T=A(T,R.j(w))).g.length?T.g[0]:T.h)>>>0).toString(D);if(_(T=R))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h},t.l=function(D){return v(D=A(this,D))?-1:_(D)?0:1},t.abs=function(){return v(this)?E(this):this},t.add=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0,R=0;R<=w;R++){var x=S+(65535&this.i(R))+(65535&D.i(R)),C=(x>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);S=C>>>16,T[R]=(C&=65535)<<16|(x&=65535)}return new s(T,-2147483648&T[T.length-1]?-1:0)},t.j=function(D){if(_(this)||_(D))return h;if(v(this))return v(D)?E(this).j(E(D)):E(E(this).j(D));if(v(D))return E(this.j(E(D)));if(0>this.l(g)&&0>D.l(g))return c(this.m()*D.m());for(var w=this.g.length+D.g.length,T=[],S=0;S<2*w;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<D.g.length;R++){var x=this.i(S)>>>16,C=65535&this.i(S),Qi=D.i(R)>>>16,zh=65535&D.i(R);T[2*S+2*R]+=C*zh,b(T,2*S+2*R),T[2*S+2*R+1]+=x*zh,b(T,2*S+2*R+1),T[2*S+2*R+1]+=C*Qi,b(T,2*S+2*R+1),T[2*S+2*R+2]+=x*Qi,b(T,2*S+2*R+2)}for(S=0;S<w;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=w;S<2*w;S++)T[S]=0;return new s(T,0)},t.A=function(D){return $(this,D).h},t.and=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)&D.i(S);return new s(T,this.h&D.h)},t.or=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)|D.i(S);return new s(T,this.h|D.h)},t.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)^D.i(S);return new s(T,this.h^D.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gj=Hj.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(D,w){if(0==D.length)throw Error("number format error: empty string");if(2>(w=w||10)||36<w)throw Error("radix out of range: "+w);if("-"==D.charAt(0))return E(d(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(w,8)),S=h,R=0;R<D.length;R+=8){var x=Math.min(8,D.length-R),C=parseInt(D.substring(R,R+x),w);8>x?(x=c(Math.pow(w,x)),S=S.j(x).add(c(C))):S=(S=S.j(T)).add(c(C))}return S},zs=Hj.Integer=s}).apply(typeof $j<"u"?$j:typeof self<"u"?self:typeof window<"u"?window:{});var qj,oh,zj,$m,lb,Wj,Kj,Qj,Bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ji={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l},r=function n(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Bm&&Bm];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in m))break e;m=m[P]}(f=f(y=m[l=l[l.length-1]]))!=y&&null!=f&&e(m,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var m=0,y=!1,P={next:function(){if(!y&&m<l.length){var O=m++;return{value:f(O,l[O]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function c(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,m){return l.call.apply(l.bind,arguments)}function h(l,f,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(f,P)}}return function(){return l.apply(f,arguments)}}function p(l,f,m){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function g(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,P,O){for(var W=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)W[ze-2]=arguments[ze];return f.prototype[P].apply(y,W)}}function v(l){const f=l.length;if(0<f){const m=Array(f);for(let y=0;y<f;y++)m[y]=l[y];return m}return[]}function E(l,f){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const P=l.length||0,O=y.length||0;l.length=P+O;for(let W=0;W<O;W++)l[P+W]=y[W]}else l.push(y)}}function b(l){return/^[\s\xa0]*$/.test(l)}function F(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function $(l){return $[" "](l),l}$[" "]=function(){};var Q=!(-1==F().indexOf("Gecko")||-1!=F().toLowerCase().indexOf("webkit")&&-1==F().indexOf("Edge")||-1!=F().indexOf("Trident")||-1!=F().indexOf("MSIE")||-1!=F().indexOf("Edge"));function Y(l,f,m){for(const y in l)f.call(m,l[y],y,l)}function w(l){const f={};for(const m in l)f[m]=l[m];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,f){let m,y;for(let P=1;P<arguments.length;P++){for(m in y=arguments[P],y)l[m]=y[m];for(let O=0;O<T.length;O++)m=T[O],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function R(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function x(l){a.setTimeout(()=>{throw l},0)}function C(){var l=S0;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var zh=new class A{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new dge,l=>l.reset());class dge{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Wh,Kh=!1,S0=new class Qi{constructor(){this.h=this.g=null}add(f,m){const y=zh.get();y.set(f,m),this.h?this.h.next=y:this.g=y,this.h=y}},iq=()=>{const l=a.Promise.resolve(void 0);Wh=()=>{l.then(hge)}};var hge=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(m){x(m)}var f=zh;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}Kh=!1};function Xo(){this.s=this.s,this.C=this.C}function In(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Xo.prototype.s=!1,Xo.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},In.prototype.h=function(){this.defaultPrevented=!0};var fge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function Qh(l,f){if(In.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Q){e:{try{$(f.nodeName);var P=!0;break e}catch{}P=!1}P||(f=null)}}else"mouseover"==m?f=l.fromElement:"mouseout"==m&&(f=l.toElement);this.relatedTarget=f,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:pge[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qh.aa.h.call(this)}}_(Qh,In);var pge={2:"touch",3:"pen",4:"mouse"};Qh.prototype.h=function(){Qh.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Yh="closure_listenable_"+(1e6*Math.random()|0),gge=0;function mge(l,f,m,y,P){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!y,this.ha=P,this.key=++gge,this.da=this.fa=!1}function K_(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Q_(l){this.src=l,this.g={},this.h=0}function R0(l,f){var m=f.type;if(m in l.g){var O,y=l.g[m],P=Array.prototype.indexOf.call(y,f,void 0);(O=0<=P)&&Array.prototype.splice.call(y,P,1),O&&(K_(f),0==l.g[m].length&&(delete l.g[m],l.h--))}}function P0(l,f,m,y){for(var P=0;P<l.length;++P){var O=l[P];if(!O.da&&O.listener==f&&O.capture==!!m&&O.ha==y)return P}return-1}Q_.prototype.add=function(l,f,m,y,P){var O=l.toString();(l=this.g[O])||(l=this.g[O]=[],this.h++);var W=P0(l,f,y,P);return-1<W?(f=l[W],m||(f.fa=!1)):((f=new mge(f,this.src,O,!!y,P)).fa=m,l.push(f)),f};var M0="closure_lm_"+(1e6*Math.random()|0),x0={};function oq(l,f,m,y,P){if(y&&y.once)return aq(l,f,m,y,P);if(Array.isArray(f)){for(var O=0;O<f.length;O++)oq(l,f[O],m,y,P);return null}return m=F0(m),l&&l[Yh]?l.K(f,m,c(y)?!!y.capture:!!y,P):sq(l,f,m,!1,y,P)}function sq(l,f,m,y,P,O){if(!f)throw Error("Invalid event type");var W=c(P)?!!P.capture:!!P,ze=O0(l);if(ze||(l[M0]=ze=new Q_(l)),(m=ze.add(f,m,y,W,O)).proxy)return m;if(y=function _ge(){const f=yge;return function l(m){return f.call(l.src,l.listener,m)}}(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)fge||(P=W),void 0===P&&(P=!1),l.addEventListener(f.toString(),y,P);else if(l.attachEvent)l.attachEvent(cq(f.toString()),y);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(y)}return m}function aq(l,f,m,y,P){if(Array.isArray(f)){for(var O=0;O<f.length;O++)aq(l,f[O],m,y,P);return null}return m=F0(m),l&&l[Yh]?l.L(f,m,c(y)?!!y.capture:!!y,P):sq(l,f,m,!0,y,P)}function uq(l,f,m,y,P){if(Array.isArray(f))for(var O=0;O<f.length;O++)uq(l,f[O],m,y,P);else y=c(y)?!!y.capture:!!y,m=F0(m),l&&l[Yh]?(l=l.i,(f=String(f).toString())in l.g&&-1<(m=P0(O=l.g[f],m,y,P))&&(K_(O[m]),Array.prototype.splice.call(O,m,1),0==O.length&&(delete l.g[f],l.h--))):l&&(l=O0(l))&&(f=l.g[f.toString()],l=-1,f&&(l=P0(f,m,y,P)),(m=-1<l?f[l]:null)&&N0(m))}function N0(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[Yh])R0(f.i,l);else{var m=l.type,y=l.proxy;f.removeEventListener?f.removeEventListener(m,y,l.capture):f.detachEvent?f.detachEvent(cq(m),y):f.addListener&&f.removeListener&&f.removeListener(y),(m=O0(f))?(R0(m,l),0==m.h&&(m.src=null,f[M0]=null)):K_(l)}}}function cq(l){return l in x0?x0[l]:x0[l]="on"+l}function yge(l,f){if(l.da)l=!0;else{f=new Qh(f,this);var m=l.listener,y=l.ha||l.src;l.fa&&N0(l),l=m.call(y,f)}return l}function O0(l){return(l=l[M0])instanceof Q_?l:null}var k0="__closure_events_fn_"+(1e9*Math.random()>>>0);function F0(l){return"function"==typeof l?l:(l[k0]||(l[k0]=function(f){return l.handleEvent(f)}),l[k0])}function En(){Xo.call(this),this.i=new Q_(this),this.M=this,this.F=null}function On(l,f){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=f.type||f,"string"==typeof f)f=new In(f,l);else if(f instanceof In)f.target=f.target||l;else{var P=f;S(f=new In(y,l),P)}if(P=!0,m)for(var O=m.length-1;0<=O;O--){var W=f.g=m[O];P=Y_(W,y,!0,f)&&P}if(P=Y_(W=f.g=l,y,!0,f)&&P,P=Y_(W,y,!1,f)&&P,m)for(O=0;O<m.length;O++)P=Y_(W=f.g=m[O],y,!1,f)&&P}function Y_(l,f,m,y){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var P=!0,O=0;O<f.length;++O){var W=f[O];if(W&&!W.da&&W.capture==m){var ze=W.listener,un=W.ha||W.src;W.fa&&R0(l.i,W),P=!1!==ze.call(un,y)&&P}}return P&&!y.defaultPrevented}function lq(l,f,m){if("function"==typeof l)m&&(l=p(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function dq(l){l.g=lq(()=>{l.g=null,l.i&&(l.i=!1,dq(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}_(En,Xo),En.prototype[Yh]=!0,En.prototype.removeEventListener=function(l,f,m,y){uq(this,l,f,m,y)},En.prototype.N=function(){if(En.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var m=l.g[f],y=0;y<m.length;y++)K_(m[y]);delete l.g[f],l.h--}}this.F=null},En.prototype.K=function(l,f,m,y){return this.i.add(String(l),f,!1,m,y)},En.prototype.L=function(l,f,m,y){return this.i.add(String(l),f,!0,m,y)};class vge extends Xo{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:dq(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jh(l){Xo.call(this),this.h=l,this.g={}}_(Jh,Xo);var hq=[];function fq(l){Y(l.g,function(f,m){this.g.hasOwnProperty(m)&&N0(f)},l),l.g={}}Jh.prototype.N=function(){Jh.aa.N.call(this),fq(this)},Jh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var V0=a.JSON.stringify,Ige=a.JSON.parse,Ege=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function L0(){}function gq(){}L0.prototype.h=null;var Xh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function U0(){In.call(this,"d")}function j0(){In.call(this,"c")}_(U0,In),_(j0,In);var ga={},mq=null;function J_(){return mq=mq||new En}function _q(l){In.call(this,ga.La,l)}function Zh(l){const f=J_();On(f,new _q(f))}function yq(l,f){In.call(this,ga.STAT_EVENT,l),this.stat=f}function kn(l){const f=J_();On(f,new yq(f,l))}function vq(l,f){In.call(this,ga.Ma,l),this.size=f}function ef(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function tf(){this.g=!0}function xc(l,f,m,y){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function Dge(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if("noop"!=O&&"stop"!=O&&"close"!=O)for(var W=1;W<P.length;W++)P[W]=""}}}return V0(m)}catch{return f}}(l,m)+(y?" "+y:"")})}ga.La="serverreachability",_(_q,In),ga.STAT_EVENT="statevent",_(yq,In),ga.Ma="timingevent",_(vq,In),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var B0,X_={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iq={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Z_(){}function Zo(l,f,m,y){this.j=l,this.i=f,this.l=m,this.R=y||1,this.U=new Jh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eq}function Eq(){this.i=null,this.g="",this.h=!1}_(Z_,L0),Z_.prototype.g=function(){return new XMLHttpRequest},Z_.prototype.i=function(){return{}},B0=new Z_;var wq={},$0={};function H0(l,f,m){l.L=1,l.v=ry(Yi(f)),l.m=m,l.P=!0,Tq(l,null)}function Tq(l,f){l.F=Date.now(),ey(l),l.A=Yi(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),Vq(m.i,"t",y),l.C=0,m=l.j.J,l.h=new Eq,l.g=t4(l.j,m?f:null,!l.m),0<l.O&&(l.M=new vge(p(l.Y,l,l.g),l.O)),f=l.U,m=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(hq[0]=P.toString()),P=hq);for(var O=0;O<P.length;O++){var W=oq(m,P[O],y||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Zh(),function wge(l,f,m,y,P,O){l.info(function(){if(l.g)if(O)for(var W="",ze=O.split("&"),un=0;un<ze.length;un++){var Me=ze[un].split("=");if(1<Me.length){var wn=Me[0];Me=Me[1];var Tn=wn.split("_");W=2<=Tn.length&&"type"==Tn[1]?W+(wn+"=")+Me+"&":W+(wn+"=redacted&")}}else W=null;else W=O;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+f+"\n"+m+"\n"+W})}(l.i,l.u,l.A,l.l,l.R,l.m)}function Cq(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function bge(l,f){var m=l.C,y=f.indexOf("\n",m);return-1==y?$0:(m=Number(f.substring(m,y)),isNaN(m)?wq:(y+=1)+m>f.length?$0:(f=f.slice(y,y+m),l.C=y+m,f))}function ey(l){l.S=Date.now()+l.I,Dq(l,l.I)}function Dq(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ef(p(l.ba,l),f)}function G0(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function nf(l){0==l.j.G||l.J||Jq(l.j,l)}function ma(l){G0(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,fq(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function q0(l,f){try{var m=l.j;if(0!=m.G&&(m.g==l||z0(m.h,l)))if(!l.K&&z0(m.h,l)&&3==m.G){try{var y=m.Da.g.parse(f)}catch{y=null}if(Array.isArray(y)&&3==y.length){var P=y;if(0==P[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;uy(m),sy(m)}Y0(m),kn(18)}}else m.za=P[1],0<m.za-m.T&&37500>P[2]&&m.F&&0==m.v&&!m.C&&(m.C=ef(p(m.Za,m),6e3));if(1>=Sq(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ya(m,11)}else if((l.K||m.g==l)&&uy(m),!b(f))for(P=m.Da.g.parse(f),f=0;f<P.length;f++){let Me=P[f];if(m.T=Me[0],Me=Me[1],2==m.G)if("c"==Me[0]){m.K=Me[1],m.ia=Me[2];const wn=Me[3];null!=wn&&(m.la=wn,m.j.info("VER="+m.la));const Tn=Me[4];null!=Tn&&(m.Aa=Tn,m.j.info("SVER="+m.Aa));const kc=Me[5];null!=kc&&"number"==typeof kc&&0<kc&&(m.L=y=1.5*kc,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const jr=l.g;if(jr){const ly=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ly){var O=y.h;O.g||-1==ly.indexOf("spdy")&&-1==ly.indexOf("quic")&&-1==ly.indexOf("h2")||(O.j=O.l,O.g=new Set,O.h&&(W0(O,O.h),O.h=null))}if(y.D){const X0=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;X0&&(y.ya=X0,it(y.I,y.D,X0))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var W=l;if((y=m).qa=e4(y,y.J?y.ia:null,y.W),W.K){Rq(y.h,W);var ze=W,un=y.L;un&&(ze.I=un),ze.B&&(G0(ze),ey(ze)),y.g=W}else Qq(y);0<m.i.length&&ay(m)}else"stop"!=Me[0]&&"close"!=Me[0]||ya(m,7);else 3==m.G&&("stop"==Me[0]||"close"==Me[0]?"stop"==Me[0]?ya(m,7):Q0(m):"noop"!=Me[0]&&m.l&&m.l.ta(Me),m.v=0)}Zh()}catch{}}Zo.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==Ji(l)?f.j():this.Y(l)},Zo.prototype.Y=function(l){try{if(l==this.g)e:{const Tn=Ji(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>Tn)&&(3!=Tn||this.g&&(this.h.h||this.g.oa()||Gq(this.g)))){this.J||4!=Tn||7==f||Zh(),G0(this);var m=this.g.Z();this.X=m;t:if(Cq(this)){var y=Gq(this.g);l="";var P=y.length,O=4==Ji(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ma(this),nf(this);var W="";break t}this.h.i=new a.TextDecoder}for(f=0;f<P;f++)this.h.h=!0,l+=this.h.i.decode(y[f],{stream:!(O&&f==P-1)});y.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=200==m,function Tge(l,f,m,y,P,O,W){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+f+"\n"+m+"\n"+O+" "+W})}(this.i,this.u,this.A,this.l,this.R,Tn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,un=this.g;if((ze=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ze)){var Me=ze;break t}}Me=null}if(!(m=Me)){this.o=!1,this.s=3,kn(12),ma(this),nf(this);break e}xc(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,q0(this,m)}if(this.P){let jr;for(m=!0;!this.J&&this.C<W.length;){if(jr=bge(this,W),jr==$0){4==Tn&&(this.s=4,kn(14),m=!1),xc(this.i,this.l,null,"[Incomplete Response]");break}if(jr==wq){this.s=4,kn(15),xc(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}xc(this.i,this.l,jr,null),q0(this,jr)}if(Cq(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Tn||0!=W.length||this.h.h||(this.s=1,kn(16),m=!1),this.o=this.o&&m,m){if(0<W.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),J0(wn),wn.M=!0,kn(11))}}else xc(this.i,this.l,W,"[Invalid Chunked Response]"),ma(this),nf(this)}else xc(this.i,this.l,W,null),q0(this,W);4==Tn&&ma(this),this.o&&!this.J&&(4==Tn?Jq(this.j,this):(this.o=!1,ey(this)))}else(function Hge(l){const f={};l=(l.g&&2<=Ji(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(b(l[y]))continue;var m=R(l[y]);const P=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const O=f[P]||[];f[P]=O,O.push(m)}!function D(l,f){for(const m in l)f.call(void 0,l[m],m,l)}(f,function(y){return y.join(", ")})})(this.g),400==m&&0<W.indexOf("Unknown SID")?(this.s=3,kn(12)):(this.s=0,kn(13)),ma(this),nf(this)}}}catch{}},Zo.prototype.cancel=function(){this.J=!0,ma(this)},Zo.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function Cge(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(Zh(),kn(17)),ma(this),this.s=2,nf(this)):Dq(this,this.S-l)};var Age=class{constructor(l,f){this.g=l,this.map=f}};function bq(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aq(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Sq(l){return l.h?1:l.g?l.g.size:0}function z0(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function W0(l,f){l.g?l.g.add(f):l.h=f}function Rq(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function Pq(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return v(l.i)}function Mq(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var m=function Rge(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const y in l)f[m++]=y;return f}}}(l),y=function Sge(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var f=[],m=l.length,y=0;y<m;y++)f.push(l[y]);return f}for(y in f=[],m=0,l)f[m++]=l[y];return f}(l),P=y.length,O=0;O<P;O++)f.call(void 0,y[O],m&&m[O],l)}bq.prototype.cancel=function(){if(this.i=Pq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var xq=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof _a){this.h=l.h,ty(this,l.j),this.o=l.o,this.g=l.g,ny(this,l.s),this.l=l.l;var f=l.i,m=new af;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Nq(this,m),this.m=l.m}else l&&(f=String(l).match(xq))?(this.h=!1,ty(this,f[1]||"",!0),this.o=rf(f[2]||""),this.g=rf(f[3]||"",!0),ny(this,f[4]),this.l=rf(f[5]||"",!0),Nq(this,f[6]||"",!0),this.m=rf(f[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Yi(l){return new _a(l)}function ty(l,f,m){l.j=m?rf(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function ny(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Nq(l,f,m){f instanceof af?(l.i=f,function Fge(l,f){f&&!l.j&&(es(l),l.i=null,l.g.forEach(function(m,y){var P=y.toLowerCase();y!=P&&(kq(this,y),Vq(this,P,m))},l)),l.j=f}(l.i,l.h)):(m||(f=sf(f,Oge)),l.i=new af(f,l.h))}function it(l,f,m){l.i.set(f,m)}function ry(l){return it(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function rf(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function sf(l,f,m){return"string"==typeof l?(l=encodeURI(l).replace(f,Mge),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Mge(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}_a.prototype.toString=function(){var l=[],f=this.j;f&&l.push(sf(f,Oq,!0),":");var m=this.g;return(m||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(sf(f,Oq,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(sf(m,"/"==m.charAt(0)?Nge:xge,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",sf(m,kge)),l.join("")};var Oq=/[#\/\?@]/g,xge=/[#\?:]/g,Nge=/[#\?]/g,Oge=/[#\?@]/g,kge=/#/g;function af(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function es(l){l.g||(l.g=new Map,l.h=0,l.i&&function Pge(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),P=null;if(0<=y){var O=l[m].substring(0,y);P=l[m].substring(y+1)}else O=l[m];f(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}function kq(l,f){es(l),f=Nc(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Fq(l,f){return es(l),f=Nc(l,f),l.g.has(f)}function Vq(l,f,m){kq(l,f),0<m.length&&(l.i=null,l.g.set(Nc(l,f),v(m)),l.h+=m.length)}function Nc(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function ts(l,f,m,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(m)}catch{}}function Uge(){this.g=new Ege}function jge(l,f,m){const y=m||"";try{Mq(l,function(P,O){let W=P;c(P)&&(W=V0(P)),f.push(y+O+"="+encodeURIComponent(W))})}catch(P){throw f.push(y+"type="+encodeURIComponent("_badmap")),P}}function uf(l){this.l=l.Ub||null,this.j=l.eb||!1}function iy(l,f){En.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lq(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function cf(l){l.readyState=4,l.l=null,l.j=null,l.v=null,lf(l)}function lf(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function Uq(l){let f="";return Y(l,function(m,y){f+=y,f+=":",f+=m,f+="\r\n"}),f}function K0(l,f,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=Uq(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):it(l,f,m))}function _t(l){En.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=af.prototype).add=function(l,f){es(this),this.i=null,l=Nc(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this},t.forEach=function(l,f){es(this),this.g.forEach(function(m,y){m.forEach(function(P){l.call(f,P,y,this)},this)},this)},t.na=function(){es(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let y=0;y<f.length;y++){const P=l[y];for(let O=0;O<P.length;O++)m.push(f[y])}return m},t.V=function(l){es(this);let f=[];if("string"==typeof l)Fq(this,l)&&(f=f.concat(this.g.get(Nc(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return es(this),this.i=null,Fq(this,l=Nc(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var y=f[m];const O=encodeURIComponent(String(y)),W=this.V(y);for(y=0;y<W.length;y++){var P=O;""!==W[y]&&(P+="="+encodeURIComponent(String(W[y]))),l.push(P)}}return this.i=l.join("&")},_(uf,L0),uf.prototype.g=function(){return new iy(this.l,this.j)},uf.prototype.i=function(l){return function(){return l}}({}),_(iy,En),(t=iy.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,lf(this)},t.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,lf(this)),this.g&&(this.readyState=3,lf(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lq(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?cf(this):lf(this),3==this.readyState&&Lq(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,cf(this))},t.Qa=function(l){this.g&&(this.response=l,cf(this))},t.ga=function(){this.g&&cf(this)},t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=f.next();return l.join("\r\n")},Object.defineProperty(iy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),_(_t,En);var Bge=/^https?$/i,$ge=["POST","PUT"];function jq(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Bq(l),oy(l)}function Bq(l){l.A||(l.A=!0,On(l,"complete"),On(l,"error"))}function $q(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=Ji(l)||2!=l.Z()))if(l.u&&4==Ji(l))lq(l.Ea,0,l);else if(On(l,"readystatechange"),4==Ji(l)){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var y;if(y=0===W){var P=String(l.D).match(xq)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!Bge.test(P?P.toLowerCase():"")}m=y}if(m)On(l,"complete"),On(l,"success");else{l.m=6;try{var O=2<Ji(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",Bq(l)}}finally{oy(l)}}}function oy(l,f){if(l.g){Hq(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||On(l,"ready");try{m.onreadystatechange=y}catch{}}}function Hq(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function Ji(l){return l.g?l.g.readyState:0}function Gq(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function df(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function qq(l){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=df("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=df("baseRetryDelayMs",5e3,l),this.cb=df("retryDelaySeedMs",1e4,l),this.Wa=df("forwardChannelMaxRetries",2,l),this.wa=df("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new bq(l&&l.concurrentRequestLimit),this.Da=new Uge,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Q0(l){if(zq(l),3==l.G){var f=l.U++,m=Yi(l.I);if(it(m,"SID",l.K),it(m,"RID",f),it(m,"TYPE","terminate"),hf(l,m),(f=new Zo(l,l.j,f)).L=2,f.v=ry(Yi(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=f.v,m=!0),m||(f.g=t4(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ey(f)}Zq(l)}function sy(l){l.g&&(J0(l),l.g.cancel(),l.g=null)}function zq(l){sy(l),l.u&&(a.clearTimeout(l.u),l.u=null),uy(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function ay(l){if(!Aq(l.h)&&!l.s){l.s=!0;var f=l.Ga;Wh||iq(),Kh||(Wh(),Kh=!0),S0.add(f,l),l.B=0}}function Wq(l,f){var m;m=f?f.l:l.U++;const y=Yi(l.I);it(y,"SID",l.K),it(y,"RID",m),it(y,"AID",l.T),hf(l,y),l.m&&l.o&&K0(y,l.m,l.o),m=new Zo(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Kq(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),W0(l.h,m),H0(m,y,f)}function hf(l,f){l.H&&Y(l.H,function(m,y){it(f,y,m)}),l.l&&Mq({},function(m,y){it(f,y,m)})}function Kq(l,f,m){m=Math.min(l.i.length,m);var y=l.l?p(l.l.Na,l.l,l):null;e:{var P=l.i;let O=-1;for(;;){const W=["count="+m];-1==O?0<m?(O=P[0].g,W.push("ofs="+O)):O=0:W.push("ofs="+O);let ze=!0;for(let un=0;un<m;un++){let Me=P[un].g;const wn=P[un].map;if(Me-=O,0>Me)O=Math.max(0,P[un].g-100),ze=!1;else try{jge(wn,W,"req"+Me+"_")}catch{y&&y(wn)}}if(ze){y=W.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,y}function Qq(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Wh||iq(),Kh||(Wh(),Kh=!0),S0.add(f,l),l.v=0}}function Y0(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=ef(p(l.Fa,l),Xq(l,l.v)),l.v++,0))}function J0(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function Yq(l){l.g=new Zo(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=Yi(l.qa);it(f,"RID","rpc"),it(f,"SID",l.K),it(f,"AID",l.T),it(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&it(f,"TO",l.ja),it(f,"TYPE","xmlhttp"),hf(l,f),l.m&&l.o&&K0(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=ry(Yi(f)),m.m=null,m.P=!0,Tq(m,l)}function uy(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function Jq(l,f){var m=null;if(l.g==f){uy(l),J0(l),l.g=null;var y=2}else{if(!z0(l.h,f))return;m=f.D,Rq(l.h,f),y=1}if(0!=l.G)if(f.o)if(1==y){m=f.m?f.m.length:0,f=Date.now()-f.F;var P=l.B;On(y=J_(),new vq(y,m)),ay(l)}else Qq(l);else if(3==(P=f.s)||0==P&&0<f.X||!(1==y&&function Gge(l,f){return!(Sq(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=ef(p(l.Ga,l,f),Xq(l,l.B)),l.B++,0)))}(l,f)||2==y&&Y0(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),P){case 1:ya(l,5);break;case 4:ya(l,10);break;case 3:ya(l,6);break;default:ya(l,2)}}function Xq(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function ya(l,f){if(l.j.info("Error code "+f),2==f){var m=p(l.fb,l),y=l.Xa;const P=!y;y=new _a(y||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ty(y,"https"),ry(y),P?function Vge(l,f){const m=new tf;if(a.Image){const y=new Image;y.onload=g(ts,m,"TestLoadImage: loaded",!0,f,y),y.onerror=g(ts,m,"TestLoadImage: error",!1,f,y),y.onabort=g(ts,m,"TestLoadImage: abort",!1,f,y),y.ontimeout=g(ts,m,"TestLoadImage: timeout",!1,f,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else f(!1)}(y.toString(),m):function Lge(l,f){new tf;const y=new AbortController,P=setTimeout(()=>{y.abort(),ts(0,0,!1,f)},1e4);fetch(l,{signal:y.signal}).then(O=>{clearTimeout(P),ts(0,0,!!O.ok,f)}).catch(()=>{clearTimeout(P),ts(0,0,!1,f)})}(y.toString(),m)}else kn(2);l.G=0,l.l&&l.l.sa(f),Zq(l),zq(l)}function Zq(l){if(l.G=0,l.ka=[],l.l){const f=Pq(l.h);(0!=f.length||0!=l.i.length)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function e4(l,f,m){var y=m instanceof _a?Yi(m):new _a(m);if(""!=y.g)f&&(y.g=f+"."+y.g),ny(y,y.s);else{var P=a.location;y=P.protocol,f=f?f+"."+P.hostname:P.hostname,P=+P.port;var O=new _a(null);y&&ty(O,y),f&&(O.g=f),P&&ny(O,P),m&&(O.l=m),y=O}return f=l.ya,(m=l.D)&&f&&it(y,m,f),it(y,"VER",l.la),hf(l,y),y}function t4(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new _t(l.Ca&&!l.pa?new uf({eb:m}):l.pa)).Ha(l.J),f}function n4(){}function cy(){}function sr(l,f){En.call(this),this.g=new qq(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!b(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!b(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Oc(this)}function r4(l){U0.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function i4(){j0.call(this),this.status=1}function Oc(l){this.g=l}(t=_t.prototype).Ha=function(l){this.J=l},t.ea=function(l,f,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():B0.g(),this.v=function pq(l){return l.h||(l.h=l.i())}(this.o?this.o:B0),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(O){return void jq(this,O)}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)m.set(P,y[P]);else{if("function"!=typeof y.keys||"function"!=typeof y.get)throw Error("Unknown input type for opt_headers: "+String(y));for(const O of y.keys())m.set(O,y.get(O))}y=Array.from(m.keys()).find(O=>"content-type"==O.toLowerCase()),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call($ge,f,void 0))||y||P||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of m)this.g.setRequestHeader(O,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hq(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){jq(this,O)}},t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,On(this,"complete"),On(this,"abort"),oy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oy(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$q(this):this.bb())},t.bb=function(){$q(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),Ige(f)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=qq.prototype).la=8,t.G=1,t.connect=function(l,f,m,y){kn(0),this.W=l,this.H=f||{},m&&void 0!==y&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=e4(this,null,this.W),ay(this)},t.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new Zo(this,this.j,l);let O=this.o;if(this.S&&(O?(O=w(O),S(O,this.S)):O=this.S),null!==this.m||this.O||(P.H=O,O=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){var y=this.i[m];if(void 0===(y="__data__"in y.map&&"string"==typeof(y=y.map.__data__)?y.length:void 0))break;if(4096<(f+=y)){f=m;break e}if(4096===f||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Kq(this,P,f),it(m=Yi(this.I),"RID",l),it(m,"CVER",22),this.D&&it(m,"X-HTTP-Session-Id",this.D),hf(this,m),O&&(this.O?f="headers="+encodeURIComponent(String(Uq(O)))+"&"+f:this.m&&K0(m,this.m,O)),W0(this.h,P),this.Ua&&it(m,"TYPE","init"),this.P?(it(m,"$req",f),it(m,"SID","null"),P.T=!0,H0(P,m,null)):H0(P,m,f),this.G=2}}else 3==this.G&&(l?Wq(this,l):0==this.i.length||Aq(this.h)||Wq(this))},t.Fa=function(){if(this.u=null,Yq(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ef(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kn(10),sy(this),Yq(this))},t.Za=function(){null!=this.C&&(this.C=null,sy(this),Y0(this),kn(19))},t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),kn(2)):(this.j.info("Failed to ping google.com"),kn(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=n4.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},cy.prototype.g=function(l,f){return new sr(l,f)},_(sr,En),sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Q0(this.g)},sr.prototype.o=function(l){var f=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=V0(l),l=m);f.i.push(new Age(f.Ya++,l)),3==f.G&&ay(f)},sr.prototype.N=function(){this.g.l=null,delete this.j,Q0(this.g),delete this.g,sr.aa.N.call(this)},_(r4,U0),_(i4,j0),_(Oc,n4),Oc.prototype.ua=function(){On(this.g,"a")},Oc.prototype.ta=function(l){On(this.g,new r4(l))},Oc.prototype.sa=function(l){On(this.g,new i4)},Oc.prototype.ra=function(){On(this.g,"b")},cy.prototype.createWebChannel=cy.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,Qj=ji.createWebChannelTransport=function(){return new cy},Kj=ji.getStatEventTarget=function(){return J_()},Wj=ji.Event=ga,lb=ji.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},X_.NO_ERROR=0,X_.TIMEOUT=8,X_.HTTP_ERROR=6,$m=ji.ErrorCode=X_,Iq.COMPLETE="complete",zj=ji.EventType=Iq,gq.EventType=Xh,Xh.OPEN="a",Xh.CLOSE="b",Xh.ERROR="c",Xh.MESSAGE="d",En.prototype.listen=En.prototype.K,oh=ji.WebChannel=gq,ji.FetchXmlHttpFactory=uf,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,qj=ji.XhrIo=_t}).apply(typeof Bm<"u"?Bm:typeof self<"u"?self:typeof window<"u"?window:{});const Yj="@firebase/firestore";class Wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let qu="11.0.0";const Fo=new Tm("@firebase/firestore");function zu(){return Fo.logLevel}function U(t,...e){if(Fo.logLevel<=we.DEBUG){const n=e.map(db);Fo.debug(`Firestore (${qu}): ${t}`,...n)}}function Dt(t,...e){if(Fo.logLevel<=we.ERROR){const n=e.map(db);Fo.error(`Firestore (${qu}): ${t}`,...n)}}function yr(t,...e){if(Fo.logLevel<=we.WARN){const n=e.map(db);Fo.warn(`Firestore (${qu}): ${t}`,...n)}}function db(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function J(t="Unexpected state"){const e=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: `+t;throw Dt(e),new Error(e)}function X(t,e){t||J()}function z(t,e){return t}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Jj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class Ice{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ece{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;X(void 0===this.o);let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(I(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X("string"==typeof r.accessToken),new Jj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return X(null===e||"string"==typeof e),new Wt(e)}}class wce{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Tce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){X(void 0===this.o);const r=o=>{null!=o.error&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X("string"==typeof n.token),this.R=n.token,new Xj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Zj{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Dce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Wu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new ut(0,0))}static max(){return new ee(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sh{constructor(e,n,r){void 0===n?n=0:n>e.length&&J(),void 0===r?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===sh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends sh{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const bce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends sh{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return bce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}class K{constructor(e){this.path=e}static fromPath(e){return new K(Te.fromString(e))}static fromName(e){return new K(Te.fromString(e).popFirst(5))}static empty(){return new K(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Te.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Te(e.slice()))}}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(ee.min(),K.empty(),-1)}static max(){return new ir(ee.max(),K.empty(),-1)}}function fb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=K.comparator(t.documentKey,e.documentKey),0!==n?n:le(t.largestBatchId,e.largestBatchId))}const rB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vo(t){return pb.apply(this,arguments)}function pb(){return(pb=I(function*(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==rB)throw t;U("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Lo(t){return"IndexedDbTransactionError"===t.name}let or=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function uh(t){return null==t}function ch(t){return 0===t&&1/t==-1/0}function Nce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function uB(t){return t+"\x01\x01"}function pB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Xe{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qm(this.root,e,this.comparator,!0)}}class qm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1,rn.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,o){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _B(this.data.getIterator())}getIteratorFrom(e){return new _B(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class _B{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new $e(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class yB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yB("Invalid base64 string: "+o):o}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const Xce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(X(!!t),"string"==typeof t){let e=0;const n=Xce.exec(t);if(X(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $i(t){return"string"==typeof t?mt.fromBase64String(t):mt.fromUint8Array(t)}function zm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wm(t){const e=t.mapValue.fields.__previous_value__;return zm(e)?Wm(e):e}function lh(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}class Zce{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ys{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ys("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ys&&e.projectId===this.projectId&&e.database===this.database}}const jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zm(t)?4:TB(t)?9007199254740991:Jm(t)?10:11:J()}function hi(t,e){if(t===e)return!0;const n=Bo(t);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lh(t).isEqual(lh(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Bi(i.timestampValue),a=Bi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,$i(t.bytesValue).isEqual($i(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=lt(i.doubleValue),a=lt(o.doubleValue);return s===a?ch(s)===ch(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(pB(s)!==pB(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!hi(s[u],a[u])))return!1;return!0}(t,e);default:return J()}var o}function dh(t,e){return void 0!==(t.values||[]).find(n=>hi(n,e))}function $o(t,e){if(t===e)return 0;const n=Bo(t),r=Bo(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=lt(o.integerValue||o.doubleValue),u=lt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return vB(t.timestampValue,e.timestampValue);case 4:return vB(lh(t),lh(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(o,s){const a=$i(o),u=$i(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=le(a[c],u[c]);if(0!==d)return d}return le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=le(lt(o.latitude),lt(s.latitude));return 0!==a?a:le(lt(o.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IB(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const g=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,_=null===(u=(s.fields||{}).value)||void 0===u?void 0:u.arrayValue,v=le((null===(c=g?.values)||void 0===c?void 0:c.length)||0,(null===(d=_?.values)||void 0===d?void 0:d.length)||0);return 0!==v?v:IB(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===jo.mapValue&&s===jo.mapValue)return 0;if(o===jo.mapValue)return 1;if(s===jo.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=le(u[h],d[h]);if(0!==p)return p;const g=$o(a[u[h]],c[d[h]]);if(0!==g)return g}return le(u.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function vB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return le(t,e);const n=Bi(t),r=Bi(e),i=le(n.seconds,r.seconds);return 0!==i?i:le(n.nanos,r.nanos)}function IB(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=$o(n[i],r[i]);if(o)return o}return le(n.length,r.length)}function Ju(t){return yb(t)}function yb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$i(t.bytesValue).toBase64():"referenceValue"in t?K.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=yb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${yb(n.fields[s])}`;return i+"}"}(t.mapValue):J()}function Qm(t){switch(Bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wm(t);return e?16+Qm(e):16;case 5:return 2*t.stringValue.length;case 6:return $i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((i,o)=>i+Qm(o),0);case 10:case 11:return function(r){let i=0;return Uo(r.fields,(o,s)=>{i+=o.length+Qm(s)}),i}(t.mapValue);default:throw J()}}function vb(t){return!!t&&"integerValue"in t}function hh(t){return!!t&&"arrayValue"in t}function EB(t){return!!t&&"nullValue"in t}function wB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ym(t){return!!t&&"mapValue"in t}function Jm(t){var e,n;return"__vector__"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ym(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fh(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=fh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ym(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ym(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new on(fh(this.value))}}function AB(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new ct([n]);if(Ym(r)){const o=AB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Hn(e)}class rt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rt(e,0,ee.min(),ee.min(),ee.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new rt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new rt(e,2,n,ee.min(),ee.min(),on.empty(),0)}static newUnknownDocument(e,n){return new rt(e,3,n,ee.min(),ee.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ho{constructor(e,n){this.position=e,this.inclusive=n}}function SB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?K.comparator(K.fromName(s.referenceValue),n.key):$o(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function RB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function nle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class PB{}class Ce extends PB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new rle(e,n,r):"array-contains"===n?new sle(e,r):"in"===n?new FB(e,r):"not-in"===n?new ale(e,r):"array-contains-any"===n?new ule(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ile(e,r):new ole(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($o(n,this.value)):null!==n&&Bo(this.value)===Bo(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class je extends PB{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new je(e,n)}matches(e){return Xu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xu(t){return"and"===t.op}function Eb(t){return function MB(t){for(const e of t.filters)if(e instanceof je)return!1;return!0}(t)&&Xu(t)}function wb(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+Ju(t.value);if(Eb(t))return t.filters.map(e=>wb(e)).join(",");{const e=t.filters.map(n=>wb(n)).join(",");return`${t.op}(${e})`}}function xB(t,e){return t instanceof Ce?(r=t,(i=e)instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&hi(r.value,i.value)):t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&xB(s,i.filters[a]),!0)}(t,e):void J();var r,i}function OB(t){return t instanceof Ce?`${(n=t).field.canonicalString()} ${n.op} ${Ju(n.value)}`:t instanceof je?function(n){return n.op.toString()+" {"+n.getFilters().map(OB).join(" ,")+"}"}(t):"Filter";var n}class rle extends Ce{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class ile extends Ce{constructor(e,n){super(e,"in",n),this.keys=kB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ole extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=kB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class sle extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hh(n)&&dh(n.arrayValue,this.value)}}class FB extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&dh(this.value.arrayValue,n)}}class ale extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!dh(this.value.arrayValue,n)}}class ule extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dh(this.value.arrayValue,r))}}class cle{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Tb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cle(t,e,n,r,i,o,s)}function Xs(t){const e=z(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ju(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ju(r)).join(",")),e.ue=n}return e.ue}function gh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nle(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RB(t.startAt,e.startAt)&&RB(t.endAt,e.endAt)}function Xm(t){return K.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Hi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function Zu(t){return new Hi(t)}function jB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ec(t){const e=z(t);if(null===e.ce){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $e(ct.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ph(o,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new ph(ct.keyField(),r))}return e.ce}function _n(t){const e=z(t);return e.le||(e.le=function $B(t,e){if("F"===t.limitType)return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new ph(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ho(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ho(t.startAt.position,t.startAt.inclusive):null;return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ec(t))),e.le}function e_(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mh(t,e){return gh(_n(t),_n(e))&&t.limitType===e.limitType}function HB(t){return`${Xs(_n(t))}|lt:${t.limitType}`}function tc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OB(i)).join(", ")}]`),uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ju(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ju(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ec(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=SB(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,ec(r),i)||r.endAt&&!function(s,a,u){const c=SB(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,ec(r),i)));var r,i}function qB(t){return(e,n)=>{let r=!1;for(const i of ec(t)){const o=lle(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function lle(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?$o(u,c):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return mB(this.inner)}size(){return this.innerSize}}const dle=new Xe(K.comparator);function Gn(){return dle}const zB=new Xe(K.comparator);function yh(...t){let e=zB;for(const n of t)e=e.insert(n.key,n);return e}function WB(t){let e=zB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return vh()}function KB(){return vh()}function vh(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const hle=new Xe(K.comparator),fle=new $e(K.comparator);function ge(...t){let e=fle;for(const n of t)e=e.add(n);return e}const ple=new $e(le);function Ab(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function QB(t){return{integerValue:""+t}}function YB(t,e){return function aB(t){return"number"==typeof t&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?QB(e):Ab(t,e)}class t_{constructor(){this._=void 0}}function gle(t,e,n){return t instanceof nc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zm(o)&&(o=Wm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Zs?XB(t,e):t instanceof ea?ZB(t,e):function(i,o){const s=JB(i,o),a=e$(s)+e$(i.Pe);return vb(s)&&vb(i.Pe)?QB(a):Ab(i.serializer,a)}(t,e)}function mle(t,e,n){return t instanceof Zs?XB(t,e):t instanceof ea?ZB(t,e):n}function JB(t,e){return t instanceof rc?vb(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class nc extends t_{}class Zs extends t_{constructor(e){super(),this.elements=e}}function XB(t,e){const n=t$(e);for(const r of t.elements)n.some(i=>hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ea extends t_{constructor(e){super(),this.elements=e}}function ZB(t,e){let n=t$(e);for(const r of t.elements)n=n.filter(i=>!hi(i,r));return{arrayValue:{values:n}}}class rc extends t_{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e$(t){return lt(t.integerValue||t.doubleValue)}function t$(t){return hh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class yle{constructor(e,n){this.version=e,this.transformResults=n}}class dt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dt}static exists(e){return new dt(void 0,e)}static updateTime(e){return new dt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class r_{}function n$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new oc(t.key,dt.none()):new ic(t.key,t.data,dt.none());{const n=t.data,r=on.empty();let i=new $e(ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new qi(t.key,r,new Hn(i.toArray()),dt.none())}}function vle(t,e,n){t instanceof ic?function(i,o,s){const a=i.value.clone(),u=o$(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(i,o,s){if(!n_(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=o$(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(i$(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Eh(t,e,n,r){return t instanceof ic?function(o,s,a,u){if(!n_(o.precondition,s))return a;const c=o.value.clone(),d=s$(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(o,s,a,u){if(!n_(o.precondition,s))return a;const c=s$(o.fieldTransforms,u,s),d=s.data;return d.setAll(i$(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):(a=n,n_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Ile(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=JB(r.transform,i||null);null!=o&&(null===n&&(n=on.empty()),n.set(r.field,o))}return n||null}function r$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Wu(r,i,(o,s)=>function _le(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Zs&&i instanceof Zs||r instanceof ea&&i instanceof ea?Wu(r.elements,i.elements,hi):r instanceof rc&&i instanceof rc?hi(r.Pe,i.Pe):r instanceof nc&&i instanceof nc);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class ic extends r_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends r_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function i$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function o$(t,e,n){const r=new Map;X(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,mle(s,a,n[i]))}return r}function s$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,gle(o,s,e))}return r}class oc extends r_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sb extends r_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&vle(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KB();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=n$(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,(n,r)=>r$(n,r))&&Wu(this.baseMutations,e.baseMutations,(n,r)=>r$(n,r))}}class Pb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length);let i=function(){return hle}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Pb(e,n,r,i)}}class Mb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ele{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,Se;function c$(t){if(void 0===t)return Dt("GRPC error has no .code"),N.UNKNOWN;switch(t){case Nt.OK:return N.OK;case Nt.CANCELLED:return N.CANCELLED;case Nt.UNKNOWN:return N.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return N.INTERNAL;case Nt.UNAVAILABLE:return N.UNAVAILABLE;case Nt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Nt.NOT_FOUND:return N.NOT_FOUND;case Nt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Nt.ABORTED:return N.ABORTED;case Nt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Nt.DATA_LOSS:return N.DATA_LOSS;default:return J()}}(Se=Nt||(Nt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";const wle=new zs([4294967295,4294967295],0);function d$(t){const e=function l$(){return new TextEncoder}().encode(t),n=new Gj;return n.update(e),new Uint8Array(n.digest())}function h$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zs([n,r],0),new zs([i,o],0)]}class xb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new wh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zs.fromNumber(r)));return 1===i.compare(wle)&&(i=new zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=d$(e),[r,i]=h$(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new xb(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const n=d$(e),[r,i]=h$(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(ee.min(),i,new Xe(le),Gn(),ge())}}class Ch{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ch(r,n,ge(),ge(),ge())}}class o_{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class f${constructor(e,n){this.targetId=e,this.me=n}}class p${constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g${constructor(){this.fe=0,this.ge=_$(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Ch(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=_$()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,X(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Tle{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gn(),this.qe=m$(),this.Qe=new Xe(le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Xm(o))if(0===r){const s=new K(o.path);this.Ue(n,s,rt.newNoDocument(s,ee.min()))}else X(1===r);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(n),this.Qe=this.Qe.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=$i(r).toUint8Array()}catch(u){if(u instanceof yB)return yr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new xb(s,i,o)}catch(u){return yr(u instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Xm(a.target)){const u=new K(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,rt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Th(e,n,this.Qe,this.ke,r);return this.ke=Gn(),this.qe=m$(),this.Qe=new Xe(le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g$,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $e(le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g$),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function m$(){return new Xe(K.comparator)}function _$(){return new Xe(K.comparator)}const Cle={asc:"ASCENDING",desc:"DESCENDING"},Dle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ble={and:"AND",or:"OR"};class Ale{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nb(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sle(t,e){return sc(t,e.toTimestamp())}function bt(t){return X(!!t),ee.fromTimestamp(function(n){const r=Bi(n);return new ut(r.seconds,r.nanos)}(t))}function Ob(t,e){return kb(t,e).canonicalString()}function kb(t,e){const n=(i=t,new Te(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function v$(t){const e=Te.fromString(t);return X(P$(e)),e}function Dh(t,e){return Ob(t.databaseId,e.path)}function pi(t,e){const n=v$(e);if(n.get(1)!==t.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(w$(n))}function I$(t,e){return Ob(t.databaseId,e)}function Fb(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w$(t){return X(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function T$(t,e,n){return{name:Dh(t,e),fields:n.value.mapValue.fields}}function D$(t,e){return{documents:[I$(t,e.path)]}}function s_(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=I$(t,i);const o=function(c){if(0!==c.length)return R$(je.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:Go((p=d).field),direction:Nle(p.dir)};var p})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Nb(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i};var c}function A$(t){let e=function E$(t){const e=v$(t);return 4===e.length?Te.emptyPath():w$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X(1===r);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=S$(h);return p instanceof je&&Eb(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(p=>{return new ph(ac((_=p).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let a=null;n.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,uh(p)?null:p}(n.limit));let u=null;var h;n.startAt&&(u=new Ho((h=n.startAt).values||[],!!h.before));let c=null;return n.endAt&&(c=function(h){return new Ho(h.values||[],!h.before)}(n.endAt)),function UB(t,e,n,r,i,o,s,a){return new Hi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function S$(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ac(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ac(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ac(n.unaryFilter.field);return Ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ac(n.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):void 0!==t.fieldFilter?Ce.create(ac((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return je.create(n.compositeFilter.filters.map(r=>S$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J();var n}function Nle(t){return Cle[t]}function Ole(t){return Dle[t]}function kle(t){return ble[t]}function Go(t){return{fieldPath:t.canonicalString()}}function ac(t){return ct.fromServerFormat(t.fieldPath)}function R$(t){return t instanceof Ce?function(n){if("=="===n.op){if(wB(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(EB(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(wB(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(EB(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:Ole(n.op),value:n.value}}}(t):t instanceof je?function(n){const r=n.getFilters().map(i=>R$(i));return 1===r.length?r[0]:{compositeFilter:{op:kle(n.op),filters:r}}}(t):J()}function Fle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function P$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class zi{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M${constructor(e){this.ct=e}}function Lb(t){const e=A$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?e_(e,e.limit,"L"):e}class ia{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ch(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),"string"==typeof r&&(r=Bi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt($i(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?TB(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Jm(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):J()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(n,15),n.At(lt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}ia.vt=new ia;class qle{constructor(){this.un=new Gb}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ir.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class Gb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(Te.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(Te.comparator)).toArray()}}new Uint8Array(0);const z$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class sa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sa(0)}static kn(){return new sa(-1)}}function J$([t,e],[n,r]){const i=le(t,n);return 0===i?le(e,r):i}class Kle{constructor(e){this.Un=e,this.buffer=new $e(J$),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();J$(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var n=this;U("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,I(function*(){n.jn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Lo(r)?U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Vo(r)}yield n.Hn(3e5)}))}}class Qle{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return M.resolve(or.oe);const r=new Kle(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(z$)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z$):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),zu()<=we.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${h} documents in `+(c-u)+`ms\nTotal Duration: ${c-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class eH{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Eh(r.mutation,i,Hn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=yh();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Gn();const s=vh(),a=vh();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof qi)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),Eh(d.mutation,c,d.mutation.getFieldMask(),ut.now())):s.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new Zle(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vh();let i=new Xe((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let d=r.get(u)||Hn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=KB();d.forEach(p=>{if(!o.has(p)){const g=n$(n.get(p),r.get(p));null!==g&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return K.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Cb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(fi());let a=-1,u=o;return s.next(c=>M.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ge())).next(d=>({batchId:a,changes:WB(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=yh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=yh();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{const c=(h=n,p=u.child(o),new Hi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,rt.newInvalidDocument(d)))});let a=yh();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&Eh(d.mutation,c,Hn.empty(),ut.now()),_h(n,c)&&(a=a.insert(u,c))}),a})}}class ede{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,{id:(i=n).id,version:i.version,createTime:bt(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,{name:(i=n).name,query:Lb(i.bundledQuery),readTime:bt(i.readTime)}),M.resolve();var i}}class tde{constructor(){this.overlays=new Xe(K.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=fi(),o=n.length+1,s=new K(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=fi(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=fi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Mb(n,r));let o=this.Ir.get(n);void 0===o&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}class nde{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}class qb{constructor(){this.Tr=new $e(Qt.Er),this.dr=new $e(Qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Qt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new Te([])),r=new Qt(n,e),i=new Qt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new Te([])),r=new Qt(n,e),i=new Qt(n,e+1);let o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Qt(e,0),r=this.Tr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||le(e.wr,n.wr)}static Ar(e,n){return le(e.wr,n.wr)||K.comparator(e.key,n.key)}}class rde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $e(Qt.Er)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++;const s=new Rb(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Qt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.vr(n+1),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(le);return n.forEach(i=>{const o=new Qt(i,0),s=new Qt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const s=new Qt(new K(o),0);let a=new $e(le);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),M.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){X(0===this.Fr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{const o=new Qt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Qt(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ide{constructor(e){this.Mr=e,this.docs=new Xe(K.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():rt.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Gn();const s=n.path,a=new K(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||fb(new ir((t=d).readTime,t.key,-1),r)<=0||(i.has(d.key)||_h(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}var t;return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){J()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ode(this)}getSize(e){return M.resolve(this.size)}}class ode extends eH{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class sde{constructor(e){this.persistence=e,this.Nr=new Gi(n=>Xs(n),gh),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qb,this.targetCount=0,this.kr=sa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}class zb{constructor(e,n){this.qr={},this.overlays={},this.Qr=new or(0),this.Kr=!1,this.Kr=!0,this.$r=new nde,this.referenceDelegate=e(this),this.Ur=new sde(this),this.indexManager=new qle,this.remoteDocumentCache=new ide(r=>this.referenceDelegate.Wr(r)),this.serializer=new M$(n),this.Gr=new ede(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new rde(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new ade(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ade extends iB{constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.Jr=new qb,this.Yr=null}static Zr(e){return new p_(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class g_{constructor(e,n){this.persistence=e,this.ti=new Gi(r=>function mn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uB(e)),e=Nce(t.get(n),e);return uB(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function Z$(t,e){return new Qle(t,e)}(this,n)}static Zr(e,n){return new g_(e,n)}zr(){}jr(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return M.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,s=>this.nr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),M.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qm(e.data.value)),n}nr(e,n,r){return M.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return M.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Yb(e,n.fromCache,r,i)}}class cde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class aH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function dU(){return!function toe(){var t;const e=null===(t=Im())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function oB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Tt())>0?6:4}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new cde;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zu()<=we.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",tc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(zu()<=we.DEBUG&&U("QueryEngine","Query:",tc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zu()<=we.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",tc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):M.resolve())}Yi(e,n){if(jB(n))return M.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=e_(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,s,u.readTime)?this.Yi(e,e_(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return jB(n)||i.isEqual(ee.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?M.resolve(null):(zu()<=we.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tc(n)),this.rs(e,s,n,function tB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(1e9===r?new ut(n+1,0):new ut(n,r));return new ir(i,K.empty(),e)}(i,-1)).next(a=>a))})}ts(e,n){let r=new $e(qB(e));return n.forEach((i,o)=>{_h(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return zu()<=we.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",tc(n)),this.Ji.getDocumentsMatchingQuery(e,n,ir.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class lde{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Xe(le),this._s=new Gi(o=>Xs(o),gh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function cH(t,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=I(function*(t,e){const n=z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ge();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function lH(t){const e=z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function fde(t,e){const n=z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fc(t,e,n){return Xb.apply(this,arguments)}function Xb(){return(Xb=I(function*(t,e,n){const r=z(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Lo(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})).apply(this,arguments)}function __(t,e,n){const r=z(t);let i=ee.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=z(u),p=h._s.get(d);return void 0!==p?M.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,s,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:ge())).next(a=>(function pH(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}(r,function GB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ts:o})))}class rA{constructor(){this.activeTargetIds=function bb(){return ple}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _H{constructor(){this.so=new rA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mde{_o(e){}shutdown(){}}class yH{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let I_=null;function oA(){return null===I_?I_=268435456+Math.round(2147483648*Math.random()):I_++,"0x"+I_.toString(16)}const _de={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yde{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const vn="WebChannelConnection";class vde extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=oA(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(d=>(U("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw yr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+qu,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){return`${this.Do}/v1/${r}:${_de[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=oA();return new Promise((s,a)=>{const u=new qj;u.setWithCredentials(!0),u.listenOnce(zj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $m.NO_ERROR:const d=u.getResponseJson();U(vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case $m.TIMEOUT:U(vn,`RPC '${e}' ${o} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case $m.HTTP_ERROR:const h=u.getStatus();if(U(vn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const _=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(A)>=0?A:N.UNKNOWN}(g.status);a(new j(_,g.message))}else a(new j(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{U(vn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);U(vn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=oA(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qj(),a=Kj(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");U(vn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,g=!1;const _=new yde({Io:E=>{g?U(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(U(vn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),U(vn,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),v=(E,A,b)=>{E.listen(A,F=>{try{b(F)}catch($){setTimeout(()=>{throw $},0)}})};return v(h,oh.EventType.OPEN,()=>{g||(U(vn,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),v(h,oh.EventType.CLOSE,()=>{g||(g=!0,U(vn,`RPC '${e}' stream ${i} transport closed`),_.So())}),v(h,oh.EventType.ERROR,E=>{g||(g=!0,yr(vn,`RPC '${e}' stream ${i} transport errored:`,E),_.So(new j(N.UNAVAILABLE,"The operation could not be completed")))}),v(h,oh.EventType.MESSAGE,E=>{var A;if(!g){const b=E.data[0];X(!!b);const $=b.error||(null===(A=b[0])||void 0===A?void 0:A.error);if($){U(vn,`RPC '${e}' stream ${i} received error:`,$);const Q=$.status;let Y=function(T){const S=Nt[T];if(void 0!==S)return c$(S)}(Q),D=$.message;void 0===Y&&(Y=N.INTERNAL,D="Unknown error status: "+Q+" with message "+$.message),g=!0,_.So(new j(Y,D)),h.close()}else U(vn,`RPC '${e}' stream ${i} received:`,b),_.bo(b)}}),v(a,Wj.STAT_EVENT,E=>{E.stat===lb.PROXY?U(vn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===lb.NOPROXY&&U(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function E_(){return typeof document<"u"?document:null}function Oh(t){return new Ale(t,!0)}class sA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class IH{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sA(e,n)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return I(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return I(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){var r=this;return I(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Dt(n.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(n)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go(I(function*(){e.state=0,e.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ide extends IH{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=function Ple(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:J(),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(X(void 0===d||"string"==typeof d),mt.fromBase64String(d||"")):(X(void 0===d||d instanceof Buffer||d instanceof Uint8Array),mt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?N.UNKNOWN:c$(c.code);return new j(d,c.message||"")}(s);n=new p$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pi(t,r.document.name),o=bt(r.document.updateTime),s=r.document.createTime?bt(r.document.createTime):ee.min(),a=new on({mapValue:{fields:r.document.fields}}),u=rt.newFoundDocument(i,o,s,a);n=new o_(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=pi(t,r.document),o=r.readTime?bt(r.readTime):ee.min(),s=rt.newNoDocument(i,o);n=new o_([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=pi(t,r.document);n=new o_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return J();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Ele(i,o);n=new f$(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?bt(s.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Fb(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Xm(u)?{documents:D$(o,u)}:{query:s_(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=y$(o,s.resumeToken);const c=Nb(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=sc(o,s.snapshotVersion.toTimestamp());const c=Nb(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function xle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Fb(this.serializer),n.removeTarget=e,this.a_(n)}}class Ede extends IH{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return X(!!e.streamToken),this.lastStreamToken=e.streamToken,X(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=function Mle(t,e){return t&&t.length>0?(X(void 0!==e),t.map(n=>function(i,o){let s=bt(i.updateTime?i.updateTime:o);return s.isEqual(ee.min())&&(s=bt(o)),new yle(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=bt(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Fb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function bh(t,e){let n;if(e instanceof ic)n={update:T$(t,e.key,e.value)};else if(e instanceof oc)n={delete:Dh(t,e.key)};else if(e instanceof qi)n={update:T$(t,e.key,e.data),updateMask:Fle(e.fieldMask)};else{if(!(e instanceof Sb))return J();n={verify:Dh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ea)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Sle(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:J()),n;var o}(this.serializer,r))};this.a_(n)}}class wde extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,kb(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,kb(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Tde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dt(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Cde{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(I(function*(){var u;Ko(s)&&(U("RemoteStore","Restarting streams for network reachability change."),yield(u=I(function*(d){const h=z(d);h.L_.add(4),yield pc(h),h.q_.set("Unknown"),h.L_.delete(4),yield kh(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.q_=new Tde(r,i)}}function kh(t){return aA.apply(this,arguments)}function aA(){return(aA=I(function*(t){if(Ko(t))for(const e of t.B_)yield e(!0)})).apply(this,arguments)}function pc(t){return uA.apply(this,arguments)}function uA(){return(uA=I(function*(t){for(const e of t.B_)yield e(!1)})).apply(this,arguments)}function w_(t,e){const n=z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dA(n)?lA(n):_c(n).r_()&&cA(n,e))}function gc(t,e){const n=z(t),r=_c(n);n.N_.delete(e),r.r_()&&EH(n,e),0===n.N_.size&&(r.r_()?r.o_():Ko(n)&&n.q_.set("Unknown"))}function cA(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).A_(e)}function EH(t,e){t.Q_.xe(e),_c(t).R_(e)}function lA(t){t.Q_=new Tle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.q_.v_()}function dA(t){return Ko(t)&&!_c(t).n_()&&t.N_.size>0}function Ko(t){return 0===z(t).L_.size}function wH(t){t.Q_=void 0}function Dde(t){return hA.apply(this,arguments)}function hA(){return(hA=I(function*(t){t.q_.set("Online")})).apply(this,arguments)}function bde(t){return fA.apply(this,arguments)}function fA(){return(fA=I(function*(t){t.N_.forEach((e,n)=>{cA(t,e)})})).apply(this,arguments)}function Ade(t,e){return pA.apply(this,arguments)}function pA(){return(pA=I(function*(t,e){wH(t),dA(t)?(t.q_.M_(e),lA(t)):t.q_.set("Unknown")})).apply(this,arguments)}function Sde(t,e,n){return gA.apply(this,arguments)}function gA(){return gA=I(function*(t,e,n){if(t.q_.set("Online"),e instanceof p$&&2===e.state&&e.cause)try{yield(r=I(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.N_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.N_.delete(u),o.Q_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield T_(t,r)}else if(e instanceof o_?t.Q_.Ke(e):e instanceof f$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{const r=yield lH(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.N_.get(u);if(!d)return;o.N_.set(u,d.withResumeToken(mt.EMPTY_BYTE_STRING,d.snapshotVersion)),EH(o,u);const h=new zi(d.target,u,c,d.sequenceNumber);cA(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield T_(t,r)}var r}),gA.apply(this,arguments)}function T_(t,e,n){return mA.apply(this,arguments)}function mA(){return(mA=I(function*(t,e,n){if(!Lo(e))throw e;t.L_.add(1),yield pc(t),t.q_.set("Offline"),n||(n=()=>lH(t.localStore)),t.asyncQueue.enqueueRetryable(I(function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield kh(t)}))})).apply(this,arguments)}function TH(t,e){return e().catch(n=>T_(t,n,e))}function mc(t){return _A.apply(this,arguments)}function _A(){return(_A=I(function*(t){const e=z(t),n=Qo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Rde(e);)try{const i=yield fde(e.localStore,r);if(null===i){0===e.O_.length&&n.o_();break}r=i.batchId,Pde(e,i)}catch(i){yield T_(e,i)}CH(e)&&DH(e)})).apply(this,arguments)}function Rde(t){return Ko(t)&&t.O_.length<10}function Pde(t,e){t.O_.push(e);const n=Qo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function CH(t){return Ko(t)&&!Qo(t).n_()&&t.O_.length>0}function DH(t){Qo(t).start()}function Mde(t){return yA.apply(this,arguments)}function yA(){return(yA=I(function*(t){Qo(t).p_()})).apply(this,arguments)}function xde(t){return vA.apply(this,arguments)}function vA(){return(vA=I(function*(t){const e=Qo(t);for(const n of t.O_)e.m_(n.mutations)})).apply(this,arguments)}function Nde(t,e,n){return IA.apply(this,arguments)}function IA(){return(IA=I(function*(t,e,n){const r=t.O_.shift(),i=Pb.from(r,e,n);yield TH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mc(t)})).apply(this,arguments)}function Ode(t,e){return EA.apply(this,arguments)}function EA(){return EA=I(function*(t,e){var n;e&&Qo(t).V_&&(yield(n=I(function*(i,o){if(function u$(t){switch(t){default:return J();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(a=o.code)&&a!==N.ABORTED){const s=i.O_.shift();Qo(i).s_(),yield TH(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield mc(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),CH(t)&&DH(t)}),EA.apply(this,arguments)}function bH(t,e){return wA.apply(this,arguments)}function wA(){return(wA=I(function*(t,e){const n=z(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Ko(n);n.L_.add(3),yield pc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield kh(n)})).apply(this,arguments)}function TA(t,e){return CA.apply(this,arguments)}function CA(){return(CA=I(function*(t,e){const n=z(t);e?(n.L_.delete(2),yield kh(n)):e||(n.L_.add(2),yield pc(n),n.q_.set("Unknown"))})).apply(this,arguments)}function _c(t){return t.K_||(t.K_=function(n,r,i){const o=z(n);return o.w_(),new Ide(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Dde.bind(null,t),Ro:bde.bind(null,t),mo:Ade.bind(null,t),d_:Sde.bind(null,t)}),t.B_.push(function(){var e=I(function*(n){n?(t.K_.s_(),dA(t)?lA(t):t.q_.set("Unknown")):(yield t.K_.stop(),wH(t))});return function(n){return e.apply(this,arguments)}}())),t.K_}function Qo(t){return t.U_||(t.U_=function(n,r,i){const o=z(n);return o.w_(),new Ede(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Mde.bind(null,t),mo:Ode.bind(null,t),f_:xde.bind(null,t),g_:Nde.bind(null,t)}),t.B_.push(function(){var e=I(function*(n){n?(t.U_.s_(),yield mc(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))});return function(n){return e.apply(this,arguments)}}())),t.U_}class DA{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new DA(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(t,e){if(Dt("AsyncQueue",`${e}: ${t}`),Lo(t))return new j(N.UNAVAILABLE,`${e}: ${t}`);throw t}class vc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=yh(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new vc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class AH{constructor(){this.W_=new Xe(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(n,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(n):1===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ic{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ic(e,n,vc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class kde{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Fde{constructor(){this.queries=SH(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(n,r){const i=z(n),o=i.queries;i.queries=SH(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})}(this,new j(N.ABORTED,"Firestore shutting down"))}}function SH(){return new Gi(t=>HB(t),mh)}function bA(t,e){return AA.apply(this,arguments)}function AA(){return(AA=I(function*(t,e){const n=z(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new kde,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=yc(s,`Initialization of query '${tc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&PA(n)})).apply(this,arguments)}function SA(t,e){return RA.apply(this,arguments)}function RA(){return(RA=I(function*(t,e){const n=z(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Vde(t,e){const n=z(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&PA(n)}function Lde(t,e,n){const r=z(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function PA(t){t.Y_.forEach(e=>{e.next()})}var MA,RH;(RH=MA||(MA={})).ea="default",RH.Cache="cache";class xA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==MA.Cache}}class xH{constructor(e){this.key=e}}class NH{constructor(e){this.key=e}}class OH{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=qB(e),this.Ra=new vc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new AH,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=_h(this.query,h)?h:null,_=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),E=!0):this.ga(p,g)||(r.track({type:2,doc:g}),E=!0,(u&&this.Aa(g,u)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(g,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return v(g)-v(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=null!=i&&i;const a=n&&!i?this.ya():[],u=0===this.da.size&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,0!==s.length||c?{snapshot:new Ic(this.query,e.Ra,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new AH,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new NH(r))}),this.da.forEach(r=>{e.has(r)||n.push(new xH(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Bde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $de{constructor(e){this.key=e,this.va=!1}}class Hde{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Gi(a=>HB(a),mh),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(K.comparator),this.Na=new Map,this.La=new qb,this.Ba={},this.ka=new Map,this.qa=sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Gde(t,e){return NA.apply(this,arguments)}function NA(){return(NA=I(function*(t,e,n=!0){const r=C_(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield kH(r,e,n,!0),i})).apply(this,arguments)}function qde(t,e){return OA.apply(this,arguments)}function OA(){return(OA=I(function*(t,e){const n=C_(t);yield kH(n,e,!0,!1)})).apply(this,arguments)}function kH(t,e,n,r){return kA.apply(this,arguments)}function kA(){return(kA=I(function*(t,e,n,r){const i=yield function hc(t,e){const n=z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new zi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}(t.localStore,_n(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function FA(t,e,n,r,i){return VA.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&w_(t.remoteStore,i),a})).apply(this,arguments)}function VA(){return VA=I(function*(t,e,n,r,i){t.Ka=(h,p,g)=>{return(_=I(function*(E,A,b,F){let $=A.view.ma(b);$.ns&&($=yield __(E.localStore,A.query,!1).then(({documents:w})=>A.view.ma(w,$)));const Q=F&&F.targetChanges.get(A.targetId),Y=F&&null!=F.targetMismatches.get(A.targetId),D=A.view.applyChanges($,E.isPrimaryClient,Q,Y);return KA(E,A.targetId,D.wa),D.snapshot}),function v(E,A,b,F){return _.apply(this,arguments)})(t,h,p,g);var _};const o=yield __(t.localStore,e,!0),s=new OH(e,o.Ts),a=s.ma(o.documents),u=Ch.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);KA(t,n,c.wa);const d=new Bde(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}),VA.apply(this,arguments)}function zde(t,e,n){return LA.apply(this,arguments)}function LA(){return(LA=I(function*(t,e,n){const r=z(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!mh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gc(r.remoteStore,i.targetId),Ec(r,i.targetId)}).catch(Vo))):(Ec(r,i.targetId),yield fc(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Wde(t,e){return UA.apply(this,arguments)}function UA(){return(UA=I(function*(t,e){const n=z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gc(n.remoteStore,r.targetId))})).apply(this,arguments)}function jA(){return(jA=I(function*(t,e,n){const r=function oS(t){const e=z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jde.bind(null,e),e}(t);try{const i=yield function(s,a){const u=z(s),c=ut.now(),d=a.reduce((g,_)=>g.add(_.key),ge());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Gn(),v=ge();return u.cs.getEntries(g,d).next(E=>{_=E,_.forEach((A,b)=>{b.isValidDocument()||(v=v.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(E=>{h=E;const A=[];for(const b of a){const F=Ile(b,h.get(b.key).overlayedDocument);null!=F&&A.push(new qi(b.key,F,AB(F.value.mapValue),dt.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,A,a)}).next(E=>{p=E;const A=E.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(g,E.batchId,A)})}).then(()=>({batchId:p.batchId,changes:WB(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new Xe(le)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Wi(r,i.changes),yield mc(r.remoteStore)}catch(i){const o=yc(i,"Failed to persist write");n.reject(o)}})).apply(this,arguments)}function FH(t,e){return BA.apply(this,arguments)}function BA(){return(BA=I(function*(t,e){const n=z(t);try{const r=yield function hde(t,e){const n=z(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);var v,E,A;null!==e.targetMismatches.get(h)?g=g.withResumeToken(mt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),E=g,A=d,(0===(v=p).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(o,g))});let u=Gn(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function dH(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Gn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(ee.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?X(s.va):i.removedDocuments.size>0&&(X(s.va),s.va=!1))}),yield Wi(n,r,e)}catch(r){yield Vo(r)}})).apply(this,arguments)}function VH(t,e,n){const r=z(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=z(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&PA(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qde(t,e,n){return $A.apply(this,arguments)}function $A(){return($A=I(function*(t,e,n){const r=z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xe(K.comparator);s=s.insert(o,rt.newNoDocument(o,ee.min()));const a=ge().add(o),u=new Th(ee.min(),new Map,new Xe(le),s,a);yield FH(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),QA(r)}else yield fc(r.localStore,e,!1).then(()=>Ec(r,e,n)).catch(Vo)})).apply(this,arguments)}function Yde(t,e){return HA.apply(this,arguments)}function HA(){return(HA=I(function*(t,e){const n=z(t),r=e.batch.batchId;try{const i=yield function dde(t,e){const n=z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let g=M.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(v=>{const E=c.docVersions.get(_);X(null!==E),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);WA(n,r,null),zA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wi(n,i)}catch(i){yield Vo(i)}})).apply(this,arguments)}function Jde(t,e,n){return GA.apply(this,arguments)}function GA(){return(GA=I(function*(t,e,n){const r=z(t);try{const i=yield function(s,a){const u=z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(X(null!==h),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);WA(r,e,n),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wi(r,i)}catch(i){yield Vo(i)}})).apply(this,arguments)}function zA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function WA(t,e,n){const r=z(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ec(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||LH(t,r)})}function LH(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(gc(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),QA(t))}function KA(t,e,n){for(const r of n)r instanceof xH?(t.La.addReference(r.key,e),Zde(t,r)):r instanceof NH?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||LH(t,r.key)):J()}function Zde(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),QA(t))}function QA(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(Te.fromString(e)),r=t.qa.next();t.Na.set(r,new $de(n)),t.Oa=t.Oa.insert(n,r),w_(t.remoteStore,new zi(_n(Zu(n.path)),r,"TargetPurposeLimboResolution",or.oe))}}function Wi(t,e,n){return YA.apply(this,arguments)}function YA(){return YA=I(function*(t,e,n){const r=z(t),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=n?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Yb.Wi(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=I(function*(c,d){const h=z(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(d,g=>M.forEach(g.$i,_=>h.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>M.forEach(g.Ui,_=>h.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Lo(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const _=h.os.get(g),E=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);h.os=h.os.insert(g,E)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),YA.apply(this,arguments)}function ehe(t,e){return JA.apply(this,arguments)}function JA(){return(JA=I(function*(t,e){const n=z(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=yield cH(n.localStore,e);n.currentUser=e,(o=n).ka.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wi(n,r.hs)}var o})).apply(this,arguments)}function the(t,e){const n=z(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function C_(t){const e=z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=the.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qde.bind(null,e),e.Ca.d_=Vde.bind(null,e.eventManager),e.Ca.$a=Lde.bind(null,e.eventManager),e}let D_=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return I(function*(){r.serializer=Oh(n.databaseInfo.databaseId),r.sharedClientState=r.Wa(n),r.persistence=r.Ga(n),yield r.persistence.start(),r.localStore=r.za(n),r.gcScheduler=r.ja(n,r.localStore),r.indexBackfillerScheduler=r.Ha(n,r.localStore)})()}ja(n,r){return null}Ha(n,r){return null}za(n){return function uH(t,e,n,r){return new lde(t,e,n,r)}(this.persistence,new aH,n.initialUser,this.serializer)}Ga(n){return new zb(p_.Zr,this.serializer)}Wa(n){return new _H}terminate(){var n=this;return I(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})();class sS extends D_{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){return X(this.persistence.referenceDelegate instanceof g_),new X$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ga(e){const n=void 0!==this.cacheSizeBytes?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new zb(r=>g_.Zr(r,n),this.serializer)}}let wc=(()=>{class t{initialize(n,r){var i=this;return I(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>VH(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=ehe.bind(null,i.syncEngine),yield TA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Fde}createDatastore(n){const r=Oh(n.databaseInfo.databaseId),i=new vde(n.databaseInfo);return new wde(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>VH(this.syncEngine,r,0),u=yH.D()?new yH:new mde,new Cde(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,c,d,h){const p=new Hde(o,s,a,u,c,d);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return I(function*(){var r,i,o;yield(o=I(function*(a){const u=z(a);U("RemoteStore","RemoteStore shutting down."),u.L_.add(5),yield pc(u),u.k_.shutdown(),u.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class b_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}class fhe{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=Zj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=I(function*(u){U("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(U("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(I(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=yc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function uS(t,e){return cS.apply(this,arguments)}function cS(){return cS=I(function*(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=I(function*(o){r.isEqual(o)||(yield cH(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),cS.apply(this,arguments)}function HH(t,e){return lS.apply(this,arguments)}function lS(){return(lS=I(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function dS(t){return hS.apply(this,arguments)}(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bH(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bH(e.remoteStore,i)),t._onlineComponents=e})).apply(this,arguments)}function hS(){return(hS=I(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uS(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;yr("Error using user provided cache. Falling back to memory cache: "+e),yield uS(t,new D_)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield uS(t,new sS(void 0));var i;return t._offlineComponents})).apply(this,arguments)}function A_(t){return fS.apply(this,arguments)}function fS(){return(fS=I(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield HH(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield HH(t,new wc))),t._onlineComponents})).apply(this,arguments)}function Cc(t){return gS.apply(this,arguments)}function gS(){return(gS=I(function*(t){const e=yield A_(t),n=e.eventManager;return n.onListen=Gde.bind(null,e.syncEngine),n.onUnlisten=zde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wde.bind(null,e.syncEngine),n})).apply(this,arguments)}function QH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const YH=new Map;function mS(t,e,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JH(t){if(!K.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XH(t){if(K.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":J()}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=S_(t);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class eG{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Dhe(t,e,n,r){if(!0===e&&!0===r)throw new j(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=QH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eG({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eG(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new vce;switch(r.type){case"firstParty":return new Tce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return I(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YH.get(n);r&&(U("ComponentProvider","Removing Datastore"),YH.delete(n),r.terminate())}(this),Promise.resolve()}}class sn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sn(this.firestore,e,this._query)}}class At{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class gi extends sn{constructor(e,n,r){super(e,n,Zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new K(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function R_(t,e,...n){if(t=pt(t),mS("collection","path",e),t instanceof Fh){const r=Te.fromString(e,...n);return XH(r),new gi(t,null,r)}{if(!(t instanceof At||t instanceof gi))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return XH(r),new gi(t.firestore,null,r)}}function _S(t,e,...n){if(t=pt(t),1===arguments.length&&(e=Zj.newId()),mS("doc","path",e),t instanceof Fh){const r=Te.fromString(e,...n);return JH(r),new At(t,null,new K(r))}{if(!(t instanceof At||t instanceof gi))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return JH(r),new At(t.firestore,t instanceof gi?t.converter:null,new K(r))}}class nG{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sA(this,"async_queue_retry"),this.Vu=()=>{const r=E_();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=E_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=E_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Kt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return I(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(n){if(!Lo(n))throw n;U("AsyncQueue","Operation failed with retryable error: "+n)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Dt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=DA.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}wu(){var e=this;return I(function*(){let n;do{n=e.mu,yield n}while(n!==e.mu)})()}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function yS(t){return function(n){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class qe extends Fh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return I(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new nG(n),e._firestoreClient=void 0,yield n}})()}}function She(t,e){const r="string"==typeof t?t:e||"(default)",i=xo("object"==typeof t?t:KT(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(()=>{const e=aU("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function bhe(t,e,n,r={}){var i;const o=(t=Ee(t,Fh))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Wt.MOCK_USER;else{a=function Zie(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ym(JSON.stringify({alg:"none",type:"JWT"})),ym(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wt(c)}t._authCredentials=new Ice(new Jj(a,u))}}(i,...o)}return i}function gt(t){if(t._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function rG(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Zce(t._databaseId,u,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QH(d.experimentalLongPollingOptions),d.useFetchStreams));var u,d;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fhe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(mt.fromBase64String(e))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ca{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dc{constructor(e){this._methodName=e}}class IS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}class P_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const Phe=/^__.*__$/;class Mhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class oG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class M_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new M_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return O_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(sG(this.Cu)&&Phe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class xhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Oh(e)}Qu(e,n,r,i=!1){return new M_({Cu:e,methodName:n,qu:r,path:ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function la(t){const e=t._freezeSettings(),n=Oh(t._databaseId);return new xhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x_(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);AS("Data must be an object, but it was:",s,r);const a=cG(r,s);let u,c;if(o.merge)u=new Hn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=Uh(e,h,n);if(!s.contains(p))throw new j(N.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dG(d,p)||d.push(p)}u=new Hn(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new Mhe(new on(a),u,c)}class Lh extends Dc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function da(t,e){if(lG(t=pt(t)))return AS("Unsupported field value:",e,t),cG(t,e);if(t instanceof Dc)return function(r,i){if(!sG(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=da(a,i.Lu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=pt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return YB(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ut.fromDate(r);return{timestampValue:sc(i.serializer,o)}}if(r instanceof ut){const o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sc(i.serializer,o)}}if(r instanceof IS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:y$(i.serializer,r._byteString)};if(r instanceof At){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ob(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof P_)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(u=>{if("number"!=typeof u)throw a.Bu("VectorValues must only contain numeric values.");return Ab(a.serializer,u)})}}}}};var a;throw i.Bu(`Unsupported field value: ${S_(r)}`)}(t,e)}function cG(t,e){const n={};return mB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const o=da(i,e.Mu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function lG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof IS||t instanceof ua||t instanceof At||t instanceof Dc||t instanceof P_)}function AS(t,e,n){if(!lG(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=S_(n);throw e.Bu("an object"===r?t+" a custom object":t+" "+r)}var i}function Uh(t,e,n){if((e=pt(e))instanceof ca)return e._internalPath;if("string"==typeof e)return N_(t,e);throw O_("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nhe=new RegExp("[~\\*/\\[\\]]");function N_(t,e,n){if(e.search(Nhe)>=0)throw O_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ca(...e.split("."))._internalPath}catch{throw O_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function O_(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+t+u)}function dG(t,e){return t.some(n=>n.isEqual(e))}class jh{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ohe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ohe extends jh{data(){return super.data()}}function k_(t,e){return"string"==typeof e?N_(t,e):e instanceof ca?e._internalPath:e._delegate._internalPath}function hG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yG{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>lt(s.doubleValue));return new P_(o)}convertGeoPoint(e){return new IS(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);X(P$(r));const i=new Ys(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(n)||Dt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ac extends jh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new j_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class j_ extends Ac{data(e={}){return super.data(e)}}class Sc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new j_(this._firestore,this._userDataWriter,r.key,r,new ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new j_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new j_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Vhe(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Vhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class Yo extends yG{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function vG(t,e){const n=Ee(t.firestore,qe),r=_S(t),i=function U_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Hh(n,[x_(la(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,dt.exists(!1))]).then(()=>r)}function Hh(t,e){return function(r,i){const o=new Kt;return r.asyncQueue.enqueueAndForget(I(function*(){return function Kde(t,e,n){return jA.apply(this,arguments)}(yield function pS(t){return A_(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(gt(t),e)}!function(e,n=!0){qu=ju,ui(new Ur("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new qe(new Ece(r.getProvider("auth-internal")),new Cce(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ys(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),rr(Yj,"4.7.4",e),rr(Yj,"4.7.4","esm2017")}();const TG="@firebase/installations",xS="0.6.10",CG=1e4,DG=`w:${xS}`,bG="FIS_v2",efe="https://firebaseinstallations.googleapis.com/v1",tfe=36e5,Ki=new js("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AG(t){return t instanceof Lr&&t.code.includes("request-failed")}function NS({projectId:t}){return`${efe}/projects/${t}/installations`}function SG(t){return{token:t.token,requestStatus:2,expiresIn:ofe(t.expiresIn),creationTime:Date.now()}}function OS(t,e){return kS.apply(this,arguments)}function kS(){return(kS=I(function*(t,e){const r=(yield e.json()).error;return Ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function RG({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FS(t){return VS.apply(this,arguments)}function VS(){return(VS=I(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ofe(t){return Number(t.replace("s","000"))}function LS(){return(LS=I(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NS(t),i=RG(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:bG,appId:t.appId,sdkVersion:DG})},u=yield FS(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:SG(c.authToken)}}throw yield OS("Create Installation",u)})).apply(this,arguments)}function MG(t){return new Promise(e=>{setTimeout(e,t)})}const cfe=/^[cdef][\w-]{21}$/,US="";function lfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function dfe(t){return function ufe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return cfe.test(n)?n:US}catch{return US}}function Rc(t){return`${t.appName}!${t.appId}`}const Pc=new Map;function xG(t,e){const n=Rc(t);NG(n,e),function pfe(t,e){const n=function OG(){return!fa&&"BroadcastChannel"in self&&(fa=new BroadcastChannel("[Firebase] FID Change"),fa.onmessage=t=>{NG(t.data.key,t.data.fid)}),fa}();n&&n.postMessage({key:t,fid:e}),function kG(){0===Pc.size&&fa&&(fa.close(),fa=null)}()}(n,e)}function NG(t,e){const n=Pc.get(t);if(n)for(const r of n)r(e)}let fa=null;const gfe="firebase-installations-database",mfe=1,pa="firebase-installations-store";let jS=null;function BS(){return jS||(jS=EU(gfe,mfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(pa)}})),jS}function $_(t,e){return $S.apply(this,arguments)}function $S(){return($S=I(function*(t,e){const n=Rc(t),i=(yield BS()).transaction(pa,"readwrite"),o=i.objectStore(pa),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&xG(t,e.fid),e})).apply(this,arguments)}function HS(t){return GS.apply(this,arguments)}function GS(){return(GS=I(function*(t){const e=Rc(t),r=(yield BS()).transaction(pa,"readwrite");yield r.objectStore(pa).delete(e),yield r.done})).apply(this,arguments)}function Gh(t,e){return qS.apply(this,arguments)}function qS(){return(qS=I(function*(t,e){const n=Rc(t),i=(yield BS()).transaction(pa,"readwrite"),o=i.objectStore(pa),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&xG(t,a.fid),a})).apply(this,arguments)}function zS(t){return WS.apply(this,arguments)}function WS(){return WS=I(function*(t){let e;const n=yield Gh(t.appConfig,r=>{const i=function _fe(t){return VG(t||{fid:lfe(),registrationStatus:0})}(r),o=function yfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ki.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function vfe(t,e){return KS.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ife(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===US?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),WS.apply(this,arguments)}function KS(){return KS=I(function*(t,e){try{const n=yield function afe(t,e){return LS.apply(this,arguments)}(t,e);return $_(t.appConfig,n)}catch(n){throw AG(n)&&409===n.customData.serverCode?yield HS(t.appConfig):yield $_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),KS.apply(this,arguments)}function Ife(t){return QS.apply(this,arguments)}function QS(){return(QS=I(function*(t){let e=yield FG(t.appConfig);for(;1===e.registrationStatus;)yield MG(100),e=yield FG(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield zS(t);return r||n}return e})).apply(this,arguments)}function FG(t){return Gh(t,e=>{if(!e)throw Ki.create("installation-not-found");return VG(e)})}function VG(t){return function Efe(t){return 1===t.registrationStatus&&t.registrationTime+CG<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function YS(){return(YS=I(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Tfe(t,{fid:e}){return`${NS(t)}/${e}/authTokens:generate`}(t,n),i=function PG(t,{refreshToken:e}){const n=RG(t);return n.append("Authorization",function sfe(t){return`${bG} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:DG,appId:t.appId}})},u=yield FS(()=>fetch(r,a));if(u.ok)return SG(yield u.json());throw yield OS("Generate Auth Token",u)})).apply(this,arguments)}function JS(t){return XS.apply(this,arguments)}function XS(){return XS=I(function*(t,e=!1){let n;const r=yield Gh(t.appConfig,o=>{if(!UG(o))throw Ki.create("not-registered");const s=o.authToken;if(!e&&function bfe(t){return 2===t.requestStatus&&!function Afe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tfe}(t)}(s))return o;if(1===s.requestStatus)return n=function Cfe(t,e){return ZS.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Ki.create("app-offline");const a=function Sfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Dfe(t,e){return e0.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),XS.apply(this,arguments)}function ZS(){return(ZS=I(function*(t,e){let n=yield LG(t.appConfig);for(;1===n.authToken.requestStatus;)yield MG(100),n=yield LG(t.appConfig);const r=n.authToken;return 0===r.requestStatus?JS(t,e):r})).apply(this,arguments)}function LG(t){return Gh(t,e=>{if(!UG(e))throw Ki.create("not-registered");return function Rfe(t){return 1===t.requestStatus&&t.requestTime+CG<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function e0(){return e0=I(function*(t,e){try{const n=yield function wfe(t,e){return YS.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield $_(t.appConfig,r),n}catch(n){if(!AG(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield $_(t.appConfig,r)}else yield HS(t.appConfig);throw n}}),e0.apply(this,arguments)}function UG(t){return void 0!==t&&2===t.registrationStatus}function t0(){return(t0=I(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield zS(e);return r?r.catch(console.error):JS(e).catch(console.error),n.fid})).apply(this,arguments)}function n0(){return n0=I(function*(t,e=!1){const n=t;return yield function xfe(t){return r0.apply(this,arguments)}(n),(yield JS(n,e)).token}),n0.apply(this,arguments)}function r0(){return(r0=I(function*(t){const{registrationPromise:e}=yield zS(t);e&&(yield e)})).apply(this,arguments)}function a0(t){return Ki.create("missing-app-config-values",{valueName:t})}const jG="installations",Vfe=t=>{const e=t.getProvider("app").getImmediate(),n=function kfe(t){if(!t||!t.options)throw a0("App Configuration");if(!t.name)throw a0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw a0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:xo(e,"heartbeat"),_delete:()=>Promise.resolve()}},Lfe=t=>{const n=xo(t.getProvider("app").getImmediate(),jG).getImmediate();return{getId:()=>function Pfe(t){return t0.apply(this,arguments)}(n),getToken:i=>function Mfe(t){return n0.apply(this,arguments)}(n,i)}};(function Ufe(){ui(new Ur(jG,Vfe,"PUBLIC")),ui(new Ur("installations-internal",Lfe,"PRIVATE"))})(),rr(TG,xS),rr(TG,xS,"esm2017");const H_="analytics",jfe="firebase_id",Bfe="origin",$fe=6e4,Hfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u0="https://www.googletagmanager.com/gtag/js",Yt=new Tm("@firebase/analytics"),Nn=new js("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function qfe(t){if(!t.startsWith(u0)){const e=Nn.create("invalid-gtag-resource",{gtagURL:t});return Yt.warn(e.message),""}return t}function BG(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function c0(){return(c0=I(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield BG(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Yt.error(a)}t("config",i,o)})).apply(this,arguments)}function l0(){return(l0=I(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield BG(n);for(const u of s){const c=a.find(h=>h.measurementId===u),d=c&&e[c.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Yt.error(o)}})).apply(this,arguments)}const epe=30,$G=new class npe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function rpe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function d0(){return(d0=I(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:rpe(r)},o=Hfe.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function h0(){return(h0=I(function*(t,e=$G,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Nn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Nn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new upe;return setTimeout(I(function*(){a.abort()}),void 0!==n?n:$fe),HG({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function HG(t,e,n){return f0.apply(this,arguments)}function f0(){return f0=I(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=$G){var o;const{appId:s,measurementId:a}=t;try{yield function spe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function ipe(t){return d0.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function ape(t){if(!(t instanceof Lr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return Yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?gU(n,i.intervalMillis,epe):gU(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,h),Yt.debug(`Calling attemptFetch again in ${d} millis`),HG(t,h,r,i)}}),f0.apply(this,arguments)}class upe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let p0,E0;function g0(){return(g0=I(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function w0(){return(w0=I(function*(){if(!Em())return Yt.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield VT()}catch(t){return Yt.warn(Nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function T0(){return T0=I(function*(t,e,n,r,i,o,s){var a;const u=function ope(t){return h0.apply(this,arguments)}(t);u.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Yt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Yt.error(g)),e.push(u);const c=function gpe(){return w0.apply(this,arguments)}().then(g=>{if(g)return r.getId()}),[d,h]=yield Promise.all([u,c]);(function Zfe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(u0)&&n.src.includes(t))return n;return null})(o)||function Wfe(t,e){const n=function zfe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:qfe}),r=document.createElement("script"),i=`${u0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,d.measurementId),E0&&(i("consent","default",E0),function GG(t){E0=t}(void 0)),i("js",new Date);const p=null!==(a=s?.config)&&void 0!==a?a:{};return p[Bfe]="firebase",p.update=!0,null!=h&&(p[jfe]=h),i("config",d.measurementId,p),p0&&(i("set",p0),function qG(t){p0=t}(void 0)),d.measurementId}),T0.apply(this,arguments)}class _pe{constructor(e){this.app=e}_delete(){return delete mi[this.app.options.appId],Promise.resolve()}}let mi={},zG=[];const WG={};let QG,_i,G_="dataLayer",C0=!1;function vpe(t,e,n){!function ype(){const t=[];if(FT()&&t.push("This is a browser extension environment."),hU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Nn.create("invalid-analytics-context",{errorInfo:e});Yt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Nn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Nn.create("no-api-key");Yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mi[r])throw Nn.create("already-exists",{id:r});if(!C0){!function Kfe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(G_);const{wrappedGtag:o,gtagCore:s}=function Xfe(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Jfe(t,e,n,r){function o(){return o=I(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function Yfe(t,e,n,r,i){return l0.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function Qfe(t,e,n,r,i,o){return c0.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u,c]=a;t("consent",u,c)}else if("get"===s){const[u,c,d]=a;t("get",u,c,d)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){Yt.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(mi,zG,WG,G_,"gtag");_i=o,QG=s,C0=!0}return mi[r]=function mpe(t,e,n,r,i,o,s){return T0.apply(this,arguments)}(t,zG,WG,e,QG,G_,n),new _pe(t)}function YG(){return D0.apply(this,arguments)}function D0(){return(D0=I(function*(){if(FT()||!hU()||!Em())return!1;try{return yield VT()}catch{return!1}})).apply(this,arguments)}const JG="@firebase/analytics";!function Tpe(){ui(new Ur(H_,(e,{options:n})=>vpe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),ui(new Ur("analytics-internal",function t(e){try{const n=e.getProvider(H_).getImmediate();return{logEvent:(r,i,o)=>function wpe(t,e,n,r){t=pt(t),function cpe(t,e,n,r,i){return g0.apply(this,arguments)}(_i,mi[t.app.options.appId],e,n,r).catch(i=>Yt.error(i))}(n,r,i,o)}}catch(n){throw Nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),rr(JG,"0.10.9"),rr(JG,"0.10.9","esm2017")}();const Cpe={apiKey:"AIzaSyBJ4VU8NzNDGCSWE0zgPDpzW8jlmLVUwh8",authDomain:"masniofficeagenda.firebaseapp.com",projectId:"masniofficeagenda",storageBucket:"masniofficeagenda.appspot.com",messagingSenderId:"176523511925",appId:"1:176523511925:web:3c72a67b5fc3d2e679903c",measurementId:"G-P3W83HV194"};let Mc=(()=>{class t{app;auth;db;constructor(){this.app=DU(Cpe),YG().then(n=>{n&&function Ipe(t=KT()){const e=xo(t=pt(t),H_);return e.isInitialized()?e.getImmediate():function Epe(t,e={}){const n=xo(t,H_);if(n.isInitialized()){const i=n.getImmediate();if(Bs(e,n.getOptions()))return i;throw Nn.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app)}).catch(n=>{console.error("Analytics not supported:",n)}),this.auth=mce(this.app),this.db=She(this.app)}login(n,r){var i=this;return I(function*(){try{yield function Lae(t,e,n){return Ni(t.app)?Promise.reject(zt(t)):JC(pt(t),lj.credential(e,n)).catch(function(){var r=I(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&oD(t),i});return function(i){return r.apply(this,arguments)}}())}(i.auth,n,r),console.log("Login successful")}catch(o){throw i.handleError(o),new Error(o instanceof Error?o.message:"An unknown error occurred during login")}})()}addAppointment(n){var r=this;return I(function*(){if(!n.date)throw new Error("Appointment date is required");try{const i=yield vG(R_(r.db,"appointments"),{date:n.date,startTime:n.startTime,endTime:n.endTime,title:n.title,description:n.description});console.log("Appointment added with ID:",i.id)}catch(i){throw r.handleError(i),new Error("Error adding appointment: "+(i instanceof Error?i.message:"Unknown error"))}})()}getAppointments(){const n=R_(this.db,"appointments");return new Ot(r=>{const i=function Bhe(t,...e){var n,r,i;t=pt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||yS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(yS(e[s])){const h=e[s];e[s]=null===(n=h.next)||void 0===n?void 0:n.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let u,c,d;if(t instanceof At)c=Ee(t.firestore,qe),d=Zu(t._key.path),u={next:h=>{e[s]&&e[s](function PS(t,e,n){const r=n.docs.get(e._key),i=new Yo(t);return new Ac(t,i,e._key,r,new ha(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ee(t,sn);c=Ee(h.firestore,qe),d=h._query;const p=new Yo(c);u={next:g=>{e[s]&&e[s](new Sc(c,p,h,g))},error:e[s+1],complete:e[s+2]},hG(t._query)}return function(p,g,_,v){const E=new b_(v),A=new xA(g,E,_);return p.asyncQueue.enqueueAndForget(I(function*(){return bA(yield Cc(p),A)})),()=>{E.Za(),p.asyncQueue.enqueueAndForget(I(function*(){return SA(yield Cc(p),A)}))}}(gt(c),d,a,u)}(n,o=>{const s=o.docs.map(a=>({id:a.id,...a.data(),date:a.data().date,startTime:a.data().startTime,endTime:a.data().endTime,title:a.data().title,description:a.data().description}));r.next(s)},o=>{r.error(o)});return()=>i()})}handleError(n){n instanceof Error?console.error("Error:",n.message):console.error("Error:",n)}logout(){var n=this;return I(function*(){try{yield function Kae(t){return pt(t).signOut()}(n.auth),console.log("Logout successful")}catch(r){throw n.handleError(r),new Error(r instanceof Error?r.message:"An unknown error occurred during logout")}})()}isLoggedIn(){return null!==this.auth.currentUser}addFoodItem(n){var r=this;return I(function*(){try{const i=yield vG(R_(r.db,"foodItems"),{name:n.name,description:n.description,userId:n.userId??""});console.log("Food item added with ID:",i.id),n.id=i.id}catch(i){console.error("Error adding food item:",i)}})()}getFoodItems(n){var r=this;return I(function*(){const i=R_(r.db,"foodItems"),o=yield function Lhe(t){t=Ee(t,sn);const e=Ee(t.firestore,qe),n=gt(e),r=new Yo(e);return hG(t._query),function KH(t,e,n={}){const r=new Kt;return t.asyncQueue.enqueueAndForget(I(function*(){return function(o,s,a,u,c){const d=new b_({next:p=>{d.Za(),s.enqueueAndForget(()=>SA(o,h)),p.fromCache&&"server"===u.source?c.reject(new j(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new xA(a,d,{includeMetadataChanges:!0,_a:!0});return bA(o,h)}(yield Cc(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Sc(e,r,t,i))}(i),s=[];return o.forEach(a=>{a.data().userId===n&&s.push({id:a.id,...a.data()})}),s})()}updateFoodItem(n,r){var i=this;return I(function*(){const o=_S(i.db,"foodItems",n);yield function Uhe(t,e,n,...r){t=Ee(t,At);const i=Ee(t.firestore,qe),o=la(i);let s;return s="string"==typeof(e=pt(e))||e instanceof ca?function bS(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[Uh(e,r,n)],u=[i];if(o.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(Uh(e,o[p])),u.push(o[p+1]);const c=[],d=on.empty();for(let p=a.length-1;p>=0;--p)if(!dG(c,a[p])){const g=a[p];let _=u[p];_=pt(_);const v=s.Nu(g);if(_ instanceof Lh)c.push(g);else{const E=da(_,v);null!=E&&(c.push(g),d.set(g,E))}}const h=new Hn(c);return new oG(d,h,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function DS(t,e,n,r){const i=t.Qu(1,e,n);AS("Data must be an object, but it was:",i,r);const o=[],s=on.empty();Uo(r,(u,c)=>{const d=N_(e,u,n);c=pt(c);const h=i.Nu(d);if(c instanceof Lh)o.push(d);else{const p=da(c,h);null!=p&&(o.push(d),s.set(d,p))}});const a=new Hn(o);return new oG(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),Hh(i,[s.toMutation(t._key,dt.exists(!0))])}(o,{name:r.name,description:r.description,userId:r.userId}),console.log("Food item updated:",n)})()}deleteFoodItem(n){var r=this;return I(function*(){const i=_S(r.db,"foodItems",n);yield function jhe(t){return Hh(Ee(t.firestore,qe),[new oc(t._key,dt.none())])}(i),console.log("Food item deleted:",n)})()}clearFoodItems(n){var r=this;return I(function*(){const i=yield r.getFoodItems(n);for(const o of i)o.id?yield r.deleteFoodItem(o.id):console.error("Food item does not have a valid ID:",o)})()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dpe(t,e){if(1&t&&(re(0,"p",8),Ae(1),se()),2&t){const n=nn();be(),vo(n.errorMessage)}}let bpe=(()=>{class t{router;firebaseService;email="";password="";errorMessage="";constructor(n,r){this.router=n,this.firebaseService=r}login(){this.firebaseService.login(this.email,this.password).then(()=>{this.router.navigate(["/home"]).catch(n=>{console.error("Navigation to home failed:",n)})}).catch(n=>{this.errorMessage=n.message})}static \u0275fac=function(r){return new(r||t)(B(Vr),B(Mc))};static \u0275cmp=io({type:t,selectors:[["app-login"]],standalone:!0,features:[Io],decls:13,vars:3,consts:[[1,"login-container"],[3,"submit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"h2"),Ae(2,"Login"),se(),re(3,"form",1),ft("submit",function(){return i.login()}),re(4,"label",2),Ae(5,"Email:"),se(),re(6,"input",3),Mr("ngModelChange",function(s){return ei(i.email,s)||(i.email=s),s}),se(),re(7,"label",4),Ae(8,"Password:"),se(),re(9,"input",5),Mr("ngModelChange",function(s){return ei(i.password,s)||(i.password=s),s}),se(),re(10,"button",6),Ae(11,"Login"),se()(),hr(12,Dpe,2,1,"p",7),se()),2&r&&(be(6),Pr("ngModel",i.email),be(3),Pr("ngModel",i.password),be(3),$t("ngIf",i.errorMessage))},dependencies:[OT,ST,Fu,um,gT,Od,Nd,xd,ad,sd],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:300px;margin:0 auto;padding:2rem;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#fff}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;font-size:1.8rem}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#555}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;transition:border-color .3s}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;background-color:#0075ff;color:#fff;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}.login-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d9534f;margin-top:1rem;font-weight:700;text-align:center}@media (max-width: 600px){.login-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:90%}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;padding:.65rem}}"]})}return t})();const Ape=()=>["/agenda"],Spe=()=>["/add"],Rpe=()=>["/foodplanner"];let Ppe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=io({type:t,selectors:[["app-home"]],standalone:!0,features:[Io],decls:10,vars:6,consts:[[1,"tile-container"],[1,"tile",3,"routerLink"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"h1"),Ae(3,"Agenda"),se()(),re(4,"div",1)(5,"h1"),Ae(6,"Add Appointment"),se()(),re(7,"div",1)(8,"h1"),Ae(9,"Foodplanner"),se()()()),2&r&&(be(),$t("routerLink",Gl(3,Ape)),be(3),$t("routerLink",Gl(4,Spe)),be(3),$t("routerLink",Gl(5,Rpe)))},dependencies:[Ad],styles:[".tile-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));grid-gap:20px;margin:0 auto;padding:1rem;max-width:80%}.tile[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background-color:#6da7e9;border-radius:15px;box-shadow:0 4px 6px #0003;color:#fff;transition:background-color .3s,transform .3s}.tile[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}.tile[_ngcontent-%COMP%]:active{transform:translateY(2px)}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}@media (max-width: 1024px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));padding:1rem}}@media (max-width: 768px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));padding:.5rem}.tile[_ngcontent-%COMP%]{padding:1.2rem}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:.5rem}.tile[_ngcontent-%COMP%]{padding:1rem}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}}"]})}return t})();Math.pow(10,8);const eq=Symbol.for("constructDateFrom");function qh(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&eq in t?t[eq](e):t instanceof Date?new t.constructor(e):new Date(e)}function q_(t,e){return qh(e||t,t)}function tq(t,...e){const n=qh.bind(null,t||e.find(r=>"object"==typeof r));return e.map(n)}function nq(t,e,n){const r=q_(t,n?.in);if(isNaN(e))return qh(n?.in||t,NaN);if(!e)return r;const i=r.getDate(),o=qh(n?.in||t,r.getTime());return o.setMonth(r.getMonth()+e+1,0),i>=o.getDate()?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function rq(t,e){const n=q_(t,e?.in);return n.setHours(0,0,0,0),n}const Upe=()=>["/add"];function jpe(t,e){if(1&t){const n=As();re(0,"div",8),ft("click",function(){const i=uo(n).$implicit;return co(nn(2).openDay(i))}),Ae(1),eg(2,"date"),se()}if(2&t){const n=e.$implicit;be(),Jp(" ",tg(2,1,n,"d")," ")}}function Bpe(t,e){if(1&t){const n=As();re(0,"div",4)(1,"h2"),Ae(2),eg(3,"date"),se(),re(4,"button",5),ft("click",function(){return uo(n),co(nn().previousMonth())}),Ae(5,"Previous Month"),se(),re(6,"button",5),ft("click",function(){return uo(n),co(nn().nextMonth())}),Ae(7,"Next Month"),se(),re(8,"div",6),hr(9,jpe,3,4,"div",7),se()()}if(2&t){const n=nn();be(2),vo(tg(3,2,n.currentMonth,"MMMM yyyy")),be(7),$t("ngForOf",n.daysInMonth)}}function $pe(t,e){if(1&t&&(re(0,"div")(1,"strong"),Ae(2),se(),re(3,"p"),Ae(4),se()()),2&t){const n=nn().$implicit;be(2),vo(n.title),be(2),vo(n.description)}}function Hpe(t,e){if(1&t&&(re(0,"div"),hr(1,$pe,5,2,"div",15),se()),2&t){const n=e.$implicit,r=nn(2).$implicit,i=nn(2);be(),$t("ngIf",i.isTimeInSlot(n.startTime,r))}}function Gpe(t,e){if(1&t&&(re(0,"div",16),hr(1,Hpe,2,1,"div",17),se()),2&t){const n=nn(3);be(),$t("ngForOf",n.appointmentsForSelectedDay)}}function qpe(t,e){1&t&&(re(0,"div"),Ae(1," No appointments for this time slot. "),se())}function zpe(t,e){if(1&t&&(re(0,"div",12)(1,"div",13),Ae(2),se(),hr(3,Gpe,2,1,"div",14)(4,qpe,2,0,"div",15),se()),2&t){const n=e.$implicit,r=nn(2);be(2),vo(n.label),be(),$t("ngIf",r.areAppointmentsInTimeSlot(n)),be(),$t("ngIf",!r.areAppointmentsInTimeSlot(n))}}function Wpe(t,e){if(1&t){const n=As();re(0,"div",9)(1,"button",5),ft("click",function(){return uo(n),co(nn().closeDay())}),Ae(2,"Back to Month View"),se(),re(3,"h2"),Ae(4),eg(5,"date"),se(),re(6,"div",10),hr(7,zpe,5,3,"div",11),se()()}if(2&t){const n=nn();be(4),vo(tg(5,2,n.selectedDay,"EEEE, MMM d, yyyy")),be(3),$t("ngForOf",n.timeSlots)}}let Kpe=(()=>{class t{firebaseService;currentMonth=new Date;daysInMonth=[];selectedDay=null;timeSlots=[];appointments=[];appointmentsForSelectedDay=[];constructor(n){this.firebaseService=n}ngOnInit(){var n=this;return I(function*(){yield YG(),n.generateMonthDays(),n.loadAppointments()})()}generateMonthDays(){const n=function Npe(t,e){const n=q_(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}(this.currentMonth),r=function Ope(t,e){const n=q_(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}(this.currentMonth);this.daysInMonth=function Fpe(t,e){const{start:n,end:r}=function kpe(t,e){const[n,r]=tq(t,e.start,e.end);return{start:n,end:r}}(e?.in,t);let i=+n>+r;const o=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let a=e?.step??1;if(!a)return[];a<0&&(a=-a,i=!i);const u=[];for(;+s<=o;)u.push(qh(n,s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return i?u.reverse():u}({start:n,end:r})}loadAppointments(){this.firebaseService.getAppointments().subscribe({next:n=>{this.appointments=n,console.log("Loaded appointments:",JSON.stringify(this.appointments,null,2))},error:n=>{console.error("Error loading appointments:",n)}})}openDay(n){this.selectedDay=n,this.generateTimeSlots(),this.updateAppointmentsForSelectedDay()}closeDay(){this.selectedDay=null,this.appointmentsForSelectedDay=[]}generateTimeSlots(){this.timeSlots=Array.from({length:15},(n,r)=>{const i=7+r;return{label:`${i}:00 - ${i+1}:00`,startTime:`${i}:00`,endTime:`${i+1}:00`}})}isTimeInSlot(n,r){const i=new Date(`1970-01-01T${n.padStart(5,"0")}:00`),o=new Date(`1970-01-01T${r.startTime.padStart(5,"0")}:00`),s=new Date(`1970-01-01T${r.endTime.padStart(5,"0")}:00`);return i>=o&&i<s}previousMonth(){this.currentMonth=function Vpe(t,e,n){return nq(t,-e,n)}(this.currentMonth,1),this.generateMonthDays()}nextMonth(){this.currentMonth=nq(this.currentMonth,1),this.generateMonthDays()}updateAppointmentsForSelectedDay(){this.appointmentsForSelectedDay=this.getAppointmentsForSelectedDay()}getAppointmentsForSelectedDay(){if(!this.selectedDay)return[];const n=new Date(this.selectedDay).setHours(0,0,0,0);return console.log("Selected Day:",n),this.appointments.filter(r=>{const i=r.date.toDate().setHours(0,0,0,0);return console.log("Checking appointment date:",i),function Lpe(t,e,n){const[r,i]=tq(n?.in,t,e);return+rq(r)==+rq(i)}(i,n)})}areAppointmentsInTimeSlot(n){return this.appointmentsForSelectedDay.some(r=>this.isTimeInSlot(r.startTime,n))}static \u0275fac=function(r){return new(r||t)(B(Mc))};static \u0275cmp=io({type:t,selectors:[["app-agenda"]],standalone:!0,features:[Io],decls:6,vars:4,consts:[["class","month-view",4,"ngIf"],["class","day-view",4,"ngIf"],[1,"add-appointment-container"],[1,"add-appointment",3,"routerLink"],[1,"month-view"],[3,"click"],[1,"grid"],["class","day",3,"click",4,"ngFor","ngForOf"],[1,"day",3,"click"],[1,"day-view"],[1,"time-slots"],["class","time-slot",4,"ngFor","ngForOf"],[1,"time-slot"],[1,"time-label"],["class","appointments",4,"ngIf"],[4,"ngIf"],[1,"appointments"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(hr(0,Bpe,10,5,"div",0)(1,Wpe,8,5,"div",1),re(2,"div",2)(3,"div",3)(4,"h1"),Ae(5,"Add Appointment"),se()()()),2&r&&($t("ngIf",!i.selectedDay),be(),$t("ngIf",i.selectedDay),be(2),$t("routerLink",Gl(3,Upe)))},dependencies:[ad,dw,sd,LF,Ad],styles:[".month-view[_ngcontent-%COMP%], .day-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.6rem 1rem;margin:0 .5rem;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s,transform .3s;text-align:left;box-shadow:0 4px 6px #0003}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}button[_ngcontent-%COMP%]:active{transform:translateY(2px)}.month-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.month-navigation[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:2em;color:#37474f;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0075ff;color:#fff;border:none;padding:10px 16px;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00796b;transform:translateY(-2px)}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(1px)}h2[_ngcontent-%COMP%]{font-size:2.2em;margin-bottom:20px;color:#fff;background-color:#0075ff;border-radius:5px;padding:10px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;background-color:#ffaa64;padding:15px;border-radius:8px;box-shadow:0 2px 10px #0003;margin:20px}.day[_ngcontent-%COMP%]{padding:15px;cursor:pointer;background-color:#ffdfba;border:1px solid black;border-radius:8px;color:#333;font-weight:700;transition:background-color .3s,transform .3s}.day[_ngcontent-%COMP%]:hover{background-color:#f39e49;transform:scale(1.05)}.day.selected[_ngcontent-%COMP%]{background-color:#00796b;color:#fff}.day-view[_ngcontent-%COMP%]{margin-top:20px}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;padding:10px 20px;border-radius:5px;font-size:1em;cursor:pointer;margin-bottom:15px;transition:background-color .3s,transform .3s}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.day-view[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;color:#fff;margin-bottom:15px}.time-slots[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin:10px}.time-slots[_ngcontent-%COMP%]{padding:10px;background-color:#ffaa64;color:#000;border-radius:5px;transition:background-color .3s,transform .3s}.time-label[_ngcontent-%COMP%]{background-color:#ffdfba;padding:10px;color:#000;border-radius:5px;border:1px solid black;transition:background-color .3s,transform .3s}.appointments[_ngcontent-%COMP%]{background-color:#ffdfba;padding:10px;color:#000;border-radius:5px;border-left:1px solid black;border-right:1px solid black;border-bottom:1px solid black;transition:background-color .3s,transform .3s}.no-appointments[_ngcontent-%COMP%]{color:#ff5722;font-style:italic}.add-appointment-container[_ngcontent-%COMP%]{display:block;align-items:center;text-align:center;max-width:10%;min-width:200px;margin:0 auto}.add-appointment[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:.6rem;font-weight:700;cursor:pointer;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;align-items:center;display:block}.add-appointment[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}.add-appointment[_ngcontent-%COMP%]:active{transform:translateY(2px)}@media (max-width: 600px){.month-view[_ngcontent-%COMP%], .day-view[_ngcontent-%COMP%]{padding:0 10px}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.month-navigation[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%;margin:5px 0}h2[_ngcontent-%COMP%]{font-size:1.5em}}"]})}return t})();var z_,Qpe=new Uint8Array(16);function Ype(){if(!z_&&!(z_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z_(Qpe)}const Jpe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var an=[],A0=0;A0<256;++A0)an.push((A0+256).toString(16).substr(1));const tge=function ege(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(an[t[e+0]]+an[t[e+1]]+an[t[e+2]]+an[t[e+3]]+"-"+an[t[e+4]]+an[t[e+5]]+"-"+an[t[e+6]]+an[t[e+7]]+"-"+an[t[e+8]]+an[t[e+9]]+"-"+an[t[e+10]]+an[t[e+11]]+an[t[e+12]]+an[t[e+13]]+an[t[e+14]]+an[t[e+15]]).toLowerCase();if(!function Xpe(t){return"string"==typeof t&&Jpe.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},rge=function nge(t,e,n){var r=(t=t||{}).random||(t.rng||Ype)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return tge(r)};let ige=(()=>{class t{firebaseService;appointmentAdded=new ht;date=null;startTime="";endTime="";title="";description="";constructor(n){this.firebaseService=n}addAppointment(){if(console.log("Add Appointment clicked"),this.date&&this.startTime&&this.endTime&&this.title&&this.description){const n=new Date(this.date),r={id:rge(),date:ut.fromDate(n),startTime:this.startTime,endTime:this.endTime,title:this.title,description:this.description};this.firebaseService.addAppointment(r).then(()=>{this.appointmentAdded.emit(r),this.resetForm()}).catch(i=>{console.error("Error adding appointment: ",i)})}else console.error("All fields are required")}resetForm(){this.date=null,this.startTime="",this.endTime="",this.title="",this.description=""}static \u0275fac=function(r){return new(r||t)(B(Mc))};static \u0275cmp=io({type:t,selectors:[["app-add"]],outputs:{appointmentAdded:"appointmentAdded"},standalone:!0,features:[Io],decls:18,vars:5,consts:[["type","date","name","date","required","",3,"ngModelChange","ngModel"],["type","time","name","startTime","required","",3,"ngModelChange","ngModel"],["type","time","name","endTime","required","",3,"ngModelChange","ngModel"],["type","text","name","title","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(r,i){1&r&&(re(0,"form")(1,"label"),Ae(2," Date: "),re(3,"input",0),Mr("ngModelChange",function(s){return ei(i.date,s)||(i.date=s),s}),se()(),re(4,"label"),Ae(5," Start Time: "),re(6,"input",1),Mr("ngModelChange",function(s){return ei(i.startTime,s)||(i.startTime=s),s}),se()(),re(7,"label"),Ae(8," End Time: "),re(9,"input",2),Mr("ngModelChange",function(s){return ei(i.endTime,s)||(i.endTime=s),s}),se()(),re(10,"label"),Ae(11," Title: "),re(12,"input",3),Mr("ngModelChange",function(s){return ei(i.title,s)||(i.title=s),s}),se()(),re(13,"label"),Ae(14," Description: "),re(15,"textarea",4),Mr("ngModelChange",function(s){return ei(i.description,s)||(i.description=s),s}),se()(),re(16,"button",5),ft("click",function(){return i.addAppointment()}),Ae(17,"Add Appointment"),se()()),2&r&&(be(3),Pr("ngModel",i.date),be(3),Pr("ngModel",i.startTime),be(3),Pr("ngModel",i.endTime),be(3),Pr("ngModel",i.title),be(3),Pr("ngModel",i.description))},dependencies:[ad,OT,ST,Fu,um,gT,Od,Nd,xd],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:500px;margin:0 auto;padding:1.5rem;border:1px solid #ccc;border-radius:10px;box-shadow:0 2px 4px #0000001a;background-color:#f9f9f9}label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:700}input[type=date][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:5px;font-size:1rem}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[_ngcontent-%COMP%]{padding:.7rem;background-color:#0075ff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem;font-weight:700;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:1rem}input[type=date][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:.9rem}}"]})}return t})(),W_=(()=>{class t{firebaseService;router;constructor(n,r){this.firebaseService=n,this.router=r}canActivate(){return!!this.firebaseService.isLoggedIn()||(this.router.navigate(["/login"]),!1)}static \u0275fac=function(r){return new(r||t)(pe(Mc),pe(Vr))};static \u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oge(t,e){if(1&t){const n=As();re(0,"li")(1,"span"),Ae(2),se(),re(3,"button",2),ft("click",function(){const i=uo(n).$implicit;return co(nn(2).deleteFoodItem(i.id))}),Ae(4,"Delete"),se()()}if(2&t){const n=e.$implicit;be(2),RE("",n.name," (",n.description,")")}}function sge(t,e){if(1&t&&(re(0,"div")(1,"h3"),Ae(2,"Food Items"),se(),re(3,"ul"),hr(4,oge,5,2,"li",4),se()()),2&t){const n=nn();be(4),$t("ngForOf",n.foodItems)}}const age=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:bpe},{path:"home",component:Ppe,canActivate:[W_]},{path:"agenda",component:Kpe,canActivate:[W_]},{path:"add",component:ige,canActivate:[W_]},{path:"foodplanner",component:(()=>{class t{firebaseService;foodItems=[];newFoodItem={name:"",description:"",userId:""};userId="user123";constructor(n){this.firebaseService=n}ngOnInit(){this.firebaseService.getFoodItems(this.userId).then(n=>{this.foodItems=n})}addFoodItem(){this.newFoodItem.name&&(this.newFoodItem.userId=this.userId,this.firebaseService.addFoodItem(this.newFoodItem).then(()=>{this.foodItems.push(this.newFoodItem),this.newFoodItem={name:"",description:"",userId:""}}))}updateFoodItem(n){this.firebaseService.updateFoodItem(n.id,n).then(()=>{console.log("Food item updated successfully")})}deleteFoodItem(n){this.firebaseService.deleteFoodItem(n).then(()=>{this.foodItems=this.foodItems.filter(r=>r.id!==n),console.log("Food item deleted")})}clearAllItems(){this.firebaseService.clearFoodItems(this.userId).then(()=>{this.foodItems=[],console.log("All food items cleared")})}static \u0275fac=function(r){return new(r||t)(B(Mc))};static \u0275cmp=io({type:t,selectors:[["app-foodplanner"]],standalone:!0,features:[Io],decls:11,vars:3,consts:[["placeholder","Dish Name",3,"ngModelChange","ngModel"],["placeholder","Description",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(re(0,"div")(1,"h2"),Ae(2,"Food Planner"),se(),re(3,"div")(4,"input",0),Mr("ngModelChange",function(s){return ei(i.newFoodItem.name,s)||(i.newFoodItem.name=s),s}),se(),re(5,"input",1),Mr("ngModelChange",function(s){return ei(i.newFoodItem.description,s)||(i.newFoodItem.description=s),s}),se(),re(6,"button",2),ft("click",function(){return i.addFoodItem()}),Ae(7,"Add Food Item"),se()(),hr(8,sge,5,1,"div",3),re(9,"button",2),ft("click",function(){return i.clearAllItems()}),Ae(10,"Clear All Items"),se()()),2&r&&(be(4),Pr("ngModel",i.newFoodItem.name),be(),Pr("ngModel",i.newFoodItem.description),be(3),$t("ngIf",i.foodItems.length>0))},dependencies:[ad,dw,sd,OT,Fu,um,Nd]})}return t})(),canActivate:[W_]}],uge={providers:[function vY(t){const e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=GE({ngZoneFactory:()=>{const i=qE(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&hn("NgZone_CoalesceEvent"),new Fe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Pa([{provide:yY,useValue:!0},{provide:tu,useValue:!1},r])}({eventCoalescing:!0}),function Ure(t,...e){return Pa([{provide:im,multi:!0,useValue:t},[],{provide:xu,useFactory:YL,deps:[Vr]},{provide:Jl,multi:!0,useFactory:JL},e.map(n=>n.\u0275providers)])}(age),function mte(...t){const e=[],n=new Set,r=n.has(Ns.HttpTransferCacheOptions);for(const{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return Pa([[],IJ(),n.has(Ns.NoHttpTransferCache)||r?[]:jee({}),e])}()]};function cge(t,e){if(1&t){const n=As();re(0,"button",5),ft("click",function(){return uo(n),co(nn().navigateToHome())}),bs(1,"img",6),Ae(2,"Home "),se()}}function lge(t,e){if(1&t){const n=As();re(0,"button",5),ft("click",function(){return uo(n),co(nn().logout())}),bs(1,"img",7),Ae(2,"Logout "),se()}}(function ote(t,e){return tJ({rootComponent:t,...qV(e)})})((()=>{class t{router;firebaseService;title="MasniOfficeAgenda";showHomeButton=!1;showLogoutButton=!1;constructor(n,r){this.router=n,this.firebaseService=r}ngOnInit(){this.updateButtonVisibility(this.router.url),this.router.events.pipe(Xi(n=>n instanceof Ao)).subscribe(n=>{this.updateButtonVisibility(n.url)})}updateButtonVisibility(n){const r="/login"===n||"/"===n;this.showHomeButton=!r,this.showLogoutButton=!r&&this.firebaseService.isLoggedIn()}navigateToHome(){this.router.navigate(["/home"]).catch(n=>{console.error("Navigation to home failed:",n)})}logout(){this.firebaseService.logout().then(()=>{this.router.navigate(["/login"],{replaceUrl:!0}).catch(n=>{console.error("Navigation to login failed:",n)})})}static \u0275fac=function(r){return new(r||t)(B(Vr),B(Mc))};static \u0275cmp=io({type:t,selectors:[["app-root"]],standalone:!0,features:[Io],decls:8,vars:2,consts:[[1,"image-wrapper"],["src","./dog.png","alt","Dog Image"],["src","./banner.png","alt","Banner Image",1,"logo"],[1,"navigation"],["class","header-button",3,"click",4,"ngIf"],[1,"header-button",3,"click"],["src","./home.png","alt","Home Icon"],["src","./logout.png","alt","Logout Icon"]],template:function(r,i){1&r&&(re(0,"header")(1,"div",0),bs(2,"img",1)(3,"img",2),se(),re(4,"div",3),hr(5,cge,3,0,"button",4)(6,lge,3,0,"button",4),se()(),bs(7,"router-outlet")),2&r&&(be(5),$t("ngIf",i.showHomeButton),be(),$t("ngIf",i.showLogoutButton))},dependencies:[nT,ad,sd],styles:['header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background-color:#0075ff;color:#fff;box-shadow:0 4px 8px #0000001a;position:relative}.image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-grow:1}.navigation[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.header-button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.6rem 1rem;margin:0 .5rem;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s;text-align:left;box-shadow:0 4px 6px #0003}.header-button[_ngcontent-%COMP%]:hover{background-color:#f9d366;color:#000}.header-button[_ngcontent-%COMP%]:active{transform:scale(.95)}img[_ngcontent-%COMP%]{display:block;width:50px;height:50px}.logo[_ngcontent-%COMP%]{width:358px;height:70px}@media (max-width: 600px){header[_ngcontent-%COMP%]{flex-direction:column;padding:.5rem}.header-button[_ngcontent-%COMP%]{width:100%;margin:.25rem 0;font-size:.9rem}img[_ngcontent-%COMP%]{max-width:80%;height:auto}img[src="./dog.png"][_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{max-height:50px}}']})}return t})(),uge).catch(t=>console.error(t))}},Fc=>{Fc(Fc.s=17)}]);