"use strict";(self.webpackChunkMasniOfficeAgenda=self.webpackChunkMasniOfficeAgenda||[]).push([[792],{71:()=>{function Vc(t,e){return Object.is(t,e)}let vt=null,Ea=!1,wa=1;const Cr=Symbol("SIGNAL");function _e(t){const e=vt;return vt=t,e}const Ef={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wy(t){if(Ea)throw new Error("");if(null===vt)return;vt.consumerOnSignalRead(t);const e=vt.nextProducerIndex++;Cf(vt),e<vt.producerNode.length&&vt.producerNode[e]!==t&&Lc(vt)&&Tf(vt.producerNode[e],vt.producerIndexOfThis[e]),vt.producerNode[e]!==t&&(vt.producerNode[e]=t,vt.producerIndexOfThis[e]=Lc(vt)?gR(t,vt,e):0),vt.producerLastReadVersion[e]=t.version}function dR(t){if((!Lc(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==wa)){if(!t.producerMustRecompute(t)&&!Cy(t))return t.dirty=!1,void(t.lastCleanEpoch=wa);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=wa}}function hR(t){if(void 0===t.liveConsumerNode)return;const e=Ea;Ea=!0;try{for(const n of t.liveConsumerNode)n.dirty||pR(n)}finally{Ea=e}}function fR(){return!1!==vt?.consumerAllowSignalWrites}function pR(t){t.dirty=!0,hR(t),t.consumerMarkedDirty?.(t)}function wf(t){return t&&(t.nextProducerIndex=0),_e(t)}function Ty(t,e){if(_e(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Lc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Tf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Cy(t){Cf(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dR(n),r!==n.version))return!0}return!1}function by(t){if(Cf(t),Lc(t))for(let e=0;e<t.producerNode.length;e++)Tf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gR(t,e,n){if(mR(t),0===t.liveConsumerNode.length&&_R(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=gR(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Tf(t,e){if(mR(t),1===t.liveConsumerNode.length&&_R(t))for(let r=0;r<t.producerNode.length;r++)Tf(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Cf(i),i.producerIndexOfThis[r]=e}}function Lc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Cf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function mR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _R(t){return void 0!==t.producerNode}const Dy=Symbol("UNSET"),Ay=Symbol("COMPUTING"),bf=Symbol("ERRORED"),R4={...Ef,value:Dy,dirty:!0,error:null,equal:Vc,producerMustRecompute:t=>t.value===Dy||t.value===Ay,producerRecomputeValue(t){if(t.value===Ay)throw new Error("Detected cycle in computations.");const e=t.value;t.value=Ay;const n=wf(t);let r;try{r=t.computation()}catch(i){r=bf,t.error=i}finally{Ty(t,n)}e!==Dy&&e!==bf&&r!==bf&&t.equal(e,r)?t.value=e:(t.value=r,t.version++)}};let yR=function P4(){throw new Error};function vR(){yR()}let Df=null;function IR(t,e){fR()||vR(),t.equal(t.value,e)||(t.value=e,function k4(t){t.version++,function A4(){wa++}(),hR(t),Df?.()}(t))}const O4={...Ef,equal:Vc,value:void 0};function Ae(t){return"function"==typeof t}function Sy(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ry=Sy(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Af(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class hn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof Ry?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{CR(o)}catch(s){e=e??[],s instanceof Ry?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ry(e)}}add(e){var n;if(e&&e!==this)if(this.closed)CR(e);else{if(e instanceof hn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Af(n,e)}remove(e){const{_finalizers:n}=this;n&&Af(n,e),e instanceof hn&&e._removeParent(this)}}hn.EMPTY=(()=>{const t=new hn;return t.closed=!0,t})();const wR=hn.EMPTY;function TR(t){return t instanceof hn||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function CR(t){Ae(t)?t():t.unsubscribe()}const rs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sf={setTimeout(t,e,...n){const{delegate:r}=Sf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Sf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bR(t){Sf.setTimeout(()=>{const{onUnhandledError:e}=rs;if(!e)throw t;e(t)})}function Uc(){}const V4=Py("C",void 0,void 0);function Py(t,e,n){return{kind:t,value:e,error:n}}let is=null;function Rf(t){if(rs.useDeprecatedSynchronousErrorHandling){const e=!is;if(e&&(is={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=is;if(is=null,n)throw r}}else t()}class My extends hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,TR(e)&&e.add(this)):this.destination=G4}static create(e,n,r){return new Ny(e,n,r)}next(e){this.isStopped?Oy(function U4(t){return Py("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Oy(function L4(t){return Py("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Oy(V4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const B4=Function.prototype.bind;function xy(t,e){return B4.call(t,e)}class $4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Pf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Pf(r)}else Pf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Pf(n)}}}class Ny extends My{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&rs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xy(e.next,o),error:e.error&&xy(e.error,o),complete:e.complete&&xy(e.complete,o)}):i=e}this.destination=new $4(i)}}function Pf(t){rs.useDeprecatedSynchronousErrorHandling?function j4(t){rs.useDeprecatedSynchronousErrorHandling&&is&&(is.errorThrown=!0,is.error=t)}(t):bR(t)}function Oy(t,e){const{onStoppedNotification:n}=rs;n&&Sf.setTimeout(()=>n(t,e))}const G4={closed:!0,next:Uc,error:function H4(t){throw t},complete:Uc},ky="function"==typeof Symbol&&Symbol.observable||"@@observable";function os(t){return t}function DR(t){return 0===t.length?os:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ft=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function W4(t){return t&&t instanceof My||function z4(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&TR(t)}(n)?n:new Ny(n,r,i);return Rf(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=AR(r))((i,o)=>{const s=new Ny({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ky](){return this}pipe(...n){return DR(n)(this)}toPromise(n){return new(n=AR(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function AR(t){var e;return null!==(e=t??rs.Promise)&&void 0!==e?e:Promise}const K4=Sy(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fn=(()=>{class t extends ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new SR(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new K4}next(n){Rf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Rf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Rf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?wR:(this.currentObservers=null,o.push(n),new hn(()=>{this.currentObservers=null,Af(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new ft;return n.source=this,n}}return t.create=(e,n)=>new SR(e,n),t})();class SR extends fn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:wR}}class dr extends fn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function RR(t){return Ae(t?.lift)}function Ft(t){return e=>{if(RR(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Rt(t,e,n,r,i){return new Q4(t,e,n,r,i)}class Q4 extends My{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function we(t,e){return Ft((n,r)=>{let i=0;n.subscribe(Rt(r,o=>{r.next(t.call(e,o,i++))}))})}const Mf=Sy(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hr(t,e){return Ft((n,r)=>{let i=0;n.subscribe(Rt(r,o=>t.call(e,o,i++)&&r.next(o)))})}const br=new ft(t=>t.complete());function Vn(t){return t<=0?()=>br:Ft((e,n)=>{let r=0;e.subscribe(Rt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xf(t){return Ft((e,n)=>{let r=!1;e.subscribe(Rt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function PR(t=J4){return Ft((e,n)=>{let r=!1;e.subscribe(Rt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function J4(){return new Mf}function ro(t,e){const n=arguments.length>=2;return r=>r.pipe(t?hr((i,o)=>t(i,o,r)):os,Vn(1),n?xf(e):PR(()=>new Mf))}const MR="https://g.co/ng/security#xss";class V extends Error{constructor(e,n){super(function io(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function wi(t){return{toString:t}.toString()}const Ca="__parameters__";function Da(t,e,n){return wi(()=>{const r=function Fy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(Ca)?u[Ca]:Object.defineProperty(u,Ca,{value:[]})[Ca];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const et=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function X4(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Vy(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ez=Le({__forward_ref__:Le});function Ke(t){return t.__forward_ref__=Ke,t.toString=function(){return Vt(this())},t}function oe(t){return Of(t)?t():t}function Of(t){return"function"==typeof t&&t.hasOwnProperty(ez)&&t.__forward_ref__===Ke}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Aa(t){return{providers:t.providers||[],imports:t.imports||[]}}function kf(t){return kR(t,Vf)||kR(t,FR)}function kR(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ff(t){return t&&(t.hasOwnProperty(Ly)||t.hasOwnProperty(sz))?t[Ly]:null}const Vf=Le({\u0275prov:Le}),Ly=Le({\u0275inj:Le}),FR=Le({ngInjectableDef:Le}),sz=Le({ngInjectorDef:Le});class q{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hy(t){return t&&!!t.\u0275providers}const jc=Le({\u0275cmp:Le}),Gy=Le({\u0275dir:Le}),qy=Le({\u0275pipe:Le}),LR=Le({\u0275mod:Le}),Ti=Le({\u0275fac:Le}),Bc=Le({__NG_ELEMENT_ID__:Le}),UR=Le({__NG_ENV_ID__:Le});function he(t){return"string"==typeof t?t:null==t?"":String(t)}function zy(t,e){throw new V(-201,!1)}var Ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ie||{});let Wy;function jR(){return Wy}function Ln(t){const e=Wy;return Wy=t,e}function BR(t,e,n){const r=kf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ie.Optional?null:void 0!==e?e:void zy()}const $c={},Ky="__NG_DI_FLAG__",Lf="ngTempTokenPath",hz=/\n/gm,$R="__source";let Sa;function so(t){const e=Sa;return Sa=t,e}function gz(t,e=Ie.Default){if(void 0===Sa)throw new V(-203,!1);return null===Sa?BR(t,void 0,e):Sa.get(t,e&Ie.Optional?null:void 0,e)}function pe(t,e=Ie.Default){return(jR()||gz)(oe(t),e)}function L(t,e=Ie.Default){return pe(t,Uf(e))}function Uf(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qy(t){const e=[];for(let n=0;n<t.length;n++){const r=oe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new V(900,!1);let i,o=Ie.Default;for(let s=0;s<r.length;s++){const a=r[s],u=mz(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(pe(i,o))}else e.push(pe(r))}return e}function Hc(t,e){return t[Ky]=e,t.prototype[Ky]=e,t}function mz(t){return t[Ky]}const Yy=Hc(Da("Optional"),8),Jy=Hc(Da("SkipSelf"),4);function ss(t,e){return t.hasOwnProperty(Ti)?t[Ti]:null}function Ra(t,e){t.forEach(n=>Array.isArray(n)?Ra(n,e):e(n))}function GR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function jf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yn(t,e,n){let r=Pa(t,e);return r>=0?t[1|r]=n:(r=~r,function qR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Zy(t,e){const n=Pa(t,e);if(n>=0)return t[1|n]}function Pa(t,e){return function zR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const zr={},Me=[],Dr=new q(""),WR=new q("",-1),ev=new q("");class $f{get(e,n=$c){if(n===$c){const r=new Error(`NullInjectorError: No provider for ${Vt(e)}!`);throw r.name="NullInjectorError",r}return n}}var Hf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Hf||{}),Ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ar||{}),ao=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ao||{});function Tz(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function tv(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];QR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function KR(t){return 3===t||4===t||6===t}function QR(t){return 64===t.charCodeAt(0)}function Gc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||YR(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function YR(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const JR="ng-template";function Cz(t,e,n,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==Tz(e[i+1].toLowerCase(),n,0))return!0}else if(nv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&"string"==typeof(o=e[i]);)if(o.toLowerCase()===n)return!0}return!1}function nv(t){return 4===t.type&&t.value!==JR}function bz(t,e,n){return e===(4!==t.type||n?t.value:JR)}function Dz(t,e,n){let r=4;const i=t.attrs,o=null!==i?function Rz(t){for(let e=0;e<t.length;e++)if(KR(t[e]))return e;return t.length}(i):0;let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!bz(t,u,n)||""===u&&1===e.length){if(Sr(r))return!1;s=!0}}else if(8&r){if(null===i||!Cz(t,i,u,n)){if(Sr(r))return!1;s=!0}}else{const c=e[++a],d=Az(u,i,nv(t),n);if(-1===d){if(Sr(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>o?"":i[d+1].toLowerCase(),2&r&&c!==h){if(Sr(r))return!1;s=!0}}}}else{if(!s&&!Sr(r)&&!Sr(u))return!1;if(s&&Sr(u))continue;s=!1,r=u|1&r}}return Sr(r)||s}function Sr(t){return!(1&t)}function Az(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Pz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function XR(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dz(t,e[r],n))return!0;return!1}function ZR(t,e){return t?":not("+e.trim()+")":e}function xz(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Sr(s)&&(e+=ZR(o,i),i=""),r=s,o=o||!Sr(r);n++}return""!==i&&(e+=ZR(o,i)),e}function uo(t){return wi(()=>{const e=tP(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ar.Emulated,styles:t.styles||Me,_:null,schemas:t.schemas||null,tView:null,id:""};nP(n);const r=t.dependencies;return n.directiveDefs=Gf(r,!1),n.pipeDefs=Gf(r,!0),n.id=function Lz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function kz(t){return ve(t)||Lt(t)}function Fz(t){return null!==t}function qc(t){return wi(()=>({type:t.type,bootstrap:t.bootstrap||Me,declarations:t.declarations||Me,imports:t.imports||Me,exports:t.exports||Me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eP(t,e){if(null==t)return zr;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a=ao.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ao.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ce(t){return wi(()=>{const e=tP(t);return nP(e),e})}function jn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[jc]||null}function Lt(t){return t[Gy]||null}function tn(t){return t[qy]||null}function pn(t,e){const n=t[LR]||null;if(!n&&!0===e)throw new Error(`Type ${Vt(t)} does not have '\u0275mod' property.`);return n}function tP(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Me,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eP(t.inputs,e),outputs:eP(t.outputs),debugInfo:null}}function nP(t){t.features?.forEach(e=>e(t))}function Gf(t,e){if(!t)return null;const n=e?tn:kz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Fz)}function as(t){return{\u0275providers:t}}function Uz(...t){return{\u0275providers:rv(0,t),\u0275fromNgModule:!0}}function rv(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ra(e,s=>{const a=s;qf(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&rP(i,o),n}function rP(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];iv(i,o=>{e(o,r)})}}function qf(t,e,n,r){if(!(t=oe(t)))return!1;let i=null,o=Ff(t);const s=!o&&ve(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Ff(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)qf(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ra(o.imports,d=>{qf(d,e,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&rP(c,e)}if(!a){const c=ss(i)||(()=>new i);e({provide:i,useFactory:c,deps:Me},i),e({provide:ev,useValue:i,multi:!0},i),e({provide:Dr,useValue:()=>pe(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=t;iv(u,d=>{e(d,c)})}}}return i!==t&&void 0!==t.providers}function iv(t,e){for(let n of t)Hy(n)&&(n=n.\u0275providers),Array.isArray(n)?iv(n,e):e(n)}const jz=Le({provide:String,useValue:Le});function ov(t){return null!==t&&"object"==typeof t&&jz in t}function us(t){return"function"==typeof t}const sv=new q(""),zf={},$z={};let av;function Wf(){return void 0===av&&(av=new $f),av}class Jn{}class Ma extends Jn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cv(e,s=>this.processProvider(s)),this.records.set(WR,xa(void 0,this)),i.has("environment")&&this.records.set(Jn,xa(void 0,this));const o=this.records.get(sv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ev,Me,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=_e(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=so(this),r=Ln(void 0);try{return e()}finally{so(n),Ln(r)}}get(e,n=$c,r=Ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(UR))return e[UR](this);r=Uf(r);const o=so(this),s=Ln(void 0);try{if(!(r&Ie.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function Wz(t){return"function"==typeof t||"object"==typeof t&&t instanceof q}(e)&&kf(e);u=c&&this.injectableDefInScope(c)?xa(uv(e),zf):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Ie.Self?Wf():this.parent).get(e,n=r&Ie.Optional&&n===$c?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Lf]=a[Lf]||[]).unshift(Vt(e)),o)throw a;return function _z(t,e,n,r){const i=t[Lf];throw e[$R]&&i.unshift(e[$R]),t.message=function yz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Vt(e);if(Array.isArray(e))i=e.map(Vt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Vt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hz,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Lf]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Ln(s),so(o)}}resolveInjectorInitializers(){const e=_e(null),n=so(this),r=Ln(void 0);try{const o=this.get(Dr,Me,Ie.Self);for(const s of o)s()}finally{so(n),Ln(r),_e(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(e){let n=us(e=oe(e))?e:oe(e&&e.provide);const r=function Gz(t){return ov(t)?xa(void 0,t.useValue):xa(sP(t),zf)}(e);if(!us(e)&&!0===e.multi){let i=this.records.get(n);i||(i=xa(void 0,zf,!0),i.factory=()=>Qy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=_e(null);try{return n.value===zf&&(n.value=$z,n.value=n.factory()),"object"==typeof n.value&&n.value&&function zz(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=oe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function uv(t){const e=kf(t),n=null!==e?e.factory:ss(t);if(null!==n)return n;if(t instanceof q)throw new V(204,!1);if(t instanceof Function)return function Hz(t){if(t.length>0)throw new V(204,!1);const n=function oz(t){return t&&(t[Vf]||t[FR])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new V(204,!1)}function sP(t,e,n){let r;if(us(t)){const i=oe(t);return ss(i)||uv(i)}if(ov(t))r=()=>oe(t.useValue);else if(function oP(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Qy(t.deps||[]));else if(function iP(t){return!(!t||!t.useExisting)}(t))r=()=>pe(oe(t.useExisting));else{const i=oe(t&&(t.useClass||t.provide));if(!function qz(t){return!!t.deps}(t))return ss(i)||uv(i);r=()=>new i(...Qy(t.deps))}return r}function xa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cv(t,e){for(const n of t)Array.isArray(n)?cv(n,e):n&&Hy(n)?cv(n.\u0275providers,e):e(n)}function lo(t,e){t instanceof Ma&&t.assertNotDestroyed();const r=so(t),i=Ln(void 0);try{return e()}finally{so(r),Ln(i)}}const ot=0,H=1,ne=2,Pt=3,Rr=4,nn=5,An=6,Oa=7,Qe=8,Mt=9,Wr=10,ae=11,Wc=12,cP=13,ka=14,st=15,cs=16,Fa=17,Ci=18,Va=19,lP=20,ho=21,Qf=22,fr=23,Z=25,hv=1,Kc=6,Kr=7,La=9,It=10;var Jf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Jf||{});function jt(t){return Array.isArray(t)&&"object"==typeof t[hv]}function gn(t){return Array.isArray(t)&&!0===t[hv]}function fv(t){return!!(4&t.flags)}function ls(t){return t.componentOffset>-1}function Xf(t){return!(1&~t.flags)}function Pr(t){return!!t.template}function Qc(t){return!!(512&t[ne])}class o3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function gP(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function pr(){return mP}function mP(t){return t.type.prototype.ngOnChanges&&(t.setInput=a3),s3}function s3(){const t=yP(this),e=t?.current;if(e){const n=t.previous;if(n===zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function a3(t,e,n,r,i){const o=this.declaredInputs[r],s=yP(t)||function u3(t,e){return t[_P]=e}(t,{previous:zr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new o3(c&&c.currentValue,n,u===zr),gP(t,e,i,n)}pr.ngInherit=!0;const _P="__ngSimpleChanges__";function yP(t){return t[_P]||null}const Qr=function(t,e,n){};function xe(t){for(;Array.isArray(t);)t=t[ot];return t}function Yc(t,e){return xe(e[t])}function Sn(t,e){return xe(e[t.index])}function Jc(t,e){return t.data[e]}function Xn(t,e){const n=e[t];return jt(n)?n:n[ot]}function yv(t){return!(128&~t[ne])}function gr(t,e){return null==e?null:t[e]}function EP(t){t[Fa]=0}function wP(t){1024&t[ne]||(t[ne]|=1024,yv(t)&&ep(t))}function Zf(t){return!!(9216&t[ne]||t[fr]?.dirty)}function vv(t){t[Wr].changeDetectionScheduler?.notify(8),64&t[ne]&&(t[ne]|=1024),Zf(t)&&ep(t)}function ep(t){t[Wr].changeDetectionScheduler?.notify(0);let e=bi(t);for(;null!==e&&!(8192&e[ne])&&(e[ne]|=8192,yv(e));)e=bi(e)}function tp(t,e){if(!(256&~t[ne]))throw new V(911,!1);null===t[ho]&&(t[ho]=[]),t[ho].push(e)}function bi(t){const e=t[Pt];return gn(e)?e[Pt]:e}const ue={lFrame:kP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let CP=!1;function bP(){return ue.bindingsEnabled}function hs(){return null!==ue.skipHydrationRootTNode}function k(){return ue.lFrame.lView}function ye(){return ue.lFrame.tView}function Di(t){return ue.lFrame.contextLView=t,t[Qe]}function Ai(t){return ue.lFrame.contextLView=null,t}function Ue(){let t=DP();for(;null!==t&&64===t.type;)t=t.parent;return t}function DP(){return ue.lFrame.currentTNode}function Mr(t,e){const n=ue.lFrame;n.currentTNode=t,n.isParent=e}function wv(){return ue.lFrame.isParent}function RP(){return CP}function PP(t){CP=t}function Rn(){const t=ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xr(){return ue.lFrame.bindingIndex++}function Ri(t){const e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function w3(t,e){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cv(e)}function Cv(t){ue.lFrame.currentDirectiveIndex=t}function rp(t){ue.lFrame.currentQueryIndex=t}function C3(t){const e=t[H];return 2===e.type?e.declTNode:1===e.type?t[nn]:null}function NP(t,e,n){if(n&Ie.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Ie.Host||(i=C3(o),null===i||(o=o[ka],10&i.type))););if(null===i)return!1;e=i,t=o}const r=ue.lFrame=OP();return r.currentTNode=e,r.lView=t,!0}function Av(t){const e=OP(),n=t[H];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function OP(){const t=ue.lFrame,e=null===t?null:t.child;return null===e?kP(t):e}function kP(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function FP(){const t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const VP=FP;function Sv(){const t=FP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rn(){return ue.lFrame.selectedIndex}function fs(t){ue.lFrame.selectedIndex=t}function Ye(){const t=ue.lFrame;return Jc(t.tView,t.selectedIndex)}function LP(){return ue.lFrame.currentNamespace}let UP=!0;function Zc(){return UP}function Yr(t){UP=t}function ip(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=d&&(t.destroyHooks??=[]).push(n,d)}}function op(t,e,n){jP(t,e,3,n)}function sp(t,e,n,r){(3&t[ne])===n&&jP(t,e,n,r)}function Rv(t,e){let n=t[ne];(3&n)===e&&(n&=16383,n+=1,t[ne]=n)}function jP(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Fa]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Fa]+=65536),(a<o||-1==o)&&(M3(t,n,e,u),t[Fa]=(4294901760&t[Fa])+u+2),u++}function BP(t,e){Qr(4,t,e);const n=_e(null);try{e.call(t)}finally{_e(n),Qr(5,t,e)}}function M3(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>14<t[Fa]>>16&&(3&t[ne])===e&&(t[ne]+=16384,BP(a,o)):BP(a,o)}const Ua=-1;class el{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const Mv={};class ps{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Uf(r);const i=this.injector.get(e,Mv,r);return i!==Mv||n===Mv?i:this.parentInjector.get(e,n,r)}}function xv(t){return t!==Ua}function tl(t){return 32767&t}function nl(t,e){let n=function F3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ka],n--;return r}let Nv=!0;function ap(t){const e=Nv;return Nv=t,e}const HP=255,GP=5;let L3=0;const Jr={};function up(t,e){const n=qP(t,e);if(-1!==n)return n;const r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Ov(r.data,t),Ov(e,null),Ov(r.blueprint,null));const i=cp(t,e),o=t.injectorIndex;if(xv(i)){const s=tl(i),a=nl(i,e),u=a[H].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Ov(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qP(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function cp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=XP(i),null===r)return Ua;if(n++,i=i[ka],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ua}function kv(t,e,n){!function U3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bc)&&(r=n[Bc]),null==r&&(r=n[Bc]=L3++);const i=r&HP;e.data[t+(i>>GP)]|=1<<i}(t,e,n)}function zP(t,e,n){if(n&Ie.Optional||void 0!==t)return t;zy()}function WP(t,e,n,r){if(n&Ie.Optional&&void 0===r&&(r=null),!(n&(Ie.Self|Ie.Host))){const i=t[Mt],o=Ln(void 0);try{return i?i.get(e,r,n&Ie.Optional):BR(e,r,n&Ie.Optional)}finally{Ln(o)}}return zP(r,0,n)}function KP(t,e,n,r=Ie.Default,i){if(null!==t){if(2048&e[ne]&&!(r&Ie.Self)){const s=function G3(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ne]&&!(512&s[ne]);){const a=QP(o,s,n,r|Ie.Self,Jr);if(a!==Jr)return a;let u=o.parent;if(!u){const c=s[lP];if(c){const d=c.get(n,Jr,r);if(d!==Jr)return d}u=XP(s),s=s[ka]}o=u}return i}(t,e,n,r,Jr);if(s!==Jr)return s}const o=QP(t,e,n,r,Jr);if(o!==Jr)return o}return WP(e,n,r,i)}function QP(t,e,n,r,i){const o=function $3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Bc)?t[Bc]:void 0;return"number"==typeof e?e>=0?e&HP:H3:e}(n);if("function"==typeof o){if(!NP(e,t,r))return r&Ie.Host?zP(i,0,r):WP(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Ie.Optional)return s;zy()}finally{VP()}}else if("number"==typeof o){let s=null,a=qP(t,e),u=Ua,c=r&Ie.Host?e[st][nn]:null;for((-1===a||r&Ie.SkipSelf)&&(u=-1===a?cp(t,e):e[a+8],u!==Ua&&JP(r,!1)?(s=e[H],a=tl(u),e=nl(u,e)):a=-1);-1!==a;){const d=e[H];if(YP(o,a,d.data)){const h=B3(a,e,n,s,r,c);if(h!==Jr)return h}u=e[a+8],u!==Ua&&JP(r,e[H].data[a+8]===c)&&YP(o,a,e)?(s=d,a=tl(u),e=nl(u,e)):a=-1}}return i}function B3(t,e,n,r,i,o){const s=e[H],a=s.data[t+8],d=function lp(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,d=o>>20,p=i?a+d:t.directiveEnd;for(let g=r?a:a+d;g<p;g++){const _=s[g];if(g<u&&n===_||g>=u&&_.type===n)return g}if(i){const g=s[u];if(g&&Pr(g)&&g.type===n)return u}return null}(a,s,n,null==r?ls(a)&&Nv:r!=s&&!!(3&a.type),i&Ie.Host&&o===a);return null!==d?gs(e,s,d,a):Jr}function gs(t,e,n,r){let i=t[n];const o=e.data;if(function x3(t){return t instanceof el}(i)){const s=i;s.resolving&&function cz(t,e){throw e&&e.join(" > "),new V(-200,t)}(function Oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():he(t)}(o[n]));const a=ap(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Ln(s.injectImpl):null;NP(t,r,Ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function P3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=mP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&Ln(c),ap(a),s.resolving=!1,VP()}}return i}function YP(t,e,n){return!!(n[e+(t>>GP)]&1<<t)}function JP(t,e){return!(t&Ie.Self||t&Ie.Host&&e)}class Bt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return KP(this._tNode,this._lView,e,Uf(r),n)}}function H3(){return new Bt(Ue(),k())}function zt(t){return wi(()=>{const e=t.prototype.constructor,n=e[Ti]||Fv(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ti]||Fv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fv(t){return Of(t)?()=>{const e=Fv(oe(t));return e&&e()}:ss(t)}function XP(t){const e=t[H],n=e.type;return 2===n?e.declTNode:1===n?t[nn]:null}function rM(t,e=null,n=null,r){const i=iM(t,e,n,r);return i.resolveInjectorInitializers(),i}function iM(t,e=null,n=null,r,i=new Set){const o=[n||Me,Uz(t)];return r=r||("object"==typeof t?void 0:Vt(t)),new Ma(o,e||Wf(),r||null,i)}class Wt{static{this.THROW_IF_NOT_FOUND=$c}static{this.NULL=new $f}static create(e,n){if(Array.isArray(e))return rM({name:""},n,e,"");{const r=e.name??"";return rM({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ee({token:Wt,providedIn:"any",factory:()=>pe(WR)})}static{this.__NG_ELEMENT_ID__=-1}}new q("").__NG_ELEMENT_ID__=t=>{const e=Ue();if(null===e)throw new V(204,!1);if(2&e.type)return e.value;if(t&Ie.Optional)return null;throw new V(204,!1)};function Lv(t){return t.ngOriginalError}const sM=!0;let il=(()=>{class t{static{this.__NG_ELEMENT_ID__=e6}static{this.__NG_ENV_ID__=n=>n}}return t})();class Z3 extends il{constructor(e){super(),this._lView=e}onDestroy(e){return tp(this._lView,e),()=>function Iv(t,e){if(null===t[ho])return;const n=t[ho].indexOf(e);-1!==n&&t[ho].splice(n,1)}(this._lView,e)}}function e6(){return new Z3(k())}let ms=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}}return t})();const pt=class t6 extends fn{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,function aP(){return void 0!==jR()||null!=function pz(){return Sa}()}()&&(this.destroyRef=L(il,{optional:!0})??void 0,this.pendingTasks=L(ms,{optional:!0})??void 0)}emit(e){const n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof hn&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{e(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function hp(...t){}function aM(t){let e,n;function r(){t=hp;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function uM(t){return queueMicrotask(()=>t()),()=>{t=hp}}const Uv="isAngularZone",fp=Uv+"_ID";let n6=0;class ke{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sM}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function o6(t){const e=()=>{!function i6(t){function e(){aM(()=>{t.callbackScheduled=!1,Bv(t),t.isCheckStableRunning=!0,jv(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Bv(t))}(t)},n=n6++;t._inner=t._inner.fork({name:"angular",properties:{[Uv]:!0,[fp]:n,[fp+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(function s6(t){return dM(t,"__ignore_ng_zone__")}(u))return r.invokeTask(o,s,a,u);try{return cM(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),lM(t)}},onInvoke:(r,i,o,s,a,u,c)=>{try{return cM(t),r.invoke(o,s,a,u,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function a6(t){return dM(t,"__scheduler_tick__")}(u)&&e(),lM(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Bv(t),jv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Uv)}static assertInAngularZone(){if(!ke.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,r6,hp,hp);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const r6={};function jv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Bv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function cM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lM(t){t._nesting--,jv(t)}class $v{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pt,this.onMicrotaskEmpty=new pt,this.onStable=new pt,this.onError=new pt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}function dM(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}class Xr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Lv(e);for(;n&&Lv(n);)n=Lv(n);return n||null}}const c6=new q("",{providedIn:"root",factory:()=>{const t=L(ke),e=L(Xr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function l6(){return $a(Ue(),k())}function $a(t,e){return new Zn(Sn(t,e))}let Zn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=l6}}return t})();const ol="ngSkipHydration",h6="ngskiphydration";function Gv(t){const e=t.mergedAttrs;if(null===e)return!1;for(let n=0;n<e.length;n+=2){const r=e[n];if("number"==typeof r)return!1;if("string"==typeof r&&r.toLowerCase()===h6)return!0}return!1}function pM(t){return t.hasAttribute(ol)}function sl(t){return!(128&~t.flags)}const qv=new Map;let f6=0;function zv(t){qv.delete(t[Va])}const pp="__ngContext__";function mn(t,e){jt(e)?(t[pp]=e[Va],function g6(t){qv.set(t[Va],t)}(e)):t[pp]=e}function TM(t){return bM(t[Wc])}function CM(t){return bM(t[Rr])}function bM(t){for(;null!==t&&!gn(t);)t=t[Rr];return t}let Kv;function fo(){if(void 0!==Kv)return Kv;if(typeof document<"u")return document;throw new V(210,!1)}const ul=new q("",{providedIn:"root",factory:()=>x6}),x6="ng",NM=new q(""),Zr=new q("",{providedIn:"platform",factory:()=>"unknown"}),OM=new q("",{providedIn:"root",factory:()=>fo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function k6(){const t=new Ga;return"browser"===L(Zr)&&(t.store=function F6(t,e){const n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(fo(),L(ul))),t}let Ga=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=ee({token:t,providedIn:"root",factory:k6})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();const Qv="h",Yv="b";var qa=function(t){return t.FirstChild="f",t.NextSibling="n",t}(qa||{});const mp="e",Jv="t",cl="c",_p="x",za="r",Xv="i",yp="n",ll="d",eI="__nghData__",dl="ngh";let kM=()=>null;function L6(t,e,n=!1){let r=t.getAttribute(dl);if(null==r)return null;const[i,o]=r.split("|");if(r=n?o:i,!r)return null;const a=n?i:o?`|${o}`:"";let u={};if(""!==r){const d=e.get(Ga,null,{optional:!0});null!==d&&(u=d.get(eI,[])[Number(r)])}const c={data:u,firstChild:t.firstChild??null};return n&&(c.firstChild=t,vp(c,0,t.nextSibling)),a?t.setAttribute(dl,a):t.removeAttribute(dl),c}function tI(t,e,n=!1){return kM(t,e,n)}function FM(t){let e=t._lView;return 2===e[H].type?null:(Qc(e)&&(e=e[Z]),e)}function vp(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function rI(t,e){return t.segmentHeads?.[e]??null}function UM(t,e){return t.data[cl]?.[e]??null}function iI(t,e){const n=UM(t,e)??[];let r=0;for(let i of n)r+=i[za]*(i[_p]??1);return r}function _s(t,e){if(typeof t.disconnectedNodes>"u"){const n=t.data[ll];t.disconnectedNodes=n?new Set(n):null}return!!function jM(t){if(typeof t.disconnectedNodes>"u"){const e=t.data[ll];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}(t)?.has(e)}const Ip=new q(""),HM=new q("",{providedIn:"root",factory:()=>!1});let wp;function KM(t){return function aI(){if(void 0===wp&&(wp=null,et.trustedTypes))try{wp=et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wp}()?.createScriptURL(t)||t}class QM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${MR})`}}function po(t){return t instanceof QM?t.changingThisBreaksApplicationSecurity:t}function pl(t,e){const n=function X6(t){return t instanceof QM&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${MR})`)}return n===e}const n5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ka=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ka||{});function ix(t){const e=ml();return e?e.sanitize(Ka.URL,t)||"":pl(t,"URL")?po(t):function uI(t){return(t=String(t)).match(n5)?t:"unsafe:"+t}(he(t))}function ox(t){const e=ml();if(e)return KM(e.sanitize(Ka.RESOURCE_URL,t)||"");if(pl(t,"ResourceURL"))return KM(po(t));throw new V(904,!1)}function ml(){const t=k();return t&&t[Wr].sanitizer}const y5=/^>|^->|<!--|-->|--!>|<!-$/g,v5=/(<|>)/g,I5="\u200b$1\u200b";function er(t){return t instanceof Function?t():t}function tr(t){return"browser"===(t??L(Wt)).get(Zr)}var go=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(go||{});let pI;function gI(t,e){return pI(t,e)}function Ya(t,e,n,r,i){if(null!=r){let o,s=!1;gn(r)?o=r:jt(r)&&(s=!0,r=r[ot]);const a=xe(r);0===t&&null!==n?null==i?vx(e,n,a):ys(e,n,a,i||null,!0):1===t&&null!==n?ys(e,n,a,i||null,!0):2===t?yl(e,a,s):3===t&&e.destroyNode(a),null!=o&&function j5(t,e,n,r,i){const o=n[Kr];o!==xe(n)&&Ya(e,t,r,o,i);for(let a=It;a<n.length;a++){const u=n[a];Rp(u[H],u,t,e,r,o)}}(e,t,o,n,i)}}function mI(t,e){return t.createText(e)}function _I(t,e){return t.createComment(function ax(t){return t.replace(y5,e=>e.replace(v5,I5))}(e))}function Dp(t,e,n){return t.createElement(e,n)}function mx(t,e){e[Wr].changeDetectionScheduler?.notify(9),Rp(t,e,e[ae],2,null,null)}function _x(t,e){const n=t[La],r=e[Pt];(jt(r)||e[st]!==r[Pt][st])&&(t[ne]|=Jf.HasTransplantedViews),null===n?t[La]=[e]:n.push(e)}function yI(t,e){const n=t[La],r=n.indexOf(e);n.splice(r,1)}function _l(t,e){if(t.length<=It)return;const n=It+e,r=t[n];if(r){const i=r[cs];null!==i&&i!==t&&yI(i,r),e>0&&(t[n-1][Rr]=r[Rr]);const o=jf(t,It+e);!function x5(t,e){mx(t,e),e[ot]=null,e[nn]=null}(r[H],r);const s=o[Ci];null!==s&&s.detachView(o[H]),r[Pt]=null,r[Rr]=null,r[ne]&=-129}return r}function Ap(t,e){if(!(256&e[ne])){const n=e[ae];n.destroyNode&&Rp(t,e,n,3,null,null),function O5(t){let e=t[Wc];if(!e)return vI(t[H],t);for(;e;){let n=null;if(jt(e))n=e[Wc];else{const r=e[It];r&&(n=r)}if(!n){for(;e&&!e[Rr]&&e!==t;)jt(e)&&vI(e[H],e),e=e[Pt];null===e&&(e=t),jt(e)&&vI(e[H],e),n=e&&e[Rr]}e=n}}(e)}}function vI(t,e){if(256&e[ne])return;const n=_e(null);try{e[ne]&=-129,e[ne]|=256,e[fr]&&by(e[fr]),function V5(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof el)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Qr(4,a,u);try{u.call(a)}finally{Qr(5,a,u)}}else{Qr(4,i,o);try{o.call(i)}finally{Qr(5,i,o)}}}}}(t,e),function F5(t,e){const n=t.cleanup,r=e[Oa];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Oa]=null);const i=e[ho];if(null!==i){e[ho]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[H].type&&e[ae].destroy();const r=e[cs];if(null!==r&&gn(e[Pt])){r!==e[Pt]&&yI(r,e);const i=e[Ci];null!==i&&i.detachView(t)}zv(e)}finally{_e(n)}}function II(t,e,n){return function yx(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[ot];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ar.None||o===Ar.Emulated)return null}return Sn(r,n)}}(t,e.parent,n)}function ys(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vx(t,e,n){t.appendChild(e,n)}function Ix(t,e,n,r,i){null!==r?ys(t,e,n,r,i):vx(t,e,n)}function EI(t,e){return t.parentNode(e)}let wI,Tx=function wx(t,e,n){return 40&t.type?Sn(t,n):null};function Sp(t,e,n,r){const i=II(t,r,e),o=e[ae],a=function Ex(t,e,n){return Tx(t,e,n)}(r.parent||e[nn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ix(o,i,n[u],a,!1);else Ix(o,i,n,a,!1);void 0!==wI&&wI(o,r,e,n,i)}function vs(t,e){if(null!==e){const n=e.type;if(3&n)return Sn(e,t);if(4&n)return TI(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return vs(t,r);{const i=t[e.index];return gn(i)?TI(-1,i):xe(i)}}if(128&n)return vs(t,e.next);if(32&n)return gI(e,t)()||xe(t[e.index]);{const r=bx(t,e);return null!==r?Array.isArray(r)?r[0]:vs(bi(t[st]),r):vs(t,e.next)}}return null}function bx(t,e){return null!==e?t[st][nn].projection[e.projection]:null}function TI(t,e){const n=It+t+1;if(n<e.length){const r=e[n],i=r[H].firstChild;if(null!==i)return vs(r,i)}return e[Kr]}function yl(t,e,n){t.removeChild(null,e,n)}function Dx(t){t.textContent=""}function CI(t,e,n,r,i,o,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],u=n.type;if(s&&0===e&&(a&&mn(xe(a),r),n.flags|=2),32&~n.flags)if(8&u)CI(t,e,n.child,r,i,o,!1),Ya(e,t,i,a,o);else if(32&u){const c=gI(n,r);let d;for(;d=c();)Ya(e,t,i,d,o);Ya(e,t,i,a,o)}else 16&u?Ax(t,e,r,n,i,o):Ya(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Rp(t,e,n,r,i,o){CI(n,r,t.firstChild,e,i,o,!1)}function Ax(t,e,n,r,i,o){const s=n[st],u=s[nn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ya(e,t,i,u[c],o);else{let c=u;const d=s[Pt];sl(r)&&(c.flags|=128),CI(t,e,c,d,i,o,!0)}}function Sx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Rx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&tv(t,e,r),null!==i&&Sx(t,e,i),null!==o&&function $5(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const fe={};function Se(t=1){Px(ye(),k(),rn()+t,!1)}function Px(t,e,n,r){if(!r)if(3&~e[ne]){const o=t.preOrderHooks;null!==o&&sp(e,o,0,n)}else{const o=t.preOrderCheckHooks;null!==o&&op(e,o,n)}fs(n)}function B(t,e=Ie.Default){const n=k();return null===n?pe(t,e):KP(Ue(),n,oe(t),e)}function Mx(t,e,n,r,i,o){const s=_e(null);try{let a=null;i&ao.SignalBased&&(a=e[r][Cr]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&ao.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):gP(e,a,r,o)}finally{_e(s)}}function Pp(t,e,n,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[ot]=i,h[ne]=204|r,(null!==c||t&&2048&t[ne])&&(h[ne]|=2048),EP(h),h[Pt]=h[ka]=t,h[Qe]=n,h[Wr]=s||t&&t[Wr],h[ae]=a||t&&t[ae],h[Mt]=u||t&&t[Mt]||null,h[nn]=o,h[Va]=function p6(){return f6++}(),h[An]=d,h[lP]=c,h[st]=2==e.type?t[st]:h,h}function Is(t,e,n,r,i){let o=t.data[e];if(null===o)o=function bI(t,e,n,r,i){const o=DP(),s=wv(),u=t.data[e]=function J5(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return hs()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function E3(){return ue.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Xc(){const t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mr(o,!0),o}function vl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xx(t,e,n,r,i){const o=rn(),s=2&r;try{fs(-1),s&&e.length>Z&&Px(t,e,Z,!1),Qr(s?2:0,i),n(r,i)}finally{fs(o),Qr(s?3:1,i)}}function DI(t,e,n){if(fv(e)){const r=_e(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{_e(r)}}}function AI(t,e,n){bP()&&(function i9(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ls(n)&&function d9(t,e,n){const r=Sn(e,t),i=Nx(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Mp(t,Pp(t,i,null,s,r,e,null,t[Wr].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||up(n,e),mn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=gs(e,t,a,n);mn(c,e),null!==s&&h9(0,a-i,c,u,0,s),Pr(u)&&(Xn(n.index,e)[Qe]=gs(e,t,a,n))}}(t,e,n,Sn(n,e)),!(64&~n.flags)&&Lx(t,e,n))}function SI(t,e,n=Sn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Nx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=RI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function RI(t,e,n,r,i,o,s,a,u,c,d){const h=Z+r,p=h+i,g=function q5(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fe);return n}(h,p),_="function"==typeof c?c():c;return g[H]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1,ssrId:d}}let Ox=()=>null;function K5(t){pM(t)?Dx(t):function B6(t){const e=fo(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function j6(t){return t.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=n.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(t)}function kx(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;r??={};let a,u=ao.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(null!==i){if(!i.hasOwnProperty(o))continue;c=i[o]}0===t?Fx(r,n,c,a,u):Fx(r,n,c,a)}return r}function Fx(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function $n(t,e,n,r,i,o,s,a){const u=Sn(e,n);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(OI(t,n,d,r,i),ls(e)&&function e9(t,e){const n=Xn(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function Z5(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function PI(t,e,n,r){if(bP()){const i=null===r?null:{"":-1},o=function s9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(XR(e,s.selectors,!1))if(r||(r=[]),Pr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),MI(t,e,a.length)}else r.unshift(s),MI(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Vx(t,e,n,s,i,a),i&&function a9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new V(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Gc(n.mergedAttrs,n.attrs)}function Vx(t,e,n,r,i,o){for(let c=0;c<r.length;c++)kv(up(n,e),t,r[c].type);!function c9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,u=vl(t,e,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];n.mergedAttrs=Gc(n.mergedAttrs,d.hostAttrs),l9(t,n,e,u,d),u9(u,d,i),null!==d.contentQueries&&(n.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function X5(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=n?n.get(h):null,_=p?p.outputs:null;u=kx(0,h.inputs,d,u,p?p.inputs:null),c=kx(1,h.outputs,d,c,_);const v=null===u||null===s||nv(e)?null:f9(u,d,s);a.push(v)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function Lx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function T3(){return ue.lFrame.currentDirectiveIndex}();try{fs(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Cv(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&o9(u,c)}}finally{fs(-1),Cv(s)}}function o9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function MI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function u9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pr(e)&&(n[""]=t)}}function l9(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ss(i.type)),s=new el(o,Pr(i),B);t.blueprint[r]=s,n[r]=s,function n9(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function r9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,vl(t,n,i.hostVars,fe),i)}function ei(t,e,n,r,i,o){const s=Sn(t,e);!function xI(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?he(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[ae],s,o,t.value,n,r,i)}function h9(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)Mx(r,n,s[a++],s[a++],s[a++],s[a++])}function f9(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Ux(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jx(t,e){const n=t.contentQueries;if(null!==n){const r=_e(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];rp(n[i]),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function Mp(t,e){return t[Wc]?t[cP][Rr]=e:t[Wc]=e,t[cP]=e,e}function NI(t,e,n){rp(0);const r=_e(null);try{e(t,n)}finally{_e(r)}}function xp(t,e){const n=t[Mt],r=n?n.get(Xr,null):null;r&&r.handleError(e)}function OI(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=n[o++];Mx(t.data[s],e[s],r,a,u,i)}}function Mi(t,e,n){const r=Yc(e,t);!function gx(t,e,n){t.setValue(e,n)}(t[ae],r,n)}function p9(t,e){const n=Xn(e,t),r=n[H];!function g9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ot];null!==i&&null===n[An]&&(n[An]=tI(i,n[Mt])),kI(r,n,n[Qe])}function kI(t,e,n){Av(e);try{const r=t.viewQuery;null!==r&&NI(1,r,n);const i=t.template;null!==i&&xx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ci]?.finishViewCreation(t),t.staticContentQueries&&jx(t,e),t.staticViewQueries&&NI(2,t.viewQuery,n);const o=t.components;null!==o&&function m9(t,e){for(let n=0;n<e.length;n++)p9(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Sv()}}function Es(t,e){return!e||null===e.firstChild||sl(t)}function Il(t,e,n,r,i=!1){for(;null!==n;){if(128===n.type){n=i?n.projectionNext:n.next;continue}const o=e[n.index];null!==o&&r.push(xe(o)),gn(o)&&qx(o,r);const s=n.type;if(8&s)Il(t,e,n.child,r);else if(32&s){const a=gI(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=bx(e,n);if(Array.isArray(a))r.push(...a);else{const u=bi(e[st]);Il(u[H],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function qx(t,e){for(let n=It;n<t.length;n++){const r=t[n],i=r[H].firstChild;null!==i&&Il(r[H],r,i,e)}t[Kr]!==t[ot]&&e.push(t[Kr])}let zx=[];const I9={...Ef,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ep(t.lView)},consumerOnSignalRead(){this.lView[fr]=this}},w9={...Ef,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=bi(t.lView);for(;e&&!Wx(e[H]);)e=bi(e);e&&wP(e)},consumerOnSignalRead(){this.lView[fr]=this}};function Wx(t){return 2!==t.type}const T9=100;function Np(t,e=!0,n=0){const r=t[Wr],i=r.rendererFactory;i.begin?.();try{!function C9(t,e){const n=RP();try{PP(!0),VI(t,e);let r=0;for(;Zf(t);){if(r===T9)throw new V(103,!1);r++,VI(t,1)}}finally{PP(n)}}(t,n)}catch(s){throw e&&xp(t,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function b9(t,e,n,r){const i=e[ne];if(!(256&~i))return;e[Wr].inlineEffectRunner?.flush(),Av(e);let a=!0,u=null,c=null;Wx(t)?(c=function _9(t){return t[fr]??function y9(t){const e=zx.pop()??Object.create(I9);return e.lView=t,e}(t)}(e),u=wf(c)):null===function lR(){return vt}()?(a=!1,c=function E9(t){const e=t[fr]??Object.create(w9);return e.lView=t,e}(e),u=wf(c)):e[fr]&&(by(e[fr]),e[fr]=null);try{EP(e),function MP(t){return ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&xx(t,e,n,2,r);const d=!(3&~i);if(d){const g=t.preOrderCheckHooks;null!==g&&op(e,g,null)}else{const g=t.preOrderHooks;null!==g&&sp(e,g,0,null),Rv(e,0)}if(function D9(t){for(let e=TM(t);null!==e;e=CM(e)){if(!(e[ne]&Jf.HasTransplantedViews))continue;const n=e[La];for(let r=0;r<n.length;r++)wP(n[r])}}(e),Qx(e,0),null!==t.contentQueries&&jx(t,e),d){const g=t.contentCheckHooks;null!==g&&op(e,g)}else{const g=t.contentHooks;null!==g&&sp(e,g,1),Rv(e,1)}!function G5(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)fs(~i);else{const o=i,s=n[++r],a=n[++r];w3(s,o),a(2,e[o])}}}finally{fs(-1)}}(t,e);const h=t.components;null!==h&&Jx(e,h,0);const p=t.viewQuery;if(null!==p&&NI(2,p,r),d){const g=t.viewCheckHooks;null!==g&&op(e,g)}else{const g=t.viewHooks;null!==g&&sp(e,g,2),Rv(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Qf]){for(const g of e[Qf])g();e[Qf]=null}e[ne]&=-73}catch(d){throw ep(e),d}finally{null!==c&&(Ty(c,u),a&&function v9(t){t.lView[fr]!==t&&(t.lView=null,zx.push(t))}(c)),Sv()}}function Qx(t,e){for(let n=TM(t);null!==n;n=CM(n))for(let r=It;r<n.length;r++)Yx(n[r],e)}function A9(t,e,n){Yx(Xn(e,t),n)}function Yx(t,e){yv(t)&&VI(t,e)}function VI(t,e){const r=t[H],i=t[ne],o=t[fr];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!Cy(o)),s||=!1,o&&(o.dirty=!1),t[ne]&=-9217,s)b9(r,t,r.template,t[Qe]);else if(8192&i){Qx(t,1);const a=r.components;null!==a&&Jx(t,a,1)}}function Jx(t,e,n){for(let r=0;r<e.length;r++)A9(t,e[r],n)}function El(t,e){const n=RP()?64:1088;for(t[Wr].changeDetectionScheduler?.notify(e);t;){t[ne]|=n;const r=bi(t);if(Qc(t)&&!r)return t;t=r}return null}class wl{get rootNodes(){const e=this._lView,n=e[H];return Il(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qe]}set context(e){this._lView[Qe]=e}get destroyed(){return!(256&~this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Pt];if(gn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(_l(e,r),jf(n,r))}this._attachedToViewContainer=!1}Ap(this._lView[H],this._lView)}onDestroy(e){tp(this._lView,e)}markForCheck(){El(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){vv(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,Np(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Qc(this._lView),n=this._lView[cs];null!==n&&!e&&yI(n,this._lView),mx(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;const n=Qc(this._lView),r=this._lView[cs];null!==r&&!n&&_x(r,this._lView),vv(this._lView)}}let xi=(()=>{class t{static{this.__NG_ELEMENT_ID__=P9}}return t})();const S9=xi,R9=class extends S9{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Ja(t,e,n,r){const i=_e(null);try{const o=e.tView,u=Pp(t,o,n,4096&t[ne]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[cs]=t[e.index];const d=t[Ci];return null!==d&&(u[Ci]=d.createEmbeddedView(o)),kI(o,u,n),u}finally{_e(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new wl(i)}};function P9(){return function Op(t,e){return 4&t.type?new R9(e,t,$a(t,e)):null}(Ue(),k())}const K9=new RegExp(`^(\\d+)*(${Yv}|${Qv})*(.*)`);function $I(t){return t.index-Z}function Sl(t,e,n,r){const i=$I(r);let o=function cN(t,e){const n=t.i18nNodes;if(n)return n.get(e)}(t,i);if(void 0===o){const s=t.data[yp];if(s?.[i])o=function lN(t,e){const[n,...r]=function Y9(t){const e=t.match(K9),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[u,c,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(c,h)}return[s,...a]}(t);let i;i=n===Qv?e[st][ot]:n===Yv?function dx(t){return t.ownerDocument.body}(e[st][ot]):xe(e[Number(n)+Z]);return function Z9(t,e){let n=t;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case qa.FirstChild:n=n.firstChild;break;case qa.NextSibling:n=n.nextSibling}}return n}(i,r)}(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{const a=null===r.prev,u=r.prev??r.parent;if(function J9(t){return!t.prev&&8===t.parent?.type}(r))o=rI(t,$I(r.parent));else{let c=Sn(u,n);if(a)o=c.firstChild;else{const d=$I(u),h=rI(t,d);o=2===u.type&&h?Lp(iI(t,d)+1,h):c.nextSibling}}}}return o}function Lp(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}let hN=!1;function m8(t,e,n){for(const r of n.node.cases[n.case]){const i=e.get(r.index-Z);i&&yl(t,i,!1)}}function mN(t){const e=t[Kc]??[],r=t[Pt][ae];for(const i of e)_8(i,r);t[Kc]=Me}function _8(t,e){let n=0,r=t.firstChild;if(r){const i=t.data[za];for(;n<i;){const o=r.nextSibling;yl(e,r,!1),r=o,n++}}}function _N(t){mN(t);const e=t[ot];jt(e)&&Up(e);for(let n=It;n<t.length;n++)Up(t[n])}function Up(t){!function g8(t){const e=t[An];if(e){const{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){const i=t[ae];for(const o of r.values())m8(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}(t);const e=t[H];for(let n=Z;n<e.bindingStartIndex;n++)gn(t[n])?_N(t[n]):jt(t[n])&&Up(t[n])}let yN=()=>null;function I8(t,e){const n=t[Kc];return e&&null!==n&&0!==n.length?n[0].data[Xv]===e?n.shift():(mN(t),null):null}function Ts(t,e){return yN(t,e)}class eu{}const tu=new q("",{providedIn:"root",factory:()=>!1}),vN=new q(""),KI=new q("");class w8{}class IN{}class C8{resolveComponentFactory(e){throw function T8(t){const e=Error(`No component factory found for ${Vt(t)}.`);return e.ngComponent=t,e}(e)}}class jp{static{this.NULL=new C8}}class QI{}let Ni=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function b8(){const t=k(),n=Xn(Ue().index,t);return(jt(n)?n:t)[ae]}()}}return t})(),D8=(()=>{class t{static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>null})}}return t})();function $p(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Vy(i,a):2==o&&(r=Vy(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class CN extends jp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ve(e);return new xl(n,this.ngModule)}}function bN(t,e){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r];if(void 0===i)continue;const o=Array.isArray(i),s=o?i[0]:i;n.push(e?{propName:s,templateName:r,isSignal:!!((o?i[1]:ao.None)&ao.SignalBased)}:{propName:s,templateName:r})}return n}class xl extends IN{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=bN(e.inputs,!0);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return bN(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Nz(t){return t.map(xz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){const o=_e(null);try{let s=(i=i||this.ngModule)instanceof Jn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new ps(e,s):e,u=a.get(QI,null);if(null===u)throw new V(407,!1);const h={rendererFactory:u,sanitizer:a.get(D8,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(eu,null)},p=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?function z5(t,e,n,r){const o=r.get(HM,!1)||n===Ar.ShadowDom,s=t.selectRootElement(e,o);return function W5(t){Ox(t)}(s),s}(p,r,this.componentDef.encapsulation,a):Dp(p,g,function R8(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g));let v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let E=null;null!==_&&(E=tI(_,a,!0));const A=RI(0,null,null,1,0,null,null,null,null,null,null),D=Pp(null,A,null,v,null,null,h,p,a,null,E);Av(D);let F,$,Q=null;try{const Y=this.componentDef;let b,w=null;Y.findHostDirectiveDefs?(b=[],w=new Map,Y.findHostDirectiveDefs(Y,b,w),b.push(Y)):b=[Y];const T=function M8(t,e){const n=t[H],r=Z;return t[r]=e,Is(n,r,2,"#host",null)}(D,_);Q=function x8(t,e,n,r,i,o,s){const a=i[H];!function N8(t,e,n,r){for(const i of t)e.mergedAttrs=Gc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&($p(e,e.mergedAttrs,!0),null!==n&&Rx(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=tI(e,i[Mt]));const c=o.rendererFactory.createRenderer(e,n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const h=Pp(i,Nx(n),null,d,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&MI(a,t,r.length-1),Mp(i,h),i[t.index]=h}(T,_,Y,b,D,h,p),$=Jc(A,Z),_&&function k8(t,e,n,r){if(r)tv(t,n,["ng-version","18.2.10"]);else{const{attrs:i,classes:o}=function Oz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Sr(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&tv(t,n,i),o&&o.length>0&&Sx(t,n,o.join(" "))}}(p,Y,_,r),void 0!==n&&function F8(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}($,this.ngContentSelectors,n),F=function O8(t,e,n,r,i,o){const s=Ue(),a=i[H],u=Sn(s,i);Vx(a,i,s,n,null,r);for(let d=0;d<n.length;d++)mn(gs(i,a,s.directiveStart+d,s),i);Lx(a,i,s),u&&mn(u,i);const c=gs(i,a,s.directiveStart+s.componentOffset,s);if(t[Qe]=i[Qe]=c,null!==o)for(const d of o)d(c,e);return DI(a,s,i),c}(Q,Y,b,w,D,[V8]),kI(A,D,null)}catch(Y){throw null!==Q&&zv(Q),zv(D),Y}finally{Sv()}return new P8(this.componentType,F,$a($,D),D,$)}finally{_e(o)}}}class P8 extends w8{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wl(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;OI(o[H],o,i,e,n),this.previousInputValues.set(e,n),El(Xn(this._tNode.index,o),1)}}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function V8(){const t=Ue();ip(k()[H],t)}let Nr=(()=>{class t{static{this.__NG_ELEMENT_ID__=L8}}return t})();function L8(){return function SN(t,e){let n;const r=e[t.index];return gn(r)?n=r:(n=Ux(r,e,null,t),e[t.index]=n,Mp(e,n)),RN(n,e,t,r),new DN(n,t,e)}(Ue(),k())}const U8=Nr,DN=class extends U8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $a(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const e=cp(this._hostTNode,this._hostLView);if(xv(e)){const n=nl(e,this._hostLView),r=tl(e);return new Bt(n[H].data[r+8],n)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=AN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=Ts(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Es(this._hostTNode,s)),a}createComponent(e,n,r,i,o){const s=e&&!function zc(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const u=s?e:new xl(ve(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const v=(s?c:this.parentInjector).get(Jn,null);v&&(o=v)}const d=ve(u.componentType??{}),h=Ts(this._lContainer,d?.id??null),g=u.create(c,i,h?.firstChild??null,o);return this.insertImpl(g.hostView,a,Es(this._hostTNode,h)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function h3(t){return gn(t[Pt])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=i[Pt],c=new DN(u,u[nn],u[Pt]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return function Xa(t,e,n,r=!0){const i=e[H];if(function k5(t,e,n,r){const i=It+r,o=n.length;r>0&&(n[i-1][Rr]=e),r<o-It?(e[Rr]=n[i],GR(n,It+r,e)):(n.push(e),e[Rr]=null),e[Pt]=n;const s=e[cs];null!==s&&n!==s&&_x(s,e);const a=e[Ci];null!==a&&a.insertView(t),vv(e),e[ne]|=128}(i,e,t,n),r){const s=TI(n,t),a=e[ae],u=EI(a,t[Kr]);null!==u&&function N5(t,e,n,r,i,o){r[ot]=i,r[nn]=e,Rp(t,r,n,1,i,o)}(i,t[nn],a,e,u,s)}const o=e[An];null!==o&&null!==o.firstChild&&(o.firstChild=null)}(s,i,o,r),e.attachToViewContainerRef(),GR(XI(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=AN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=_l(this._lContainer,n);r&&(jf(XI(this._lContainer),n),Ap(r[H],r))}detach(e){const n=this._adjustIndex(e,-1),r=_l(this._lContainer,n);return r&&null!=jf(XI(this._lContainer),n)?new wl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function AN(t){return t[8]}function XI(t){return t[8]||(t[8]=[])}let RN=MN,ZI=()=>!1;function MN(t,e,n,r){if(t[Kr])return;let i;i=8&n.type?xe(r):function j8(t,e){const n=t[ae],r=n.createComment(""),i=Sn(e,t);return ys(n,EI(n,i),r,function L5(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Kr]=i}function B8(t,e,n){if(t[Kr]&&t[Kc])return!0;const r=n[An],i=e.index-Z;if(!r||function al(t){if(sl(t))return!0;let e=t.parent;for(;e;){if(sl(t)||Gv(e))return!0;e=e.parent}return!1}(e)||_s(r,i))return!1;const s=rI(r,i),a=r.data[cl]?.[i],[u,c]=function v8(t,e){const n=[];for(const r of e)for(let i=0;i<(r[_p]??1);i++){const o={data:r,firstChild:null};r[za]>0&&(o.firstChild=t,t=Lp(r[za],t)),n.push(o)}return[t,n]}(s,a);return t[Kr]=u,t[Kc]=c,!0}function $8(t,e,n,r){ZI(t,n,e)||MN(t,e,n,r)}const UN=new Set;function _n(t){UN.has(t)||(UN.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nu(t,e){_n("NgSignals");const n=function x4(t){const e=Object.create(O4);e.value=t;const n=()=>(wy(e),e.value);return n[Cr]=e,n}(t),r=n[Cr];return e?.equal&&(r.equal=e.equal),n.set=i=>IR(r,i),n.update=i=>function N4(t,e){fR()||vR(),IR(t,e(t.value))}(r,i),n.asReadonly=BN.bind(n),n}function BN(){const t=this[Cr];if(void 0===t.readonlyFn){const e=()=>this();e[Cr]=t,t.readonlyFn=e}return t.readonlyFn}function $N(t){return function jN(t){return"function"==typeof t&&void 0!==t[Cr]}(t)&&"function"==typeof t.set}function je(t){let e=function ZN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Gp(t.inputs),s.inputTransforms=Gp(t.inputTransforms),s.declaredInputs=Gp(t.declaredInputs),s.outputs=Gp(t.outputs);const a=i.hostBindings;a&&cW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&aW(t,u),c&&uW(t,c),oW(t,i),X4(t.outputs,i.outputs),Pr(i)&&i.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===je&&(n=!1)}}e=Object.getPrototypeOf(e)}!function sW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gc(i.hostAttrs,n=Gc(n,i.hostAttrs))}}(r)}function oW(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];if(void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Gp(t){return t===zr?{}:t===Me?[]:t}function aW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function uW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function cW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function rO(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class Cs{}class iO{}class uE extends Cs{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new CN(this);const o=pn(e);this._bootstrapComponents=er(o.bootstrap),this._r3Injector=iM(e,n,[{provide:Cs,useValue:this},{provide:jp,useValue:this.componentFactoryResolver},...r],Vt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cE extends iO{constructor(e){super(),this.moduleType=e}create(e){return new uE(this.moduleType,e,[])}}class oO extends Cs{constructor(e){super(),this.componentFactoryResolver=new CN(this),this.instance=null;const n=new Ma([...e.providers,{provide:Cs,useValue:this},{provide:jp,useValue:this.componentFactoryResolver}],e.parent||Wf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function lE(t,e,n=null){return new oO({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function qp(t){return!!function dE(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ti(t,e,n){return t[e]=n}function Et(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function bs(t,e,n,r){const i=Et(t,e,n);return Et(t,e+1,r)||i}function iu(t){return!(32&~t.flags)}function kl(t,e,n,r,i,o,s,a,u,c){const d=n+Z,h=e.firstCreatePass?function EW(t,e,n,r,i,o,s,a,u){const c=e.consts,d=Is(e,t,4,s||null,a||null);PI(e,n,d,gr(c,u)),ip(e,d);const h=d.tView=RI(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,e,t,r,i,o,s,a,u):e.data[d];Mr(h,!1);const p=sO(e,t,h,n);Zc()&&Sp(e,t,p,h),mn(p,t);const g=Ux(p,t,p,h);return t[d]=g,Mp(t,g),function PN(t,e,n){return ZI(t,e,n)}(g,h,t),Xf(h)&&AI(e,t,h),null!=u&&SI(t,h,c),h}function _r(t,e,n,r,i,o,s,a){const u=k(),c=ye();return kl(u,c,t,e,n,r,i,gr(c.consts,o),s,a),_r}let sO=aO;function aO(t,e,n,r){return Yr(!0),e[ae].createComment("")}function wW(t,e,n,r){const i=e[An],o=!i||hs()||iu(n)||_s(i,r);if(Yr(o),o)return aO(0,e);const s=i.data[Jv]?.[r]??null;null!==s&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=s);const a=Sl(i,t,e,n);return vp(i,r,a),Lp(iI(i,r),a)}var su=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(su||{});let fO=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t})}}return t})();class Ll{constructor(){this.ngZone=L(ke),this.scheduler=L(eu),this.errorHandler=L(Xr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[su.EarlyRead,su.Write,su.MixedReadWrite,su.Read]}execute(){this.executing=!0;for(const e of Ll.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[e])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(const e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ee({token:Ll,providedIn:"root",factory:()=>new Ll})}}function ni(t,e,n,r){const i=k();return Et(i,xr(),e)&&(ye(),ei(Ye(),i,t,e,n,r)),ni}function pu(t,e,n,r,i,o){const a=bs(t,function Si(){return ue.lFrame.bindingIndex}(),n,i);return Ri(2),a?e+he(n)+r+he(i)+o:fe}function Xp(t,e){return t<<17|e<<2}function vo(t){return t>>17&32767}function TE(t){return 2|t}function As(t){return(131068&t)>>2}function CE(t,e){return-131069&t|e<<2}function bE(t){return 1|t}function BO(t,e,n,r){const i=t[n+1],o=null===e;let s=r?vo(i):As(i),a=!1;for(;0!==s&&(!1===a||o);){const c=t[s+1];c7(t[s],e)&&(a=!0,t[s+1]=r?bE(c):TE(c)),s=r?vo(c):As(c)}a&&(t[n+1]=r?TE(i):bE(i))}function c7(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Pa(t,e)>=0}function Ht(t,e,n){const r=k();return Et(r,xr(),e)&&$n(ye(),Ye(),r,t,e,r[ae],n,!1),Ht}function DE(t,e,n,r,i){const s=i?"class":"style";OI(t,n,e.inputs[s],s,r)}function jl(t,e){return function Or(t,e,n,r){const i=k(),o=ye(),s=Ri(2);o.firstUpdatePass&&function YO(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[rn()],s=function QO(t,e){return e>=t.expandoStartIndex}(t,n);(function ek(t,e){return!!(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function y7(t,e,n,r){const i=function bv(t){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Bl(n=AE(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=AE(i,t,e,n,r),null===o){let u=function v7(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==As(r))return t[vo(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=AE(null,t,e,u[1],r),u=Bl(u,e.attrs,r),function I7(t,e,n,r){t[vo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function E7(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Bl(r,t[o].hostAttrs,n);return Bl(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function a7(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=vo(s),u=As(s);t[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||Pa(n,d)>0)&&(c=!0)):d=n,i)if(0!==u){const p=vo(t[a+1]);t[r+1]=Xp(p,a),0!==p&&(t[p+1]=CE(t[p+1],r)),t[a+1]=function o7(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Xp(a,0),0!==a&&(t[a+1]=CE(t[a+1],r)),a=r;else t[r+1]=Xp(u,0),0===a?a=r:t[u+1]=CE(t[u+1],r),u=r;c&&(t[r+1]=TE(t[r+1])),BO(t,d,r,!0),BO(t,d,r,!1),function u7(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Pa(o,e)>=0&&(n[r+1]=bE(n[r+1]))}(e,d,t,r,o),s=Xp(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==fe&&Et(i,s,e)&&function XO(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],d=function s7(t){return!(1&~t)}(c)?ZO(u,e,n,i,As(c),s):void 0;Zp(d)||(Zp(o)||function i7(t){return!(2&~t)}(c)&&(o=ZO(u,null,n,i,a,s)),function B5(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:go.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=go.Important),t.setStyle(n,r,i,o))}}(r,s,Yc(rn(),n),i,o))}(o,o.data[rn()],i,i[ae],t,i[s+1]=function b7(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Vt(po(t)))),t}(e,n),r,s)}(t,e,null,!0),jl}function AE(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Bl(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Bl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ZO(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let p=n[i+1];p===fe&&(p=h?Me:void 0);let g=h?Zy(p,r):d===r?p:void 0;if(c&&!Zp(g)&&(g=Zy(u,r)),Zp(g)&&(a=g,s))return a;const _=t[i+1];i=s?vo(_):As(_)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Zy(u,r))}return a}function Zp(t){return void 0!==t}function re(t,e,n,r){const i=k(),o=ye(),s=Z+t,a=i[ae],u=o.firstCreatePass?function K7(t,e,n,r,i,o){const s=e.consts,u=Is(e,t,2,r,gr(s,i));return PI(e,n,u,gr(s,o)),null!==u.attrs&&$p(u,u.attrs,!1),null!==u.mergedAttrs&&$p(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=ik(o,i,u,a,e,t);i[s]=c;const d=Xf(u);return Mr(u,!0),Rx(a,c,u),!iu(u)&&Zc()&&Sp(o,i,c,u),0===function f3(){return ue.lFrame.elementDepthCount}()&&mn(c,i),function p3(){ue.lFrame.elementDepthCount++}(),d&&(AI(o,i,u),DI(o,u,i)),null!==r&&SI(i,u),re}function se(){let t=Ue();wv()?function Tv(){ue.lFrame.isParent=!1}():(t=t.parent,Mr(t,!1));const e=t;(function m3(t){return ue.skipHydrationRootTNode===t})(e)&&function I3(){ue.skipHydrationRootTNode=null}(),function g3(){ue.lFrame.elementDepthCount--}();const n=ye();return n.firstCreatePass&&(ip(n,t),fv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function O3(t){return!!(8&t.flags)}(e)&&DE(n,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function k3(t){return!!(16&t.flags)}(e)&&DE(n,e,k(),e.stylesWithoutHost,!1),se}function Ss(t,e,n,r){return re(t,e,n,r),se(),Ss}let ik=(t,e,n,r,i,o)=>(Yr(!0),Dp(r,i,LP()));function Q7(t,e,n,r,i,o){const s=e[An],a=!s||hs()||iu(n)||_s(s,o);if(Yr(a),a)return Dp(r,i,LP());const u=Sl(s,t,e,n);return UM(s,o)&&vp(s,o,u.nextSibling),s&&(Gv(n)||pM(u))&&ls(n)&&(function y3(t){ue.skipHydrationRootTNode=t}(n),Dx(u)),u}let sk=(t,e,n,r)=>(Yr(!0),_I(e[ae],""));function X7(t,e,n,r){let i;const o=e[An],s=!o||hs()||_s(o,r)||iu(n);if(Yr(s),s)return _I(e[ae],"");const a=Sl(o,t,e,n),u=function LM(t,e){const n=t.data;let r=n[mp]?.[e]??null;return null===r&&n[cl]?.[e]&&(r=iI(t,e)),r}(o,r);return vp(o,r,a),i=Lp(u,a),i}function Rs(){return k()}const Ps=void 0;var tK=["en",[["a","p"],["AM","PM"],Ps],[["AM","PM"],Ps,Ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ps,"{1} 'at' {0}",Ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eK(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let wu={};function Pn(t){const e=function nK(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=lk(e);if(n)return n;const r=e.split("-")[0];if(n=lk(r),n)return n;if("en"===r)return tK;throw new V(701,!1)}function lk(t){return t in wu||(wu[t]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[t]),wu[t]}var Je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Je||{});const tg="en-US";let dk=tg,Rk=(t,e,n)=>{};function at(t,e,n,r){const i=k(),o=ye(),s=Ue();return kE(o,i,i[ae],s,t,e,r),at}function kE(t,e,n,r,i,o,s){const a=Xf(r),c=t.firstCreatePass&&function $x(t){return t.cleanup??=[]}(t),d=e[Qe],h=function Bx(t){return t[Oa]??=[]}(e);let p=!0;if(3&r.type||s){const v=Sn(r,e),E=s?s(v):v,A=h.length,D=s?$=>s(xe($[r.index])):r.index;let F=null;if(!s&&a&&(F=function GK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Oa],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,p=!1;else{o=Nk(r,e,d,o),Rk(v,i,o);const $=n.listen(E,i,o);h.push(o,$),c&&c.push(i,D,A,A+1)}}else o=Nk(r,e,d,o);const g=r.outputs;let _;if(p&&null!==g&&(_=g[i])){const v=_.length;if(v)for(let E=0;E<v;E+=2){const Q=e[_[E]][_[E+1]].subscribe(o),Y=h.length;h.push(o,Q),c&&c.push(i,r.index,Y,-(Y+1))}}}function xk(t,e,n,r){const i=_e(null);try{return Qr(6,e,n),!1!==n(r)}catch(o){return xp(t,o),!1}finally{Qr(7,e,n),_e(i)}}function Nk(t,e,n,r){return function i(o){if(o===Function)return r;El(t.componentOffset>-1?Xn(t.index,e):e,5);let a=xk(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=xk(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Kt(t=1){return function b3(t){return(ue.lFrame.contextLView=function TP(t,e){for(;t>0;)e=e[ka],t--;return e}(t,ue.lFrame.contextLView))[Qe]}(t)}function Re(t,e=""){const n=k(),r=ye(),i=t+Z,o=r.firstCreatePass?Is(r,i,1,e,null):r.data[i],s=t1(r,n,o,e,t);n[i]=s,Zc()&&Sp(r,n,s,o),Mr(o,!1)}let t1=(t,e,n,r,i)=>(Yr(!0),mI(e[ae],r));function cQ(t,e,n,r,i){const o=e[An],s=!o||hs()||iu(n)||_s(o,i);return Yr(s),s?mI(e[ae],r):Sl(o,t,e,n)}function Io(t){return og("",t,""),Io}function og(t,e,n){const r=k(),i=function fu(t,e,n,r){return Et(t,xr(),n)?e+he(n)+r:fe}(r,t,e,n);return i!==fe&&Mi(r,rn(),i),og}function LE(t,e,n,r,i){const o=k(),s=pu(o,t,e,n,r,i);return s!==fe&&Mi(o,rn(),s),LE}function Fr(t,e,n){$N(e)&&(e=e());const r=k();return Et(r,xr(),e)&&$n(ye(),Ye(),r,t,e,r[ae],n,!1),Fr}function oi(t,e){const n=$N(t);return n&&t.set(e),n}function Vr(t,e){const n=k(),r=ye(),i=Ue();return kE(r,n,n[ae],i,t,e),Vr}function UE(t,e,n,r,i){if(t=oe(t),Array.isArray(t))for(let o=0;o<t.length;o++)UE(t[o],e,n,r,i);else{const o=ye(),s=k(),a=Ue();let u=us(t)?t:oe(t.provide);const c=sP(t),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(us(t)||!t.multi){const g=new el(c,i,B),_=BE(u,e,i?d:d+p,h);-1===_?(kv(up(a,s),o,u),jE(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{const g=BE(u,e,d+p,h),_=BE(u,e,d,d+p),E=_>=0&&n[_];if(i&&!E||!i&&!(g>=0&&n[g])){kv(up(a,s),o,u);const A=function mQ(t,e,n,r,i){const o=new el(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,h1(o,i,r&&!n),o}(i?gQ:pQ,n.length,i,r,c);!i&&E&&(n[_].providerFactory=A),jE(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else jE(o,t,g>-1?g:_,h1(n[i?_:g],c,!i&&r));!i&&r&&E&&n[_].componentProviders++}}}function jE(t,e,n,r){const i=us(e),o=function Bz(t){return!!t.useClass}(e);if(i||o){const u=(o?oe(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,u]):c[d+1].push(r,u)}else c.push(n,u)}}}function h1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function BE(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function pQ(t,e,n,r){return $E(this.multi,[])}function gQ(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=gs(n,n[H],this.providerFactory.index,r);o=a.slice(0,s),$E(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],$E(i,o);return o}function $E(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ut(t,e=[]){return n=>{n.providersResolver=(r,i)=>function fQ(t,e,n){const r=ye();if(r.firstCreatePass){const i=Pr(t);UE(n,r.data,r.blueprint,i,!0),UE(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let _Q=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=rv(0,n.type),i=r.length>0?lE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ee({token:t,providedIn:"environment",factory:()=>new t(pe(Jn))})}}return t})();function Eo(t){_n("NgStandalone"),t.getStandaloneInjector=e=>e.get(_Q).getOrCreateStandaloneInjector(t)}function Wl(t,e,n){const r=Rn()+t,i=k();return i[r]===fe?ti(i,r,n?e.call(n):e()):function Ol(t,e){return t[e]}(i,r)}function m1(t,e,n,r,i,o,s){const a=e+n;return bs(t,a,i,o)?ti(t,a+2,s?r.call(s,i,o):r(i,o)):function Kl(t,e){const n=t[e];return n===fe?void 0:n}(t,a+2)}function ug(t,e){const n=ye();let r;const i=t+Z;n.firstCreatePass?(r=function PQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ss(r.type)),a=Ln(B);try{const u=ap(!1),c=o();return ap(u),function VE(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,k(),i,c),c}finally{Ln(a)}}function cg(t,e,n,r){const i=t+Z,o=k(),s=function ds(t,e){return t[e]}(o,i);return function Ql(t,e){return t[H].data[e].pure}(o,i)?m1(o,Rn(),e,s.transform,n,r,s):s.transform(n,r)}let WE=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const U1=new q("");function Zl(t){return!!t&&"function"==typeof t.then}function j1(t){return!!t&&"function"==typeof t.subscribe}const B1=new q("");let $1=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(B1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Zl(o))n.push(o);else if(j1(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const ed=new q("");let pg,rr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(c6),this.afterRenderManager=L(fO),this.zonelessEnabled=L(tu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new fn,this.afterTick=new fn,this.componentTypes=[],this.components=[],this.isStable=L(ms).hasPendingTasks.pipe(we(n=>!n)),this._injector=L(Jn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof IN;if(!this._injector.get($1).done)throw!i&&function co(t){const e=ve(t)||Lt(t)||tn(t);return null!==e&&e.standalone}(n),new V(405,!1);let s;s=i?n:this._injector.get(jp).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function RY(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Cs),c=s.create(Wt.NULL,[],r||s.selector,a),d=c.location.nativeElement,h=c.injector.get(U1,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),fg(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new V(101,!1);const n=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(QI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)xY(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Zf(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;fg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ed,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>fg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function XE(t){pg??=new WeakMap;const e=pg.get(t);if(e)return e;const n=t.isStable.pipe(ro(r=>r)).toPromise().then(()=>{});return pg.set(t,n),t.onDestroy(()=>pg?.delete(t)),n}function xY(t,e,n,r){(n||Zf(t))&&Np(t,e,n&&!r?0:1)}class NY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let OY=(()=>{class t{compileModuleSync(n){return new cE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=er(pn(n).declarations).reduce((s,a)=>{const u=ve(a);return u&&s.push(new xl(u)),s},[]);return new NY(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VY=(()=>{class t{constructor(){this.zone=L(ke),this.changeDetectionScheduler=L(eu),this.applicationRef=L(rr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const LY=new q("",{factory:()=>!1});function ZE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ke({...ew(),scheduleInRootZone:n}),[{provide:ke,useFactory:t},{provide:Dr,multi:!0,useFactory:()=>{const r=L(VY,{optional:!0});return()=>r.initialize()}},{provide:Dr,multi:!0,useFactory:()=>{const r=L(jY);return()=>{r.initialize()}}},!0===e?{provide:vN,useValue:!0}:[],{provide:KI,useValue:n??sM}]}function ew(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let jY=(()=>{class t{constructor(){this.subscription=new hn,this.initialized=!1,this.zone=L(ke),this.pendingTasks=L(ms)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),td=(()=>{class t{constructor(){this.appRef=L(rr),this.taskService=L(ms),this.ngZone=L(ke),this.zonelessEnabled=L(tu),this.disableScheduling=L(vN,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new hn,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(KI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $v||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?uM:aM;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const wo=new q("",{providedIn:"root",factory:()=>L(wo,Ie.Optional|Ie.SkipSelf)||function BY(){return typeof $localize<"u"&&$localize.locale||tg}()}),gg=new q("");function mg(t){return!t.moduleRef}let To=null;let nd=(()=>{class t{static{this.__NG_ELEMENT_ID__=JY}}return t})();function JY(t){return function XY(t,e,n){if(ls(t)&&!n){const r=Xn(t.index,e);return new wl(r,r)}return 175&t.type?new wl(e[st],e):null}(Ue(),k(),!(16&~t))}class oF{constructor(){}supports(e){return qp(e)}create(e){return new rJ(e)}}const nJ=(t,e)=>e;class rJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<aF(r,i,o)?n:r,a=aF(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=u-i;if(c!=d){for(let p=0;p<c;p++){const g=p<o.length?o[p]:o[p]=0,_=g+p;d<=_&&_<c&&(o[p]=g+1)}o[s.previousIndex]=d-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!qp(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function vW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new iJ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new sF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class iJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new oJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cF(){return new aw([new oF])}let aw=(()=>{class t{static{this.\u0275prov=ee({token:t,providedIn:"root",factory:cF})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||cF()),deps:[[t,new Jy,new Yy]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new V(901,!1)}}return t})();function EJ(t){try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,i=function YY(t=[]){if(To)return To;const e=function X1(t=[],e){return Wt.create({name:e,providers:[{provide:sv,useValue:"platform"},{provide:gg,useValue:new Set([()=>To=null])},...t]})}(t);return To=e,function H1(){!function M4(t){yR=t}(()=>{throw new V(600,!1)})}(),function Z1(t){t.get(NM,null)?.forEach(n=>n())}(e),e}(r),o=[ZE({}),{provide:eu,useExisting:td},...n||[]];return function Q1(t){const e=mg(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ke);return n.run(()=>{mg(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(Xr,null);let i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),mg(t)){const o=()=>e.destroy(),s=t.platformInjector.get(gg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(gg);s.add(o),t.moduleRef.onDestroy(()=>{fg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return function MY(t,e,n){try{const r=n();return Zl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(r,n,()=>{const o=e.get($1);return o.runInitializers(),o.donePromise.then(()=>{if(function sK(t){"string"==typeof t&&(dk=t.toLowerCase().replace(/_/g,"-"))}(e.get(wo,tg)||tg),mg(t)){const a=e.get(rr);return void 0!==t.rootComponent&&a.bootstrap(t.rootComponent),a}return function WY(t,e){const n=t.injector.get(rr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new V(-403,!1);t.instance.ngDoBootstrap(n)}e.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new oO({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}let MF=!1;function jJ(){return as([{provide:Ip,useFactory:()=>{let t=!0;return tr()&&(t=!!L(Ga,{optional:!0})?.get(eI,null)),t&&_n("NgHydration"),t}},{provide:Dr,useValue:()=>{(function pN(t){hN=t})(!1),tr()&&L(Ip)&&(function BJ(){const t=fo();let e;for(const n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&"nghm"===n.textContent?.trim()){e=n;break}if(!e)throw new V(-507,!1)}(),function VJ(){MF||(MF=!0,function U6(){kM=L6}(),function Y7(){ik=Q7}(),function lQ(){t1=cQ}(),function Z7(){sk=X7}(),function TW(){sO=wW}(),function H8(){RN=$8,ZI=B8}(),function E8(){yN=I8}(),function Q5(){Ox=K5}())}())},multi:!0},{provide:HM,useFactory:()=>tr()&&L(Ip)},{provide:ed,useFactory:()=>{if(tr()&&L(Ip)){const t=L(rr);return L(Wt),()=>{(function UJ(t){return XE(t)})(t).then(()=>{!function y8(t){const e=t._views;for(const n of e){const r=FM(n);null!==r&&null!==r[ot]&&(jt(r)?Up(r):_N(r))}}(t)})}}return()=>{}},multi:!0}])}function bu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function sd(t,e){_n("NgSignals");const n=function S4(t){const e=Object.create(R4);e.computation=t;const n=()=>{if(dR(e),wy(e),e.value===bf)throw e.error;return e.value};return n[Cr]=e,n}(t);return e?.equal&&(n[Cr].equal=e.equal),n}function si(t){const e=_e(null);try{return t()}finally{_e(e)}}let NF=null;function Co(){return NF}class QJ{}const ai=new q("");let OF=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>L(YJ),providedIn:"platform"})}}return t})(),YJ=(()=>{class t extends OF{constructor(){super(),this._doc=L(ai),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Co().getBaseHref(this._doc)}onPopState(n){const r=Co().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Co().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function kF(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function FF(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function xs(t){return t&&"?"!==t[0]?"?"+t:t}let Dg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>L(XJ),providedIn:"root"})}}return t})();const JJ=new q("");let XJ=(()=>{class t extends Dg{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(ai).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return kF(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+xs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+xs(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+xs(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(pe(OF),pe(JJ,8))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ad=(()=>{class t{constructor(n){this._subject=new pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function tX(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(FF(VF(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xs(r))}normalize(n){return t.stripTrailingSlash(function eX(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,VF(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=xs}static{this.joinWithSlash=kF}static{this.stripTrailingSlash=FF}static{this.\u0275fac=function(r){return new(r||t)(pe(Dg))}}static{this.\u0275prov=ee({token:t,factory:()=>function ZJ(){return new ad(pe(Dg))}(),providedIn:"root"})}}return t})();function VF(t){return t.replace(/\/index.html$/,"")}var xn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(xn||{}),Ge=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ge||{}),ir=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ir||{});const xt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Sg(t,e){return vr(Pn(t)[Je.DateFormat],e)}function Rg(t,e){return vr(Pn(t)[Je.TimeFormat],e)}function Pg(t,e){return vr(Pn(t)[Je.DateTimeFormat],e)}function yr(t,e){const n=Pn(t),r=n[Je.NumberSymbols][e];if(typeof r>"u"){if(e===xt.CurrencyDecimal)return n[Je.NumberSymbols][xt.Decimal];if(e===xt.CurrencyGroup)return n[Je.NumberSymbols][xt.Group]}return r}function UF(t){if(!t[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function dw(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const gX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mg={},mX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Oi||{}),Fe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Fe||{}),Ve=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ve||{});function _X(t,e,n,r){let i=function DX(t){if($F(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,o=1,s=1]=t.split("-").map(a=>+a);return xg(i,o-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(gX))return function AX(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(r)}const e=new Date(t);if(!$F(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=ki(n,e)||e;let a,s=[];for(;e;){if(a=mX.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;e=d}}let u=i.getTimezoneOffset();r&&(u=BF(r,u),i=function bX(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function CX(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(BF(e,i)-i))}(i,r,!0));let c="";return s.forEach(d=>{const h=function TX(t){if(fw[t])return fw[t];let e;switch(t){case"G":case"GG":case"GGG":e=Xe(Ve.Eras,Ge.Abbreviated);break;case"GGGG":e=Xe(Ve.Eras,Ge.Wide);break;case"GGGGG":e=Xe(Ve.Eras,Ge.Narrow);break;case"y":e=Nt(Fe.FullYear,1,0,!1,!0);break;case"yy":e=Nt(Fe.FullYear,2,0,!0,!0);break;case"yyy":e=Nt(Fe.FullYear,3,0,!1,!0);break;case"yyyy":e=Nt(Fe.FullYear,4,0,!1,!0);break;case"Y":e=Fg(1);break;case"YY":e=Fg(2,!0);break;case"YYY":e=Fg(3);break;case"YYYY":e=Fg(4);break;case"M":case"L":e=Nt(Fe.Month,1,1);break;case"MM":case"LL":e=Nt(Fe.Month,2,1);break;case"MMM":e=Xe(Ve.Months,Ge.Abbreviated);break;case"MMMM":e=Xe(Ve.Months,Ge.Wide);break;case"MMMMM":e=Xe(Ve.Months,Ge.Narrow);break;case"LLL":e=Xe(Ve.Months,Ge.Abbreviated,xn.Standalone);break;case"LLLL":e=Xe(Ve.Months,Ge.Wide,xn.Standalone);break;case"LLLLL":e=Xe(Ve.Months,Ge.Narrow,xn.Standalone);break;case"w":e=hw(1);break;case"ww":e=hw(2);break;case"W":e=hw(1,!0);break;case"d":e=Nt(Fe.Date,1);break;case"dd":e=Nt(Fe.Date,2);break;case"c":case"cc":e=Nt(Fe.Day,1);break;case"ccc":e=Xe(Ve.Days,Ge.Abbreviated,xn.Standalone);break;case"cccc":e=Xe(Ve.Days,Ge.Wide,xn.Standalone);break;case"ccccc":e=Xe(Ve.Days,Ge.Narrow,xn.Standalone);break;case"cccccc":e=Xe(Ve.Days,Ge.Short,xn.Standalone);break;case"E":case"EE":case"EEE":e=Xe(Ve.Days,Ge.Abbreviated);break;case"EEEE":e=Xe(Ve.Days,Ge.Wide);break;case"EEEEE":e=Xe(Ve.Days,Ge.Narrow);break;case"EEEEEE":e=Xe(Ve.Days,Ge.Short);break;case"a":case"aa":case"aaa":e=Xe(Ve.DayPeriods,Ge.Abbreviated);break;case"aaaa":e=Xe(Ve.DayPeriods,Ge.Wide);break;case"aaaaa":e=Xe(Ve.DayPeriods,Ge.Narrow);break;case"b":case"bb":case"bbb":e=Xe(Ve.DayPeriods,Ge.Abbreviated,xn.Standalone,!0);break;case"bbbb":e=Xe(Ve.DayPeriods,Ge.Wide,xn.Standalone,!0);break;case"bbbbb":e=Xe(Ve.DayPeriods,Ge.Narrow,xn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Xe(Ve.DayPeriods,Ge.Abbreviated,xn.Format,!0);break;case"BBBB":e=Xe(Ve.DayPeriods,Ge.Wide,xn.Format,!0);break;case"BBBBB":e=Xe(Ve.DayPeriods,Ge.Narrow,xn.Format,!0);break;case"h":e=Nt(Fe.Hours,1,-12);break;case"hh":e=Nt(Fe.Hours,2,-12);break;case"H":e=Nt(Fe.Hours,1);break;case"HH":e=Nt(Fe.Hours,2);break;case"m":e=Nt(Fe.Minutes,1);break;case"mm":e=Nt(Fe.Minutes,2);break;case"s":e=Nt(Fe.Seconds,1);break;case"ss":e=Nt(Fe.Seconds,2);break;case"S":e=Nt(Fe.FractionalSeconds,1);break;case"SS":e=Nt(Fe.FractionalSeconds,2);break;case"SSS":e=Nt(Fe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Og(Oi.Short);break;case"ZZZZZ":e=Og(Oi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Og(Oi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Og(Oi.Long);break;default:return null}return fw[t]=e,e}(d);c+=h?h(i,n,u):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function xg(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function ki(t,e){const n=function rX(t){return Pn(t)[Je.LocaleId]}(t);if(Mg[n]??={},Mg[n][e])return Mg[n][e];let r="";switch(e){case"shortDate":r=Sg(t,ir.Short);break;case"mediumDate":r=Sg(t,ir.Medium);break;case"longDate":r=Sg(t,ir.Long);break;case"fullDate":r=Sg(t,ir.Full);break;case"shortTime":r=Rg(t,ir.Short);break;case"mediumTime":r=Rg(t,ir.Medium);break;case"longTime":r=Rg(t,ir.Long);break;case"fullTime":r=Rg(t,ir.Full);break;case"short":const i=ki(t,"shortTime"),o=ki(t,"shortDate");r=Ng(Pg(t,ir.Short),[i,o]);break;case"medium":const s=ki(t,"mediumTime"),a=ki(t,"mediumDate");r=Ng(Pg(t,ir.Medium),[s,a]);break;case"long":const u=ki(t,"longTime"),c=ki(t,"longDate");r=Ng(Pg(t,ir.Long),[u,c]);break;case"full":const d=ki(t,"fullTime"),h=ki(t,"fullDate");r=Ng(Pg(t,ir.Full),[d,h])}return r&&(Mg[n][e]=r),r}function Ng(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Lr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Nt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function vX(t,e){switch(t){case Fe.FullYear:return e.getFullYear();case Fe.Month:return e.getMonth();case Fe.Date:return e.getDate();case Fe.Hours:return e.getHours();case Fe.Minutes:return e.getMinutes();case Fe.Seconds:return e.getSeconds();case Fe.FractionalSeconds:return e.getMilliseconds();case Fe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Fe.Hours)0===a&&-12===n&&(a=12);else if(t===Fe.FractionalSeconds)return function yX(t,e){return Lr(t,3).substring(0,e)}(a,e);const u=yr(s,xt.MinusSign);return Lr(a,e,u,r,i)}}function Xe(t,e,n=xn.Format,r=!1){return function(i,o){return function IX(t,e,n,r,i,o){switch(n){case Ve.Months:return function sX(t,e,n){const r=Pn(t),o=vr([r[Je.MonthsFormat],r[Je.MonthsStandalone]],e);return vr(o,n)}(e,i,r)[t.getMonth()];case Ve.Days:return function oX(t,e,n){const r=Pn(t),o=vr([r[Je.DaysFormat],r[Je.DaysStandalone]],e);return vr(o,n)}(e,i,r)[t.getDay()];case Ve.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const c=function lX(t){const e=Pn(t);return UF(e),(e[Je.ExtraData][2]||[]).map(r=>"string"==typeof r?dw(r):[dw(r[0]),dw(r[1])])}(e),d=function dX(t,e,n){const r=Pn(t);UF(r);const o=vr([r[Je.ExtraData][0],r[Je.ExtraData][1]],e)||[];return vr(o,n)||[]}(e,i,r),h=c.findIndex(p=>{if(Array.isArray(p)){const[g,_]=p,v=s>=g.hours&&a>=g.minutes,E=s<_.hours||s===_.hours&&a<_.minutes;if(g.hours<_.hours){if(v&&E)return!0}else if(v||E)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(-1!==h)return d[h]}return function iX(t,e,n){const r=Pn(t),o=vr([r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],e);return vr(o,n)}(e,i,r)[s<12?0:1];case Ve.Eras:return function aX(t,e){return vr(Pn(t)[Je.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Og(t){return function(e,n,r){const i=-1*r,o=yr(n,xt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Oi.Short:return(i>=0?"+":"")+Lr(s,2,o)+Lr(Math.abs(i%60),2,o);case Oi.ShortGMT:return"GMT"+(i>=0?"+":"")+Lr(s,1,o);case Oi.Long:return"GMT"+(i>=0?"+":"")+Lr(s,2,o)+":"+Lr(Math.abs(i%60),2,o);case Oi.Extended:return 0===r?"Z":(i>=0?"+":"")+Lr(s,2,o)+":"+Lr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const EX=0,kg=4;function jF(t){const e=t.getDay(),n=0===e?-3:kg-e;return xg(t.getFullYear(),t.getMonth(),t.getDate()+n)}function hw(t,e=!1){return function(n,r){let i;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=jF(n),s=function wX(t){const e=xg(t,EX,1).getDay();return xg(t,0,1+(e<=kg?kg:kg+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Lr(i,t,yr(r,xt.MinusSign))}}function Fg(t,e=!1){return function(n,r){return Lr(jF(n).getFullYear(),t,yr(r,xt.MinusSign),e)}}const fw={};function BF(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function $F(t){return t instanceof Date&&!isNaN(t.valueOf())}class $X{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Iw=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $X(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),KF(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{KF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(B(Nr),B(xi),B(aw))}}static{this.\u0275dir=ce({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function KF(t,e){t.context.$implicit=e.item}let cd=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new HX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){QF("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){QF("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(B(Nr),B(xi))}}static{this.\u0275dir=ce({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class HX{constructor(){this.$implicit=null,this.ngIf=null}}function QF(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Vt(e)}'.`)}const nZ=new q(""),rZ=new q("");let JF=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return _X(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Ur(t,e){return new V(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||t)(B(wo,16),B(nZ,24),B(rZ,24))}}static{this.\u0275pipe=jn({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),ld=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=qc({type:t})}static{this.\u0275inj=Aa({})}}return t})();const ZF="browser",fZ="server";function eV(t){return t===ZF}function bw(t){return t===fZ}function dV(t){return t&&Ae(t.schedule)}function Rw(t){return t[t.length-1]}function hV(t){return Ae(Rw(t))?t.pop():void 0}function fd(t){return dV(Rw(t))?t.pop():void 0}function Bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function bo(t){return this instanceof bo?(this.v=t,this):new bo(t)}function mV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Nw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ow=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _V(t){return Ae(t?.then)}function yV(t){return Ae(t[ky])}function vV(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function IV(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const EV=function gee(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wV(t){return Ae(t?.[EV])}function TV(t){return function gV(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(_){return Promise.resolve(_).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,_){r[g]&&(i[g]=function(v){return new Promise(function(E,A){o.push([g,v,E,A])>1||u(g,v)})},_&&(i[g]=_(i[g])))}function u(g,_){try{!function c(g){g.value instanceof bo?Promise.resolve(g.value.v).then(d,h):p(o[0][2],g)}(r[g](_))}catch(v){p(o[0][3],v)}}function d(g){u("next",g)}function h(g){u("throw",g)}function p(g,_){g(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield bo(n.read());if(i)return yield bo(void 0);yield yield bo(r)}}finally{n.releaseLock()}})}function CV(t){return Ae(t?.getReader)}function Gn(t){if(t instanceof ft)return t;if(null!=t){if(yV(t))return function mee(t){return new ft(e=>{const n=t[ky]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ow(t))return function _ee(t){return new ft(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(_V(t))return function yee(t){return new ft(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bR)})}(t);if(vV(t))return bV(t);if(wV(t))return function vee(t){return new ft(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(CV(t))return function Iee(t){return bV(TV(t))}(t)}throw IV(t)}function bV(t){return new ft(e=>{(function Eee(t,e){var n,r,i,o;return function fV(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=mV(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Fi(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function DV(t,e=0){return Ft((n,r)=>{n.subscribe(Rt(r,i=>Fi(r,t,()=>r.next(i),e),()=>Fi(r,t,()=>r.complete(),e),i=>Fi(r,t,()=>r.error(i),e)))})}function AV(t,e=0){return Ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function SV(t,e){if(!t)throw new Error("Iterable cannot be null");return new ft(n=>{Fi(n,e,()=>{const r=t[Symbol.asyncIterator]();Fi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Qt(t,e){return e?function Aee(t,e){if(null!=t){if(yV(t))return function wee(t,e){return Gn(t).pipe(AV(e),DV(e))}(t,e);if(Ow(t))return function Cee(t,e){return new ft(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(_V(t))return function Tee(t,e){return Gn(t).pipe(AV(e),DV(e))}(t,e);if(vV(t))return SV(t,e);if(wV(t))return function bee(t,e){return new ft(n=>{let r;return Fi(n,e,()=>{r=t[EV](),Fi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(CV(t))return function Dee(t,e){return SV(TV(t),e)}(t,e)}throw IV(t)}(t,e):Gn(t)}function de(...t){return Qt(t,fd(t))}function on(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ft((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Rt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):os}class Ns{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ns?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ns;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ns?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}var Fw=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Fw||{});class Vw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ns,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Hg extends Vw{constructor(e={}){super(e),this.type=Fw.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Hg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}const Bee=new q(""),Zee=new q(""),HV="b",GV="h",qV="s",zV="st",WV="u",KV="rt",qg=new q(""),ete=["GET","HEAD"];function tte(t,e){const{isCacheActive:n,...r}=L(qg),{transferCache:i,method:o}=t;if(!n||!1===i||"POST"===o&&!r.includePostRequests&&!i||"POST"!==o&&!ete.includes(o)||!r.includeRequestsWithAuthHeaders&&function nte(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}(t)||!1===r.filter?.(t))return e(t);const s=L(Ga),a=L(Zee,{optional:!0}),u=bw(L(Zr));if(a&&!u)throw new V(2803,!1);const c=u&&a?function ate(t,e){const n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}(t.url,a):t.url,d=function ite(t,e){const{params:n,method:r,responseType:i}=t,o=QV(n);let s=t.serializeBody();s instanceof URLSearchParams?s=QV(s):"string"!=typeof s&&(s="");const u=function ote(t){let e=0;for(const n of t)e=Math.imul(31,e)+n.charCodeAt(0)|0;return e+=2147483648,e.toString()}([r,i,e,s,o].join("|"));return u}(t,c),h=s.get(d,null);let p=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(p=i.includeHeaders),h){const{[HV]:g,[KV]:_,[GV]:v,[qV]:E,[zV]:A,[WV]:D}=h;let F=g;switch(_){case"arraybuffer":F=(new TextEncoder).encode(g).buffer;break;case"blob":F=new Blob([g])}let $=new Ns(v);return de(new Hg({body:F,headers:$,status:E,statusText:A,url:D}))}return e(t).pipe(on(g=>{g instanceof Hg&&u&&s.set(d,{[HV]:g.body,[GV]:rte(g.headers,p),[qV]:g.status,[zV]:g.statusText,[WV]:c,[KV]:t.responseType})}))}function rte(t,e){if(!e)return{};const n={};for(const r of e){const i=t.getAll(r);null!==i&&(n[r]=i)}return n}function QV(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function ste(t){return[{provide:qg,useFactory:()=>(_n("NgHttpTransferCache"),{isCacheActive:!0,...t})},{provide:Bee,useValue:tte,multi:!0,deps:[Ga,qg]},{provide:ed,multi:!0,useFactory:()=>{const e=L(rr),n=L(qg);return()=>{XE(e).then(()=>{n.isCacheActive=!1})}}}]}class ute extends QJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jw extends ute{static makeCurrent(){!function KJ(t){NF??=t}(new jw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function cte(){return gd=gd||document.querySelector("base"),gd?gd.getAttribute("href"):null}();return null==n?null:function lte(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){gd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function UX(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let gd=null,hte=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();const Bw=new q("");let YV=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(pe(Bw),pe(ke))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();class JV{constructor(e){this._doc=e}}const $w="ng-app-id";let XV=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bw(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${$w}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute($w),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute($w,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(pe(ai),pe(ul),pe(OM,8),pe(Zr))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();const Hw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gw=/%COMP%/g,mte=new q("",{providedIn:"root",factory:()=>!0});function eL(t,e){return e.map(n=>n.replace(Gw,t))}let tL=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=bw(a),this.defaultRenderer=new qw(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ar.ShadowDom&&(r={...r,encapsulation:Ar.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof rL?i.applyToHost(n):i instanceof zw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Ar.Emulated:o=new rL(u,c,r,this.appId,d,s,a,h);break;case Ar.ShadowDom:return new Ite(u,c,n,r,s,a,this.nonce,h);default:o=new zw(u,c,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(pe(YV),pe(XV),pe(ul),pe(mte),pe(ai),pe(Zr),pe(ke),pe(OM))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();class qw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Hw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(nL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(nL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Hw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Hw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(go.DashCase|go.Important)?e.style.setProperty(n,r,i&go.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&go.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Co().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function nL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Ite extends qw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=eL(i.id,i.styles);for(const d of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zw extends qw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?eL(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rL extends zw{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function _te(t){return"_ngcontent-%COMP%".replace(Gw,t)}(c),this.hostAttr=function yte(t){return"_nghost-%COMP%".replace(Gw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}const iL=["alt","control","meta","shift"],wte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function oL(t){return{appProviders:[...Mte,...t?.providers??[]],platformProviders:Rte}}const Rte=[{provide:Zr,useValue:ZF},{provide:NM,useValue:function Dte(){jw.makeCurrent()},multi:!0},{provide:ai,useFactory:function Ste(){return function M6(t){Kv=t}(document),document},deps:[]}],Mte=[{provide:sv,useValue:"root"},{provide:Xr,useFactory:function Ate(){return new Xr},deps:[]},{provide:Bw,useClass:(()=>{class t extends JV{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(pe(ai))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[ai,ke,Zr]},{provide:Bw,useClass:(()=>{class t extends JV{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Co().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),iL.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=wte[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),iL.forEach(s=>{s!==i&&(0,Tte[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(pe(ai))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[ai]},tL,XV,YV,{provide:QI,useExisting:tL},{provide:class gZ{},useClass:hte,deps:[]},[]];let xte=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(pe(ai))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ks=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(ks||{});const{isArray:Lte}=Array,{getPrototypeOf:Ute,prototype:jte,keys:Bte}=Object;function uL(t){if(1===t.length){const e=t[0];if(Lte(e))return{args:e,keys:null};if(function $te(t){return t&&"object"==typeof t&&Ute(t)===jte}(e)){const n=Bte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Hte}=Array;function Ww(t){return we(e=>function Gte(t,e){return Hte(e)?t(...e):t(e)}(t,e))}function cL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function lL(...t){const e=fd(t),n=hV(t),{args:r,keys:i}=uL(t);if(0===r.length)return Qt([],e);const o=new ft(function qte(t,e,n=os){return r=>{dL(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)dL(e,()=>{const c=Qt(t[u],e);let d=!1;c.subscribe(Rt(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>cL(i,s):os));return n?o.pipe(Ww(n)):o}function dL(t,e,n){t?Fi(n,t,e):e()}function sn(t,e,n=1/0){return Ae(e)?sn((r,i)=>we((o,s)=>e(r,o,i,s))(Gn(t(r,i))),n):("number"==typeof e&&(n=e),Ft((r,i)=>function zte(t,e,n,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const p=()=>{h&&!u.length&&!c&&e.complete()},g=v=>c<r?_(v):u.push(v),_=v=>{o&&e.next(v),c++;let E=!1;Gn(n(v,d++)).subscribe(Rt(e,A=>{i?.(A),o?g(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const A=u.shift();s?Fi(e,s,()=>_(A)):_(A)}p()}catch(A){e.error(A)}}))};return t.subscribe(Rt(e,g,()=>{h=!0,p()})),()=>{a?.()}}(r,i,t,n)))}function Wg(t=1/0){return sn(os,t)}function md(...t){return function Wte(){return Wg(1)}()(Qt(t,fd(t)))}function Kg(t){return new ft(e=>{Gn(t()).subscribe(e)})}function _d(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new ft(e?i=>e.schedule(r,0,i):r)}function Kw(){return Ft((t,e)=>{let n=null;t._refCount++;const r=Rt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Qw extends ft{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,RR(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hn;const n=this.getSubject();e.add(this.source.subscribe(Rt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hn.EMPTY)}return e}refCount(){return Kw()(this)}}function or(t,e){return Ft((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Rt(r,u=>{i?.unsubscribe();let c=0;const d=o++;Gn(t(u,d)).subscribe(i=Rt(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qg(t,e){return Ae(e)?sn(t,e,1):sn(t,1)}function Su(t){return Ft((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Rt(n,void 0,void 0,s=>{o=Gn(t(s,Su(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Yw(t){return t<=0?()=>br:Ft((e,n)=>{let r=[];e.subscribe(Rt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hL(t){return we(()=>t)}function Jw(t){return Ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const me="primary",yd=Symbol("RouteTitle");class Zte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ru(t){return new Zte(t)}function ene(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ui(t,e){const n=t?Xw(t):void 0,r=e?Xw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fL(t[i],e[i]))return!1;return!0}function Xw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function pL(t){return t.length>0?t[t.length-1]:null}function Ao(t){return function Vte(t){return!!t&&(t instanceof ft||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:Zl(t)?Qt(Promise.resolve(t)):de(t)}const nne={exact:function _L(t,e,n){if(!Vs(t.segments,e.segments)||!Yg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!_L(t.children[r],e.children[r],n))return!1;return!0},subset:yL},gL={exact:function rne(t,e){return ui(t,e)},subset:function ine(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fL(t[n],e[n]))},ignored:()=>!0};function mL(t,e,n){return nne[n.paths](t.root,e.root,n.matrixParams)&&gL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function yL(t,e,n){return vL(t,e,e.segments,n)}function vL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Vs(i,n)||e.hasChildren()||!Yg(i,n,r))}if(t.segments.length===n.length){if(!Vs(t.segments,n)||!Yg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!yL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Vs(t.segments,i)&&Yg(t.segments,i,r)&&t.children[me])&&vL(t.children[me],e,o,r)}}function Yg(t,e,n){return e.every((r,i)=>gL[n](t[i].parameters,r.parameters))}class Fs{constructor(e=new $e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ru(this.queryParams),this._queryParamMap}toString(){return ane.serialize(this)}}class $e{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xg(this)}}class vd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ru(this.parameters),this._parameterMap}toString(){return wL(this)}}function Vs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Pu=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>new Jg,providedIn:"root"})}}return t})();class Jg{parse(e){const n=new yne(e);return new Fs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Id(e.root,!0)}`,r=function lne(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zg(n)}=${Zg(i)}`).join("&"):`${Zg(n)}=${Zg(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function une(t){return encodeURI(t)}(e.fragment)}`:""}`}}const ane=new Jg;function Xg(t){return t.segments.map(e=>wL(e)).join("/")}function Id(t,e){if(!t.hasChildren())return Xg(t);if(e){const n=t.children[me]?Id(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Id(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function sne(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===me?[Id(t.children[me],!1)]:[`${i}:${Id(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[me]?`${Xg(t)}/${n[0]}`:`${Xg(t)}/(${n.join("//")})`}}function IL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zg(t){return IL(t).replace(/%3B/gi,";")}function Zw(t){return IL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function em(t){return decodeURIComponent(t)}function EL(t){return em(t.replace(/\+/g,"%20"))}function wL(t){return`${Zw(t.path)}${function cne(t){return Object.entries(t).map(([e,n])=>`;${Zw(e)}=${Zw(n)}`).join("")}(t.parameters)}`}const dne=/^[^\/()?;#]+/;function eT(t){const e=t.match(dne);return e?e[0]:""}const hne=/^[^\/()?;=#]+/,pne=/^[^=?&#]+/,mne=/^[^&#]+/;class yne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new $e(e,n)),r}parseSegment(){const e=eT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new vd(em(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function fne(t){const e=t.match(hne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=eT(this.remaining);i&&(r=i,this.capture(r))}e[em(n)]=em(r)}parseQueryParam(e){const n=function gne(t){const e=t.match(pne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function _ne(t){const e=t.match(mne);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=EL(n),o=EL(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[me]:new $e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}}function TL(t){return t.segments.length>0?new $e([],{[me]:t}):t}function CL(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=CL(i);if(r===me&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function vne(t){if(1===t.numberOfChildren&&t.children[me]){const e=t.children[me];return new $e(t.segments.concat(e.segments),e.children)}return t}(new $e(t.segments,e))}function Ls(t){return t instanceof Fs}function bL(t){let e;const i=TL(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new $e(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function DL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return tT(i,i,i,n,r);const o=function Ene(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new SL(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new SL(n,e,r)}(e);if(o.toRoot())return tT(i,i,new $e([],{}),n,r);const s=function wne(t,e,n){if(t.isAbsolute)return new nm(e,!0,0);if(!n)return new nm(e,!1,NaN);if(null===n.parent)return new nm(n,!0,0);const r=tm(t.commands[0])?0:1;return function Tne(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new nm(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?wd(s.segmentGroup,s.index,o.commands):RL(s.segmentGroup,s.index,o.commands);return tT(i,s.segmentGroup,a,n,r)}function tm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ed(t){return"object"==typeof t&&null!=t&&t.outlets}function tT(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=t===e?n:AL(t,e,n);const a=TL(CL(s));return new Fs(a,o,i)}function AL(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:AL(o,e,n)}),new $e(t.segments,r)}class SL{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tm(r[0]))throw new V(4003,!1);const i=r.find(Ed);if(i&&i!==pL(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function RL(t,e,n){if(t??=new $e([],{}),0===t.segments.length&&t.hasChildren())return wd(t,e,n);const r=function bne(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Ed(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ML(u,c,s))return o;r+=2}else{if(!ML(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new $e(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new $e(t.segments.slice(r.pathIndex),t.children),wd(o,0,i)}return r.match&&0===i.length?new $e(t.segments,{}):r.match&&!t.hasChildren()?nT(t,e,n):r.match?wd(t,0,i):nT(t,e,n)}function wd(t,e,n){if(0===n.length)return new $e(t.segments,{});{const r=function Cne(t){return Ed(t[0])?t[0].outlets:{[me]:t}}(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&1===t.numberOfChildren&&0===t.children[me].segments.length){const o=wd(t.children[me],e,n);return new $e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=RL(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new $e(t.segments,i)}}function nT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ed(o)){const u=Dne(o.outlets);return new $e(r,u)}if(0===i&&tm(n[0])){r.push(new vd(t.segments[e].path,PL(n[0]))),i++;continue}const s=Ed(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&tm(a)?(r.push(new vd(s,PL(a))),i+=2):(r.push(new vd(s,{})),i++)}return new $e(r,{})}function Dne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=nT(new $e([],{}),0,r))}),e}function PL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ML(t,e,n){return t==n.path&&ui(e,n.parameters)}const Td="imperative";var De=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(De||{});class ci{constructor(e,n){this.id=e,this.url=n}}class rT extends ci{constructor(e,n,r="imperative",i=null){super(e,n),this.type=De.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class So extends ci{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=De.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var sr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(sr||{}),iT=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(iT||{});class Us extends ci{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cd extends ci{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationSkipped}}class oT extends ci{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=De.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xL extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ane extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sne extends ci{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=De.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rne extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pne extends ci{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mne{constructor(e){this.route=e,this.type=De.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xne{constructor(e){this.route=e,this.type=De.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nne{constructor(e){this.snapshot=e,this.type=De.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class One{constructor(e){this.snapshot=e,this.type=De.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kne{constructor(e){this.snapshot=e,this.type=De.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fne{constructor(e){this.snapshot=e,this.type=De.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sT{}class rm{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function jr(t){return t.outlet||me}function bd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class $ne{get injector(){return bd(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Dd(this.rootInjector),this.attachRef=null}}let Dd=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $ne(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(pe(Jn))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class NL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=aT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=aT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=uT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uT(e,this._root).map(n=>n.value)}}function aT(t,e){if(t===e.value)return e;for(const n of e.children){const r=aT(t,n);if(r)return r}return null}function uT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=uT(t,n);if(r.length)return r.unshift(e),r}return[]}class Br{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Mu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class OL extends NL{constructor(e,n){super(e),this.snapshot=n,cT(this,e)}toString(){return this.snapshot.toString()}}function kL(t){const e=function Hne(t){const o=new om([],{},{},"",{},me,t,null,{});return new FL("",new Br(o,[]))}(t),n=new dr([new vd("",{})]),r=new dr({}),i=new dr({}),o=new dr({}),s=new dr(""),a=new xu(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new OL(new Br(a,[]),e)}class xu{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(we(c=>c[yd]))??de(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(e=>Ru(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(e=>Ru(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function im(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&LL(i)&&(r.resolve[yd]=i.title),r}class om{get title(){return this.data?.[yd]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ru(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ru(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FL extends NL{constructor(e,n){super(n),this.url=e,cT(this,n)}toString(){return VL(this._root)}}function cT(t,e){e.value._routerState=t,e.children.forEach(n=>cT(t,n))}function VL(t){const e=t.children.length>0?` { ${t.children.map(VL).join(", ")} } `:"";return`${t.value}${e}`}function lT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ui(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ui(e.params,n.params)||t.paramsSubject.next(n.params),function tne(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ui(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ui(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function dT(t,e){const n=ui(t.params,e.params)&&function one(t,e){return Vs(t,e)&&t.every((n,r)=>ui(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||dT(t.parent,e.parent))}function LL(t){return"string"==typeof t.title||null===t.title}let hT=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=L(Dd),this.location=L(Nr),this.changeDetector=L(nd),this.inputBinder=L(sm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new fT(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ce({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pr]})}}return t})();class fT{__ngOutletInjector(e){return new fT(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===xu?this.route:e===Dd?this.childContexts:this.parent.get(e,n)}}const sm=new q("");function Ad(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function qne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ad(t,r,i);return Ad(t,r)})}(t,e,n);return new Br(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ad(t,a)),s}}const r=function zne(t){return new xu(new dr(t.url),new dr(t.params),new dr(t.queryParams),new dr(t.fragment),new dr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Ad(t,o));return new Br(r,i)}}class pT{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const jL="ngNavigationCancelingError";function am(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ls(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BL(!1,sr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function BL(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[jL]=!0,n.cancellationCode=e,n}function $L(t){return!!t&&t[jL]}class Qne{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),lT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Mu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mu(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Mu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Fne(o.value.snapshot))}),e.children.length&&this.forwardEvent(new One(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(lT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lT(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class HL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class um{constructor(e,n){this.component=e,this.route=n}}function Yne(t,e,n){const r=t._root;return Sd(r,e?e._root:null,n,[r.value])}function Nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function iz(t){return null!==kf(t)}(t)?e.get(t):t:r}function Sd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Mu(e);return t.children.forEach(s=>{(function Xne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function Zne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vs(t.url,e.url)||!ui(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dT(t,e)||!ui(t.queryParams,e.queryParams);default:return!dT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new HL(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Sd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new um(a.outlet.component,s))}else s&&Rd(e,a,i),i.canActivateChecks.push(new HL(r)),Sd(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rd(a,n.getContext(s),i)),i}function Rd(t,e,n){const r=Mu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Rd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new um(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pd(t){return"function"==typeof t}function GL(t){return t instanceof Mf||"EmptyError"===t?.name}const cm=Symbol("INITIAL_VALUE");function Ou(){return or(t=>lL(t.map(e=>e.pipe(Vn(1),function Kte(...t){const e=fd(t);return Ft((n,r)=>{(e?md(t,n,e):md(t,n)).subscribe(r)})}(cm)))).pipe(we(e=>{for(const n of e)if(!0!==n){if(n===cm)return cm;if(!1===n||sre(n))return n}return!0}),hr(e=>e!==cm),Vn(1)))}function sre(t){return Ls(t)||t instanceof pT}function qL(t){return function q4(...t){return DR(t)}(on(e=>{if("boolean"!=typeof e)throw am(0,e)}),we(e=>!0===e))}class gT{constructor(e){this.segmentGroup=e||null}}class lm extends Error{constructor(e){super(),this.urlTree=e}}function ku(t){return _d(new gT(t))}class vre{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[me])return _d(new V(4e3,!1));i=i.children[me]}}applyRedirectCommands(e,n,r,i,o){if("string"!=typeof n){const a=n,{queryParams:u,fragment:c,routeConfig:d,url:h,outlet:p,params:g,data:_,title:v}=i,E=lo(o,()=>a({params:g,data:_,queryParams:u,fragment:c,routeConfig:d,url:h,outlet:p,title:v}));if(E instanceof Fs)throw new lm(E);n=E}const s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if("/"===n[0])throw new lm(s);return s}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Fs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new $e(o,s)}createSegments(e,n,r,i){return n.map(o=>":"===o.path[0]?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const mT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ire(t,e,n,r,i){const o=zL(t,e,n);return o.matched?(r=function Vne(t,e){return t.providers&&!t._injector&&(t._injector=lE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function mre(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?de(i.map(s=>{const a=Nu(s,t);return Ao(function ore(t){return t&&Pd(t.canMatch)}(a)?a.canMatch(e,n):lo(t,()=>a(e,n)))})).pipe(Ou(),qL()):de(!0)}(r,e,n).pipe(we(s=>!0===s?o:{...mT}))):de(o)}function zL(t,e,n){if("**"===e.path)return function Ere(t){return{matched:!0,parameters:t.length>0?pL(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...mT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ene)(n,t,e);if(!i)return{...mT};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WL(t,e,n,r){return n.length>0&&function Cre(t,e,n){return n.some(r=>dm(t,e,r)&&jr(r)!==me)}(t,n,r)?{segmentGroup:new $e(e,Tre(r,new $e(n,t.children))),slicedSegments:[]}:0===n.length&&function bre(t,e,n){return n.some(r=>dm(t,e,r))}(t,n,r)?{segmentGroup:new $e(t.segments,wre(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $e(t.segments,t.children),slicedSegments:n}}function wre(t,e,n,r){const i={};for(const o of n)if(dm(t,e,o)&&!r[jr(o)]){const s=new $e([],{});i[jr(o)]=s}return{...r,...i}}function Tre(t,e){const n={};n[me]=e;for(const r of t)if(""===r.path&&jr(r)!==me){const i=new $e([],{});n[jr(r)]=i}return n}function dm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Are{}class Pre{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vre(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){const e=WL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(we(({children:n,rootSnapshot:r})=>{const i=new Br(r,n),o=new FL("",i),s=function Ine(t,e,n=null,r=null){return DL(bL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){const n=new om([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(we(r=>({children:r,rootSnapshot:n})),Su(r=>{if(r instanceof lm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gT?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(we(s=>s instanceof Br?[s]:[]))}processChildren(e,n,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return Qt(o).pipe(Qg(s=>{const a=r.children[s],u=function Bne(t,e){const n=t.filter(r=>jr(r)===e);return n.push(...t.filter(r=>jr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,u,a,s,i)}),function Yte(t,e){return Ft(function Qte(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(Rt(s,d=>{const h=c++;u=a?t(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),xf(null),function Jte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?hr((i,o)=>t(i,o,r)):os,Yw(1),n?xf(e):PR(()=>new Mf))}(),sn(s=>{if(null===s)return ku(r);const a=KL(s);return function Mre(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}(a),de(a)}))}processSegment(e,n,r,i,o,s,a){return Qt(n).pipe(Qg(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Su(c=>{if(c instanceof gT)return de(null);throw c}))),ro(u=>!!u),Su(u=>{if(GL(u))return function Dre(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?de(new Are):ku(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return jr(r)===s||s!==me&&dm(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ku(i):ku(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){const{matched:u,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:p}=zL(n,i,o);if(!u)return ku(n);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new om(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QL(i),jr(i),i.component??i._loadedComponent??null,i,YL(i)),_=im(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);const v=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(sn(E=>this.processSegment(e,r,n,E.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){const a=Ire(n,r,i,e);return"**"===r.path&&(n.children={}),a.pipe(or(u=>u.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(or(({routes:c})=>{const d=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=u,_=new om(p,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QL(r),jr(r),r.component??r._loadedComponent??null,r,YL(r)),v=im(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);const{segmentGroup:E,slicedSegments:A}=WL(n,p,g,c);if(0===A.length&&E.hasChildren())return this.processChildren(d,c,E,_).pipe(we(F=>new Br(_,F)));if(0===c.length&&0===A.length)return de(new Br(_,[]));const D=jr(r)===o;return this.processSegment(d,c,E,A,D?me:o,!0,_).pipe(we(F=>new Br(_,F instanceof Br?[F]:[])))})):ku(n)))}getChildConfig(e,n,r){return n.children?de({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?de({routes:n._loadedRoutes,injector:n._loadedInjector}):function gre(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?de(!0):de(i.map(s=>{const a=Nu(s,t);return Ao(function tre(t){return t&&Pd(t.canLoad)}(a)?a.canLoad(e,n):lo(t,()=>a(e,n)))})).pipe(Ou(),qL())}(e,n,r).pipe(sn(i=>i?this.configLoader.loadChildren(e,n).pipe(on(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function yre(){return _d(BL(!1,sr.GuardRejected))}())):de({routes:[],injector:e})}}function xre(t){const e=t.value.routeConfig;return e&&""===e.path}function KL(t){const e=[],n=new Set;for(const r of t){if(!xre(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=KL(r.children);e.push(new Br(r.value,i))}return e.filter(r=>!n.has(r))}function QL(t){return t.data||{}}function YL(t){return t.resolve||{}}function JL(t){const e=t.children.map(n=>JL(n)).flat();return[t,...e]}function _T(t){return or(e=>{const n=t(e);return n?Qt(n).pipe(we(()=>e)):de(e)})}let XL=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(n){return n.data[yd]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>L(Lre),providedIn:"root"})}}return t})(),Lre=(()=>{class t extends XL{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(pe(xte))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Md=new q("",{providedIn:"root",factory:()=>({})});let ZL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=uo({type:t,selectors:[["ng-component"]],standalone:!0,features:[Eo],decls:1,vars:0,template:function(r,i){1&r&&Ss(0,"router-outlet")},dependencies:[hT],encapsulation:2})}}return t})();function yT(t){const e=t.children&&t.children.map(yT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=ZL),n}const hm=new q("");let e2=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(OY)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return de(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ao(n.loadComponent()).pipe(we(t2),on(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Jw(()=>{this.componentLoaders.delete(n)})),i=new Qw(r,()=>new fn).pipe(Kw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Ure(t,e,n,r){return Ao(t.loadChildren()).pipe(we(t2),sn(i=>i instanceof iO||Array.isArray(i)?de(i):Qt(e.compileModuleAsync(i))),we(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(hm,[],{optional:!0,self:!0}).flat()),{routes:s.map(yT),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Jw(()=>{this.childrenLoaders.delete(r)})),s=new Qw(o,()=>new fn).pipe(Kw());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function t2(t){return function jre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let vT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>L(Bre),providedIn:"root"})}}return t})(),Bre=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const n2=new q(""),i2=new q("");let fm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fn,this.transitionAbortSubject=new fn,this.configLoader=L(e2),this.environmentInjector=L(Jn),this.urlSerializer=L(Pu),this.rootContexts=L(Dd),this.location=L(ad),this.inputBindingEnabled=null!==L(sm,{optional:!0}),this.titleStrategy=L(XL),this.options=L(Md,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(vT),this.createViewTransition=L(n2,{optional:!0}),this.navigationErrorHandler=L(i2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new xne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Mne(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new dr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Td,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hr(o=>0!==o.id),we(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),or(o=>{let s=!1,a=!1;return de(o).pipe(or(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",sr.SupersededByNewNavigation),br;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:"string"==typeof u.extras.browserUrl?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Cd(u.id,this.urlSerializer.serialize(u.rawUrl),h,iT.IgnoredSameUrlNavigation)),u.resolve(!1),br}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return de(u).pipe(or(h=>{const p=this.transitions?.getValue();return this.events.next(new rT(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?br:Promise.resolve(h)}),function Nre(t,e,n,r,i,o){return sn(s=>function Sre(t,e,n,r,i,o,s="emptyOnly"){return new Pre(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(we(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),on(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new xL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:_,extras:v}=u,E=new rT(h,this.urlSerializer.serialize(p),g,_);this.events.next(E);const A=kL(this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:A,urlAfterRedirects:p,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=p,de(o)}{const h="";return this.events.next(new Cd(u.id,this.urlSerializer.serialize(u.extractedUrl),h,iT.IgnoredByUrlHandlingStrategy)),u.resolve(!1),br}}),on(u=>{const c=new Ane(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),we(u=>(this.currentTransition=o={...u,guards:Yne(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function are(t,e){return sn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?de({...n,guardsResult:!0}):function ure(t,e,n,r){return Qt(t).pipe(sn(i=>function pre(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?de(o.map(a=>{const u=bd(e)??i,c=Nu(a,u);return Ao(function ire(t){return t&&Pd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):lo(u,()=>c(t,e,n,r))).pipe(ro())})).pipe(Ou()):de(!0)}(i.component,i.route,n,e,r)),ro(i=>!0!==i,!0))}(s,r,i,t).pipe(sn(a=>a&&function ere(t){return"boolean"==typeof t}(a)?function cre(t,e,n,r){return Qt(e).pipe(Qg(i=>md(function dre(t,e){return null!==t&&e&&e(new Nne(t)),de(!0)}(i.route.parent,r),function lre(t,e){return null!==t&&e&&e(new kne(t)),de(!0)}(i.route,r),function fre(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Jne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Kg(()=>de(s.guards.map(u=>{const c=bd(s.node)??n,d=Nu(u,c);return Ao(function rre(t){return t&&Pd(t.canActivateChild)}(d)?d.canActivateChild(r,t):lo(c,()=>d(r,t))).pipe(ro())})).pipe(Ou())));return de(o).pipe(Ou())}(t,i.path,n),function hre(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(o=>Kg(()=>{const s=bd(e)??n,a=Nu(o,s);return Ao(function nre(t){return t&&Pd(t.canActivate)}(a)?a.canActivate(e,t):lo(s,()=>a(e,t))).pipe(ro())}));return de(i).pipe(Ou())}(t,i.route,n))),ro(i=>!0!==i,!0))}(r,o,t,e):de(a)),we(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),on(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&"boolean"!=typeof u.guardsResult)throw am(0,u.guardsResult);const c=new Sne(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),hr(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",sr.GuardRejected),!1)),_T(u=>{if(u.guards.canActivateChecks.length)return de(u).pipe(on(c=>{const d=new Rne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),or(c=>{let d=!1;return de(c).pipe(function Ore(t,e){return sn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return de(n);const o=new Set(i.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const c of JL(u))s.add(c);let a=0;return Qt(s).pipe(Qg(u=>o.has(u)?function kre(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!LL(i)&&(o[yd]=i.title),function Fre(t,e,n,r){const i=Xw(t);if(0===i.length)return de({});const o={};return Qt(i).pipe(sn(s=>function Vre(t,e,n,r){const i=bd(e)??r,o=Nu(t,i);return Ao(o.resolve?o.resolve(e,n):lo(i,()=>o(e,n)))}(t[s],e,n,r).pipe(ro(),on(a=>{if(a instanceof pT)throw am(new Jg,a);o[s]=a}))),Yw(1),hL(o),Su(s=>GL(s)?br:_d(s)))}(o,t,e,r).pipe(we(s=>(t._resolvedData=s,t.data=im(t,t.parent,n).resolve,null)))}(u,r,t,e):(u.data=im(u,u.parent,t).resolve,de(void 0))),on(()=>a++),Yw(1),sn(u=>a===s.size?de(n):br))})}(this.paramsInheritanceStrategy,this.environmentInjector),on({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",sr.NoDataFromResolver)}}))}),on(c=>{const d=new Pne(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),_T(u=>{const c=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(on(p=>{d.component=p}),we(()=>{})));for(const p of d.children)h.push(...c(p));return h};return lL(c(u.targetSnapshot.root)).pipe(xf(null),Vn(1))}),_T(()=>this.afterPreactivation()),or(()=>{const{currentSnapshot:u,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return d?Qt(d).pipe(we(()=>o)):de(o)}),we(u=>{const c=function Gne(t,e,n){const r=Ad(t,e._root,n?n._root:void 0);return new OL(r,e)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),on(()=>{this.events.next(new sT)}),((t,e,n,r)=>we(i=>(new Qne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Vn(1),on({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new So(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function Xte(t){return Ft((e,n)=>{Gn(t).subscribe(Rt(n,()=>n.complete(),Uc)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(on(u=>{throw u}))),Jw(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",sr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Su(u=>{if(a=!0,$L(u))this.events.next(new Us(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function Wne(t){return $L(t)&&Ls(t.url)}(u)?this.events.next(new rm(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{const c=new oT(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{const d=lo(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof pT){const{message:h,cancellationCode:p}=am(0,d);this.events.next(new Us(o.id,this.urlSerializer.serialize(o.extractedUrl),h,p)),this.events.next(new rm(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(c);const h=n.errorHandler(u);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return br}))}))}cancelNavigationTransition(n,r,i){const o=new Us(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Gre(t){return t!==Td}let qre=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>L(Wre),providedIn:"root"})}}return t})();class zre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Wre=(()=>{class t extends zre{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=zt(t)))(i||t)}})()}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),o2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:()=>L(Kre),providedIn:"root"})}}return t})(),Kre=(()=>{class t extends o2{constructor(){super(...arguments),this.location=L(ad),this.urlSerializer=L(Pu),this.options=L(Md,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(vT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kL(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof rT)this.stateMemento=this.createStateMemento();else if(n instanceof Cd)this.rawUrlTree=r.initialUrl;else if(n instanceof xL){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof sT?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Us&&(n.code===sr.GuardRejected||n.code===sr.NoDataFromResolver)?this.restoreHistory(r):n instanceof oT?this.restoreHistory(r,!0):n instanceof So&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=n instanceof Fs?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&0===o&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=zt(t)))(i||t)}})()}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xd||{});function Qre(t){throw t}const Yre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(WE),this.stateManager=L(o2),this.options=L(Md,{optional:!0})||{},this.pendingTasks=L(ms),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(fm),this.urlSerializer=L(Pu),this.location=L(ad),this.urlHandlingStrategy=L(vT),this._events=new fn,this.errorHandler=this.options.errorHandler||Qre,this.navigated=!1,this.routeReuseStrategy=L(qre),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(hm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(sm,{optional:!0}),this.eventsSubscription=new hn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Us&&r.code!==sr.Redirect&&r.code!==sr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof So)this.navigated=!0;else if(r instanceof rm){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Gre(i.source),...s};this.scheduleNavigation(a,Td,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Zre(t){return!(t instanceof sT||t instanceof rm)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Td,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=bL(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return DL(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ls(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Td,null,r)}navigate(n,r={skipLocationChange:!1}){return function Xre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new V(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...Yre}:!1===r?{...Jre}:r,Ls(n))return mL(this.currentUrlTree,n,i);const o=this.parseUrl(n);return mL(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,u=p});const d=this.pendingTasks.add();return function s2(t,e){t.events.pipe(hr(n=>n instanceof So||n instanceof Us||n instanceof oT||n instanceof Cd),we(n=>n instanceof So||n instanceof Cd?xd.COMPLETE:n instanceof Us&&(n.code===sr.Redirect||n.code===sr.SupersededByNewNavigation)?xd.REDIRECTING:xd.FAILED),hr(n=>n!==xd.REDIRECTING),Vn(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nd=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new fn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof So&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ls(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function sx(t,e,n){return function _5(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ox:ix}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.routerLinkInput?null:Ls(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(B($r),B(xu),function rl(t){return function j3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(KR(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Ue(),t)}("tabindex"),B(Ni),B(Zn),B(Dg))}}static{this.\u0275dir=ce({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&at("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ni("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",bu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",bu],replaceUrl:[2,"replaceUrl","replaceUrl",bu],routerLink:"routerLink"},standalone:!0,features:[rO,pr]})}}return t})();const IT=new q("");function u2(t){return t.routerState.root}function c2(){const t=L(Wt);return e=>{const n=t.get(rr);if(e!==n.components[0])return;const r=t.get($r),i=t.get(l2);1===t.get(ET)&&r.initialNavigation(),t.get(d2,null,Ie.Optional)?.setUpPreloading(),t.get(IT,null,Ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const l2=new q("",{factory:()=>new fn}),ET=new q("",{providedIn:"root",factory:()=>1}),d2=new q("");let f2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(B(Ni),B(Zn))}}static{this.\u0275dir=ce({type:t})}}return t})(),js=(()=>{class t extends f2{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=zt(t)))(i||t)}})()}static{this.\u0275dir=ce({type:t,features:[je]})}}return t})();const di=new q(""),lie={provide:di,useExisting:Ke(()=>Fu),multi:!0},hie=new q("");let Fu=(()=>{class t extends f2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function die(){const t=Co()?Co().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Ni),B(Zn),B(hie,8))}}static{this.\u0275dir=ce({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&at("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ut([lie]),je]})}}return t})();const yn=new q(""),Po=new q("");function y2(t){return function Ro(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function pm(t){return null}function C2(t){return null!=t}function b2(t){return Zl(t)?Qt(t):t}function D2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function A2(t,e){return e.map(n=>n(t))}function S2(t){return t.map(e=>function pie(t){return!t.validate}(e)?e:n=>e.validate(n))}function wT(t){return null!=t?function R2(t){if(!t)return null;const e=t.filter(C2);return 0==e.length?null:function(n){return D2(A2(n,e))}}(S2(t)):null}function TT(t){return null!=t?function P2(t){if(!t)return null;const e=t.filter(C2);return 0==e.length?null:function(n){return function uie(...t){const e=hV(t),{args:n,keys:r}=uL(t),i=new ft(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;Gn(n[d]).subscribe(Rt(o,p=>{h||(h=!0,c--),a[d]=p},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?cL(r,a):a),o.complete())}))}});return e?i.pipe(Ww(e)):i}(A2(n,e).map(b2)).pipe(we(D2))}}(S2(t)):null}function M2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CT(t){return t?Array.isArray(t)?t:[t]:[]}function gm(t,e){return Array.isArray(t)?t.includes(e):t===e}function O2(t,e){const n=CT(e);return CT(t).forEach(i=>{gm(n,i)||n.push(i)}),n}function k2(t,e){return CT(e).filter(n=>!gm(t,n))}class F2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Nn extends F2{get formDirective(){return null}get path(){return null}}class Mo extends F2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class V2{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let mm=(()=>{class t extends V2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Mo,2))}}static{this.\u0275dir=ce({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&jl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[je]})}}return t})(),bT=(()=>{class t extends V2{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(B(Nn,10))}}static{this.\u0275dir=ce({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&jl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[je]})}}return t})();const Od="VALID",ym="INVALID",Vu="PENDING",kd="DISABLED";class Lu{}class U2 extends Lu{constructor(e,n){super(),this.value=e,this.source=n}}class ST extends Lu{constructor(e,n){super(),this.pristine=e,this.source=n}}class RT extends Lu{constructor(e,n){super(),this.touched=e,this.source=n}}class vm extends Lu{constructor(e,n){super(),this.status=e,this.source=n}}function PT(t){return(Im(t)?t.validators:t)||null}function MT(t,e){return(Im(e)?e.asyncValidators:t)||null}function Im(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xT{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=sd(()=>this.statusReactive()),this.statusReactive=nu(void 0),this._pristine=sd(()=>this.pristineReactive()),this.pristineReactive=nu(!0),this._touched=sd(()=>this.touchedReactive()),this.touchedReactive=nu(!1),this._events=new fn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return si(this.statusReactive)}set status(e){si(()=>this.statusReactive.set(e))}get valid(){return this.status===Od}get invalid(){return this.status===ym}get pending(){return this.status==Vu}get disabled(){return this.status===kd}get enabled(){return this.status!==kd}get pristine(){return si(this.pristineReactive)}set pristine(e){si(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return si(this.touchedReactive)}set touched(e){si(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(O2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(O2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(k2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(k2(e,this._rawAsyncValidators))}hasValidator(e){return gm(this._rawValidators,e)}hasAsyncValidator(e){return gm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new RT(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new RT(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new ST(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new ST(!0,r))}markAsPending(e={}){this.status=Vu;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new vm(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new U2(this.value,r)),this._events.next(new vm(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Od,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Od||this.status===Vu)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new U2(this.value,n)),this._events.next(new vm(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kd:Od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Vu,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=b2(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new vm(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new pt,this.statusChanges=new pt}_calculateStatus(){return this._allControlsDisabled()?kd:this.errors?ym:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vu)?Vu:this._anyControlsHaveStatus(ym)?ym:Od}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ST(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new RT(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Im(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Eie(t){return Array.isArray(t)?wT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function wie(t){return Array.isArray(t)?TT(t):t||null}(this._rawAsyncValidators)}}class NT extends xT{constructor(e,n,r){super(PT(n),MT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function B2(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new V(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function j2(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Uu=new q("CallSetDisabledState",{providedIn:"root",factory:()=>Em}),Em="always";function Fd(t,e,n=Em){OT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function bie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&$2(t,e)})}(t,e),function Aie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Die(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&$2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Cie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Cm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function OT(t,e){const n=function x2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(M2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function N2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(M2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Cm(e._rawValidators,i),Cm(e._rawAsyncValidators,i)}function $2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const xie={provide:Nn,useExisting:Ke(()=>Ld)},Vd=Promise.resolve();let Ld=(()=>{class t extends Nn{get submitted(){return si(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=sd(()=>this.submittedReactive()),this.submittedReactive=nu(!1),this._directives=new Set,this.ngSubmit=new pt,this.form=new NT({},wT(n),TT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Vd.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Fd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Vd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Vd.then(()=>{const r=this._findContainer(n.path),i=new NT({});(function H2(t,e){OT(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Vd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Vd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),function G2(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(B(yn,10),B(Po,10),B(Uu,8))}}static{this.\u0275dir=ce({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&at("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([xie]),je]})}}return t})();function q2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function z2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const W2=class extends xT{constructor(e=null,n,r){super(PT(n),MT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Im(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=z2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){q2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){q2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){z2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},kie={provide:Mo,useExisting:Ke(()=>Ud)},Y2=Promise.resolve();let Ud=(()=>{class t extends Mo{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new W2,this._registered=!1,this.name="",this.update=new pt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function VT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Fu?n=o:function Pie(t){return Object.getPrototypeOf(t.constructor)===js}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function FT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Y2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&bu(r);Y2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function wm(t,e){return[...e.path,t]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(B(Nn,9),B(yn,10),B(Po,10),B(di,10),B(nd,8),B(Uu,8))}}static{this.\u0275dir=ce({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ut([kie]),je,pr]})}}return t})(),LT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ce({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Bs=(()=>{class t{constructor(){this._validator=pm}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=ce({type:t,features:[pr]})}}return t})();const Zie={provide:yn,useExisting:Ke(()=>jd),multi:!0};let jd=(()=>{class t extends Bs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=bu,this.createValidator=n=>y2}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=zt(t)))(i||t)}})()}static{this.\u0275dir=ce({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ni("required",i._enabled?"":null)},inputs:{required:"required"},features:[ut([Zie]),je]})}}return t})(),ooe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=qc({type:t})}static{this.\u0275inj=Aa({})}}return t})(),GT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Uu,useValue:n.callSetDisabledState??Em}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=qc({type:t})}static{this.\u0275inj=Aa({imports:[ooe]})}}return t})();function gU(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function I(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){gU(o,r,i,s,a,"next",u)}function a(u){gU(o,r,i,s,a,"throw",u)}s(void 0)})}}const mU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},_U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let p=(15&a)<<2|c>>6,g=63&c;u||(g=64,s||(p=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new loe;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class loe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dm=function(t){return function(t){const e=mU(t);return _U.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Am=function(t){try{return _U.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Sm=()=>{try{return function foe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Am(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},vU=t=>{var e,n;return null===(n=null===(e=Sm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},IU=()=>{var t;return null===(t=Sm())||void 0===t?void 0:t.config},EU=t=>{var e;return null===(e=Sm())||void 0===e?void 0:e[`_${t}`]};class wU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zT(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Rm(){try{return"object"==typeof indexedDB}catch{return!1}}function WT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function CU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Doe(t,e){return t.replace(Aoe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Hr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Aoe=/\{\$([^}]+)}/g;function Hs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(DU(o)&&DU(s)){if(!Hs(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DU(t){return null!==t&&"object"==typeof t}function Bd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $d(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Poe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Moe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=KT),void 0===i.error&&(i.error=KT),void 0===i.complete&&(i.complete=KT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KT(){}const xoe=1e3,Noe=2,Ooe=144e5,koe=.5;function AU(t,e=xoe,n=Noe){const r=e*Math.pow(n,t),i=Math.round(koe*r*(Math.random()-.5)*2);return Math.min(Ooe,r+i)}function gt(t){return t&&t._delegate?t._delegate:t}class Gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gs="[DEFAULT]";class Voe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Uoe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return I(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Gs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class joe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Voe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const YT=[];var Te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Te||{});const SU={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Boe=Te.INFO,$oe={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Hoe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=$oe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Mm{constructor(e){this.name=e,this._logLevel=Boe,this._logHandler=Hoe,this._userLogHandler=null,YT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?SU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const Goe=(t,e)=>e.some(n=>t instanceof n);let RU,PU;const MU=new WeakMap,JT=new WeakMap,xU=new WeakMap,XT=new WeakMap,ZT=new WeakMap;let eC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return JT.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Joe(t){return"function"==typeof t?function Yoe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zoe(){return PU||(PU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(tC(this),e),xo(MU.get(this))}:function(...e){return xo(t.apply(tC(this),e))}:function(e,...n){const r=t.call(tC(this),e,...n);return xU.set(r,e.sort?e.sort():[e]),xo(r)}}(t):(t instanceof IDBTransaction&&function Koe(t){if(JT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});JT.set(t,e)}(t),Goe(t,function qoe(){return RU||(RU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,eC):t)}function xo(t){if(t instanceof IDBRequest)return function Woe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&MU.set(n,t)}).catch(()=>{}),ZT.set(e,t),e}(t);if(XT.has(t))return XT.get(t);const e=Joe(t);return e!==t&&(XT.set(t,e),ZT.set(e,t)),e}const tC=t=>ZT.get(t);function NU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(xo(s.result),u.oldVersion,u.newVersion,xo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Xoe=["get","getKey","getAll","getAllKeys","count"],Zoe=["put","add","delete","clear"],nC=new Map;function OU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(nC.get(e))return nC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zoe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xoe.includes(n))return;const o=function(){var s=I(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return nC.set(e,o),o}!function Qoe(t){eC=t(eC)}(t=>({...t,get:(e,n,r)=>OU(e,n)||t.get(e,n,r),has:(e,n)=>!!OU(e,n)||t.has(e,n)}));class ese{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function tse(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const xm="@firebase/app",rC="0.10.15",Vi=new Mm("@firebase/app"),nse="@firebase/app-compat",rse="@firebase/analytics-compat",ise="@firebase/analytics",ose="@firebase/app-check-compat",sse="@firebase/app-check",ase="@firebase/auth",use="@firebase/auth-compat",cse="@firebase/database",lse="@firebase/data-connect",dse="@firebase/database-compat",hse="@firebase/functions",fse="@firebase/functions-compat",pse="@firebase/installations",gse="@firebase/installations-compat",mse="@firebase/messaging",_se="@firebase/messaging-compat",yse="@firebase/performance",vse="@firebase/performance-compat",Ise="@firebase/remote-config",Ese="@firebase/remote-config-compat",wse="@firebase/storage",Tse="@firebase/storage-compat",Cse="@firebase/firestore",bse="@firebase/vertexai",Dse="@firebase/firestore-compat",Ase="firebase",Nm="[DEFAULT]",Rse={[xm]:"fire-core",[nse]:"fire-core-compat",[ise]:"fire-analytics",[rse]:"fire-analytics-compat",[sse]:"fire-app-check",[ose]:"fire-app-check-compat",[ase]:"fire-auth",[use]:"fire-auth-compat",[cse]:"fire-rtdb",[lse]:"fire-data-connect",[dse]:"fire-rtdb-compat",[hse]:"fire-fn",[fse]:"fire-fn-compat",[pse]:"fire-iid",[gse]:"fire-iid-compat",[mse]:"fire-fcm",[_se]:"fire-fcm-compat",[yse]:"fire-perf",[vse]:"fire-perf-compat",[Ise]:"fire-rc",[Ese]:"fire-rc-compat",[wse]:"fire-gcs",[Tse]:"fire-gcs-compat",[Cse]:"fire-fst",[Dse]:"fire-fst-compat",[bse]:"fire-vertex","fire-js":"fire-js",[Ase]:"fire-js-all"},qs=new Map,Gd=new Map,qd=new Map;function kU(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hi(t){const e=t.name;if(qd.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,t);for(const n of qs.values())kU(n,t);for(const n of Gd.values())kU(n,t);return!0}function No(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Li(t){return void 0!==t.settings}const Ir=new $s("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class FU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const ju="11.0.1";function VU(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=IU()),!n)throw Ir.create("no-options");const o=qs.get(i);if(o){if(Hs(n,o.options)&&Hs(r,o.config))return o;throw Ir.create("duplicate-app",{appName:i})}const s=new joe(i);for(const u of qd.values())s.addComponent(u);const a=new FU(n,r,s);return qs.set(i,a),a}function iC(t=Nm){const e=qs.get(t);if(!e&&t===Nm&&IU())return VU();if(!e)throw Ir.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=null!==(r=Rse[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Vi.warn(a.join(" "))}hi(new Gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ose="firebase-heartbeat-database",kse=1,zd="firebase-heartbeat-store";let sC=null;function LU(){return sC||(sC=NU(Ose,kse,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(zd)}catch(n){console.warn(n)}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),sC}function aC(){return(aC=I(function*(t){try{const n=(yield LU()).transaction(zd),r=yield n.objectStore(zd).get(jU(t));return yield n.done,r}catch(e){if(e instanceof Hr)Vi.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(n.message)}}})).apply(this,arguments)}function UU(t,e){return uC.apply(this,arguments)}function uC(){return(uC=I(function*(t,e){try{const r=(yield LU()).transaction(zd,"readwrite");yield r.objectStore(zd).put(e,jU(t)),yield r.done}catch(n){if(n instanceof Hr)Vi.warn(n.message);else{const r=Ir.create("idb-set",{originalErrorMessage:n?.message});Vi.warn(r.message)}}})).apply(this,arguments)}function jU(t){return`${t.name}!${t.options.appId}`}class Use{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return I(function*(){var n,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BU();return null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){Vi.warn(i)}})()}getHeartbeatsHeader(){var e=this;return I(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=BU(),{heartbeatsToSend:i,unsentEntries:o}=function jse(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$U(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$U(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Dm(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Vi.warn(r),""}})()}}function BU(){return(new Date).toISOString().substring(0,10)}class Bse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(function*(){return!!Rm()&&WT().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return I(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Fse(t){return aC.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return I(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return UU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return I(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return UU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function $U(t){return Dm(JSON.stringify({version:2,heartbeats:t})).length}!function $se(t){hi(new Gr("platform-logger",e=>new ese(e),"PRIVATE")),hi(new Gr("heartbeat",e=>new Use(e),"PRIVATE")),ar(xm,rC,t),ar(xm,rC,"esm2017"),ar("fire-js","")}(""),ar("firebase","11.0.1","app");const qse=function HU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},GU=new $s("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Om=new Mm("@firebase/auth");function km(t,...e){Om.logLevel<=Te.ERROR&&Om.error(`Auth (${ju}): ${t}`,...e)}function qn(t,...e){throw lC(t,...e)}function Er(t,...e){return lC(t,...e)}function cC(t,e,n){const r=Object.assign(Object.assign({},qse()),{[e]:n});return new $s("auth","Firebase",r).create(e,{appName:t.name})}function Yt(t){return cC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GU.create(t,...e)}function G(t,e,...n){if(!t)throw lC(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw km(e),new Error(e)}function Oo(t,e){t||fi(e)}function Wd(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function qU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oo(n>e,"Short delay should be less than long delay!"),this.isMobile=function voe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}()||function Toe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Wse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dC(){return"http:"===qU()||"https:"===qU()}()||zT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hC(t,e){Oo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class zU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yse=new Kd(3e4,6e4);function tt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function nt(t,e,n,r){return fC.apply(this,arguments)}function fC(){return(fC=I(function*(t,e,n,r,i={}){return WU(t,i,I(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Bd(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return function woe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(c.referrerPolicy="no-referrer"),zU.fetch()(KU(t,t.config.apiHost,n,a),c)}))})).apply(this,arguments)}function WU(t,e,n){return pC.apply(this,arguments)}function pC(){return(pC=I(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qse),e);try{const i=new Xse(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Qd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Qd(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Qd(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Qd(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cC(t,d,c);qn(t,d)}}catch(i){if(i instanceof Hr)throw i;qn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ui(t,e,n,r){return gC.apply(this,arguments)}function gC(){return(gC=I(function*(t,e,n,r,i={}){const o=yield nt(t,e,n,r,i);return"mfaPendingCredential"in o&&qn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function KU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?hC(t.config,i):`${t.config.apiScheme}://${i}`}function Jse(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),Yse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}function YU(t){return void 0!==t&&void 0!==t.enterprise}class JU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jse(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function XU(t,e){return _C.apply(this,arguments)}function _C(){return(_C=I(function*(t,e){return nt(t,"GET","/v2/recaptchaConfig",tt(t,e))})).apply(this,arguments)}function yC(){return(yC=I(function*(t,e){return nt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ZU(t,e){return IC.apply(this,arguments)}function IC(){return(IC=I(function*(t,e){return nt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function EC(){return(EC=I(function*(t,e=!1){const n=gt(t),r=yield n.getIdToken(e),i=Fm(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yd(wC(i.auth_time)),issuedAtTime:Yd(wC(i.iat)),expirationTime:Yd(wC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function wC(t){return 1e3*Number(t)}function Fm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return km("JWT malformed, contained fewer than 3 sections"),null;try{const i=Am(n);return i?JSON.parse(i):(km("Failed to decode base64 JWT payload"),null)}catch(i){return km("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ej(t){const e=Fm(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ji(t,e){return TC.apply(this,arguments)}function TC(){return(TC=I(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Hr&&function rae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class iae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(I(function*(){yield n.iteration()}),r)}iteration(){var e=this;return I(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class CC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jd(t){return bC.apply(this,arguments)}function bC(){return(bC=I(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ji(t,ZU(n,{idToken:r}));G(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?tj(o.providerUserInfo):[],a=function sae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),d=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new CC(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)})).apply(this,arguments)}function DC(){return(DC=I(function*(t){const e=gt(t);yield Jd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tj(t){return t.map(e=>{var{providerId:n}=e,r=Bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function AC(){return(AC=I(function*(t,e){const n=yield WU(t,{},I(function*(){const r=Bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=KU(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zU.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function SC(){return(SC=I(function*(t,e){return nt(t,"POST","/v2/accounts:revokeToken",tt(t,e))})).apply(this,arguments)}class $u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ej(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(0!==e.length,"internal-error");const n=ej(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var r=this;return I(function*(){return n||!r.accessToken||r.isExpired?(G(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return I(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function aae(t,e){return AC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $u;return r&&(G("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(G("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(G("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $u,this.toJSON())}_performRefresh(){return fi("not implemented")}}function ko(t,e){G("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new CC(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return I(function*(){const r=yield ji(n,n.stsTokenManager.getToken(n.auth,e));return G(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function nae(t){return EC.apply(this,arguments)}(this,e)}reload(){return function oae(t){return DC.apply(this,arguments)}(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return I(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Jd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return I(function*(){if(Li(e.auth.app))return Promise.reject(Yt(e.auth));const n=yield e.getIdToken();return yield ji(e,function eae(t,e){return yC.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const h=null!==(r=n.displayName)&&void 0!==r?r:void 0,p=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,A=null!==(c=n.createdAt)&&void 0!==c?c:void 0,D=null!==(d=n.lastLoginAt)&&void 0!==d?d:void 0,{uid:F,emailVerified:$,isAnonymous:Q,providerData:Y,stsTokenManager:b}=n;G(F&&b,e,"internal-error");const w=$u.fromJSON(this.name,b);G("string"==typeof F,e,"internal-error"),ko(h,e.name),ko(p,e.name),G("boolean"==typeof $,e,"internal-error"),G("boolean"==typeof Q,e,"internal-error"),ko(g,e.name),ko(_,e.name),ko(v,e.name),ko(E,e.name),ko(A,e.name),ko(D,e.name);const T=new Bi({uid:F,auth:e,email:p,emailVerified:$,displayName:h,isAnonymous:Q,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:w,createdAt:A,lastLoginAt:D});return Y&&Array.isArray(Y)&&(T.providerData=Y.map(S=>Object.assign({},S))),E&&(T._redirectEventId=E),T}static _fromIdTokenResponse(e,n,r=!1){return I(function*(){const i=new $u;i.updateFromServerResponse(n);const o=new Bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Jd(o),o})()}static _fromGetAccountInfoResponse(e,n,r){return I(function*(){const i=n.users[0];G(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?tj(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new $u;a.updateFromIdToken(r);const u=new Bi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new CC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const nj=new Map;function $i(t){Oo(t instanceof Function,"Expected a class definition");let e=nj.get(t);return e?(Oo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nj.set(t,e),e)}const rj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(function*(){return!0})()}_set(n,r){var i=this;return I(function*(){i.storage[n]=r})()}_get(n){var r=this;return I(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return I(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Vm(t,e,n){return`firebase:${t}:${e}:${n}`}class Hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return I(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Bi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return I(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(function*(){if(!n.length)return new Hu($i(rj),e,r);const i=(yield Promise.all(n.map(function(){var c=I(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||$i(rj);const s=Vm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=yield c._get(s);if(d){const h=Bi._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=I(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return c.apply(this,arguments)}}())),new Hu(o,e,r)):new Hu(o,e,r)})()}}function ij(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lj(e))return"Blackberry";if(dj(e))return"Webos";if(sj(e))return"Safari";if((e.includes("chrome/")||aj(e))&&!e.includes("edge/"))return"Chrome";if(cj(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function oj(t=Ct()){return/firefox\//i.test(t)}function sj(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aj(t=Ct()){return/crios\//i.test(t)}function uj(t=Ct()){return/iemobile/i.test(t)}function cj(t=Ct()){return/android/i.test(t)}function lj(t=Ct()){return/blackberry/i.test(t)}function dj(t=Ct()){return/webos/i.test(t)}function RC(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hj(t=Ct()){return RC(t)||cj(t)||dj(t)||lj(t)||/windows phone/i.test(t)||uj(t)}function fj(t,e=[]){let n;switch(t){case"Browser":n=ij(Ct());break;case"Worker":n=`${ij(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ju}/${r}`}class dae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return I(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function PC(){return(PC=I(function*(t,e={}){return nt(t,"GET","/v2/passwordPolicy",tt(t,e))})).apply(this,arguments)}class pae{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(n=u.meetsMinPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class gae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pj(this),this.idTokenSubscription=new pj(this),this.beforeStateQueue=new dae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(I(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Hu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return I(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return I(function*(){try{const r=yield ZU(n,{idToken:e}),i=yield Bi._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return I(function*(){var r;if(Li(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(u,u))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return G(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return I(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return I(function*(){try{yield Jd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Kse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return I(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return I(function*(){if(Li(n.app))return Promise.reject(Yt(n));const r=e?gt(e):null;return r&&G(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return I(function*(){if(!r._deleted)return e&&G(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(I(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return I(function*(){return Li(e.app)?Promise.reject(Yt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return Li(this.app)?Promise.reject(Yt(this)):this.queue(I(function*(){yield n.assertedPersistence.setPersistence($i(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return I(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return I(function*(){const n=yield function hae(t){return PC.apply(this,arguments)}(e),r=new pae(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $s("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return I(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function uae(t,e){return SC.apply(this,arguments)}(n,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return I(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return I(function*(){if(!n.redirectPersistenceManager){const r=e&&$i(e)||n._popupRedirectResolver;G(r,n,"argument-error"),n.redirectPersistenceManager=yield Hu.create(n,[$i(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return I(function*(){var r,i;return n._isInitialized&&(yield n.queue(I(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return I(function*(){if(e===n.currentUser)return n.queue(I(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var n=this;return I(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return I(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return I(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function zse(t,...e){Om.logLevel<=Te.WARN&&Om.warn(`Auth (${ju}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function bt(t){return gt(t)}class pj{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Roe(t,e){const n=new Poe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xd={loadJS:()=>I(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MC(t){return Xd.loadJS(t)}function gj(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Tae{constructor(){this.enterprise=new Cae}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Cae{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Zd="NO_RECAPTCHA";class mj{constructor(e){this.type="recaptcha-enterprise",this.auth=bt(e)}verify(e="verify",n=!1){var r=this;return I(function*(){function o(){return o=I(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=I(function*(c,d){XU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(void 0!==h.recaptchaKey){const p=new JU(h);return null==a.tenantId?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,c(p.siteKey)}d(new Error("recaptcha Enterprise site key undefined"))}).catch(h=>{d(h)})});return function(c,d){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const d=window.grecaptcha;YU(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(Zd)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return r.auth.settings.appVerificationDisabledForTesting?(new Tae).execute("siteKey",{action:"verify"}):new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&YU(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let d=function yae(){return Xd.recaptchaEnterpriseScript}();0!==d.length&&(d+=c),MC(d).then(()=>{s(c,a,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})})()}}function eh(t,e,n){return xC.apply(this,arguments)}function xC(){return(xC=I(function*(t,e,n,r=!1,i=!1){const o=new mj(t);let s;if(i)s=Zd;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}const a=Object.assign({},e);return"mfaSmsEnrollment"===n||"mfaSmsSignIn"===n?("phoneEnrollmentInfo"in a?Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:a.phoneEnrollmentInfo.phoneNumber,recaptchaToken:a.phoneEnrollmentInfo.recaptchaToken,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in a&&Object.assign(a,{phoneSignInInfo:{recaptchaToken:a.phoneSignInInfo.recaptchaToken,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),a):(Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a)})).apply(this,arguments)}function Fo(t,e,n,r,i){return NC.apply(this,arguments)}function NC(){return NC=I(function*(t,e,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null!==(o=t._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=yield eh(t,e,n,"getOobCode"===n);return r(t,a)}return r(t,e).catch(function(){var a=I(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=yield eh(t,e,n,"getOobCode"===n);return r(t,c)}return Promise.reject(u)});return function(u){return a.apply(this,arguments)}}())}if("PHONE_PROVIDER"===i){if(null!==(s=t._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const a=yield eh(t,e,n);return r(t,a).catch(function(){var u=I(function*(c){var d;if("AUDIT"===(null===(d=t._getRecaptchaConfig())||void 0===d?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===c.code||"auth/invalid-app-credential"===c.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=yield eh(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)});return function(c){return u.apply(this,arguments)}}())}{const a=yield eh(t,e,n,!1,!0);return r(t,a)}}return Promise.reject(i+" provider is not supported.")}),NC.apply(this,arguments)}function yj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class th{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}function Oae(t,e){return VC.apply(this,arguments)}function VC(){return(VC=I(function*(t,e){return nt(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Fae(t,e){return UC.apply(this,arguments)}function UC(){return(UC=I(function*(t,e){return Ui(t,"POST","/v1/accounts:signInWithPassword",tt(t,e))})).apply(this,arguments)}function qC(){return(qC=I(function*(t,e){return Ui(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))})).apply(this,arguments)}function zC(){return(zC=I(function*(t,e){return Ui(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))})).apply(this,arguments)}class nh extends th{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new nh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return I(function*(){switch(n.signInMethod){case"password":return Fo(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fae,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Bae(t,e){return qC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:qn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return I(function*(){switch(r.signInMethod){case"password":return Fo(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oae,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function $ae(t,e){return zC.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:qn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Hi(t,e){return WC.apply(this,arguments)}function WC(){return(WC=I(function*(t,e){return Ui(t,"POST","/v1/accounts:signInWithIdp",tt(t,e))})).apply(this,arguments)}class oh{constructor(e){var n,r,i,o,s,a;const u=$d(Hd(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,d=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function Kae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);G(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Qae(t){const e=$d(Hd(t)).link,n=e?$d(Hd(e)).deep_link_id:null,r=$d(Hd(t)).deep_link_id;return(r?$d(Hd(r)).link:null)||r||n||e||t}(e);try{return new oh(n)}catch{return null}}}let wj=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return nh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=oh.parseLink(r);return G(i,"argument-error"),nh._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Gi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yae extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(function*(){const o=yield Bi._fromIdTokenResponse(e,r,i),s=Cj(r);return new wr({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return I(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Cj(r);return new wr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Cj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Bm extends Hr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bm.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bm(e,n,r,i)}}function bj(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Bm._fromErrorAndOperation(t,o,e,r):o})}function rb(){return(rb=I(function*(t,e,n=!1){const r=yield ji(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return wr._forOperation(t,"link",r)})).apply(this,arguments)}function ob(){return(ob=I(function*(t,e,n=!1){const{auth:r}=t;if(Li(r.app))return Promise.reject(Yt(r));const i="reauthenticate";try{const o=yield ji(t,bj(r,i,e,t),n);G(o.idToken,r,"internal-error");const s=Fm(o.idToken);G(s,r,"internal-error");const{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),wr._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&qn(r,"user-mismatch"),o}})).apply(this,arguments)}function Sj(t,e){return sb.apply(this,arguments)}function sb(){return(sb=I(function*(t,e,n=!1){if(Li(t.app))return Promise.reject(Yt(t));const r="signIn",i=yield bj(t,r,e),o=yield wr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function ab(t,e){return ub.apply(this,arguments)}function ub(){return(ub=I(function*(t,e){return Sj(bt(t),e)})).apply(this,arguments)}function gb(t){return mb.apply(this,arguments)}function mb(){return(mb=I(function*(t){const e=bt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}const Gm="__sak";class xj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vue=(()=>{class t extends xj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hj(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function lae(){return function Coe(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return I(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return I(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return I(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Nj=(()=>{class t extends xj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Eue=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return I(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var h=I(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),d=yield function Iue(t){return Promise.all(t.map(function(){var e=I(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Vb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class wue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return I(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const d=Vb("",20);o.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:d,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ot(){return window}function Lb(){return typeof Ot().WorkerGlobalScope<"u"&&"function"==typeof Ot().importScripts}function Ub(){return(Ub=I(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Oj="firebaseLocalStorageDb",qm="firebaseLocalStorage",kj="fbase_key";class uh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zm(t,e){return t.transaction([qm],e?"readwrite":"readonly").objectStore(qm)}function jb(){const t=indexedDB.open(Oj,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qm,{keyPath:kj})}catch(i){n(i)}}),t.addEventListener("success",I(function*(){const r=t.result;r.objectStoreNames.contains(qm)?e(r):(r.close(),yield function Sue(){const t=indexedDB.deleteDatabase(Oj);return new uh(t).toPromise()}(),e(yield jb()))}))})}function Fj(t,e,n){return Bb.apply(this,arguments)}function Bb(){return(Bb=I(function*(t,e,n){const r=zm(t,!0).put({[kj]:e,value:n});return new uh(r).toPromise()})).apply(this,arguments)}function $b(){return($b=I(function*(t,e){const n=zm(t,!1).get(e),r=yield new uh(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Vj(t,e){const n=zm(t,!0).delete(e);return new uh(n).toPromise()}const xue=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return I(function*(){return n.db||(n.db=yield jb()),n.db})()}_withRetries(n){var r=this;return I(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return I(function*(){return Lb()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return I(function*(){n.receiver=Eue._getInstance(function Due(){return Lb()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=I(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=I(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return I(function*(){var r,i;if(n.activeServiceWorker=yield function Cue(){return Ub.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new wue(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return I(function*(){if(r.sender&&r.activeServiceWorker&&function bue(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return I(function*(){try{if(!indexedDB)return!1;const n=yield jb();return yield Fj(n,Gm,"1"),yield Vj(n,Gm),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return I(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return I(function*(){return i._withPendingWrite(I(function*(){return yield i._withRetries(o=>Fj(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return I(function*(){const i=yield r._withRetries(o=>function Rue(t,e){return $b.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return I(function*(){return r._withPendingWrite(I(function*(){return yield r._withRetries(i=>Vj(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return I(function*(){const r=yield n._withRetries(s=>{const a=zm(s,!1).getAll();return new uh(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(I(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();gj("rcb"),new Kd(3e4,6e4);class Zb extends th{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bue(t){return Sj(t.auth,new Zb(t),t.bypassAuthState)}function $ue(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function Aj(t,e){return ob.apply(this,arguments)}(n,new Zb(t),t.bypassAuthState)}function Hue(t){return eD.apply(this,arguments)}function eD(){return(eD=I(function*(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),function nb(t,e){return rb.apply(this,arguments)}(n,new Zb(t),t.bypassAuthState)})).apply(this,arguments)}class Gue{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=I(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return I(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(d){n.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bue;case"linkViaPopup":case"linkViaRedirect":return Hue;case"reauthViaPopup":case"reauthViaRedirect":return $ue;default:qn(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Kd(2e3,1e4);const que="pendingRedirect",lh=new Map;class zue extends Gue{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return I(function*(){let r=lh.get(n.auth._key());if(!r){try{const o=(yield function Wue(t,e){return oD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}lh.set(n.auth._key(),r)}return n.bypassAuthState||lh.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return I(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return I(function*(){})()}cleanUp(){}}function oD(){return(oD=I(function*(t,e){const n=function jj(t){return Vm(que,t.config.apiKey,t.name)}(e),r=function Uj(t){return $i(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Kue(t,e){lh.set(t._key(),e)}function Bj(t,e){return hD.apply(this,arguments)}function hD(){return(hD=I(function*(t,e,n=!1){if(Li(t.app))return Promise.reject(Yt(t));const r=bt(t),i=function Ws(t,e){return e?$i(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new zue(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Zue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ece(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gj(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Gj(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hj(e))}saveEventToCache(e){this.cachedEventUids.add(Hj(e)),this.lastProcessedEventTime=Date.now()}}function Hj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gj({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function pD(){return(pD=I(function*(t,e={}){return nt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const nce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rce=/^https?/;function gD(){return gD=I(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function tce(t){return pD.apply(this,arguments)}(t);for(const n of e)try{if(oce(n))return}catch{}qn(t,"unauthorized-domain")}),gD.apply(this,arguments)}function oce(t){const e=Wd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!rce.test(n))return!1;if(nce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sce=new Kd(3e4,6e4);function qj(){const t=Ot().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Wm=null;const cce=new Kd(5e3,15e3),lce="__/auth/iframe",dce="emulator/auth/iframe",hce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pce(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hC(e,dce):`https://${t.config.authDomain}/${lce}`,r={apiKey:e.apiKey,appName:t.name,v:ju},i=fce.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bd(r).slice(1)}`}function mD(){return mD=I(function*(t){const e=yield function uce(t){return Wm=Wm||function ace(t){return new Promise((e,n)=>{var r,i,o;function s(){qj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qj(),n(Er(t,"network-request-failed"))},timeout:sce.get()})}if(null!==(i=null===(r=Ot().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Ot().gapi)||void 0===o||!o.load){const a=gj("iframefcb");return Ot()[a]=()=>{gapi.load?s():n(Er(t,"network-request-failed"))},MC(`${function vae(){return Xd.gapiScript}()}?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw Wm=null,e})}(t),Wm}(t),n=Ot().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:pce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hce,dontclear:!0},r=>new Promise(function(){var i=I(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Er(t,"network-request-failed"),u=Ot().setTimeout(()=>{s(a)},cce.get());function c(){Ot().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),mD.apply(this,arguments)}const mce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tce="__/auth/handler",Cce="emulator/auth/handler",bce=encodeURIComponent("fac");function Wj(t,e,n,r,i,o){return _D.apply(this,arguments)}function _D(){return(_D=I(function*(t,e,n,r,i,o){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ju,eventId:i};if(e instanceof Gi){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function Soe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Yae){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const u=yield t._getAppCheckToken(),c=u?`#${bce}=${encodeURIComponent(u)}`:"";return`${function Dce({config:t}){return t.emulator?hC(t,Cce):`https://${t.authDomain}/${Tce}`}(t)}?${Bd(a).slice(1)}${c}`})).apply(this,arguments)}const yD="webStorageSupport",Sce=class Ace{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nj,this._completeRedirectFn=Bj,this._overrideRedirectResult=Kue}_openPopup(e,n,r,i){var o=this;return I(function*(){var s;Oo(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Wj(e,n,r,Wd(),i);return function Ece(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},mce),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ct().toLowerCase();n&&(a=aj(c)?"_blank":n),oj(c)&&(e=e||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(function cae(t=Ct()){var e;return RC(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function wce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new zj(null);const h=window.open(e||"",a,d);G(h,t,"popup-blocked");try{h.focus()}catch{}return new zj(h)}(e,a,Vb())})()}_openRedirect(e,n,r,i){var o=this;return I(function*(){return yield o._originValidation(e),function Tue(t){Ot().location.href=t}(yield Wj(e,n,r,Wd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Oo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return I(function*(){const r=yield function gce(t){return mD.apply(this,arguments)}(e),i=new Zue(e);return r.register("authEvent",o=>(G(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yD,{type:yD},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[yD];void 0!==s&&n(!!s),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function ice(t){return gD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hj()||sj()||RC()}};var Jj="@firebase/auth";class Rce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return I(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nce=EU("authIdTokenMaxAge")||300;let Zj=null;const Oce=t=>function(){var e=I(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Nce)return;const o=r?.token;Zj!==o&&(Zj=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function kce(t=iC()){const e=No(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Sae(t,e){const n=No(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Hs(n.getOptions(),e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Sce,persistence:[xue,vue,Nj]}),r=EU("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Oce(o.toString());(function hue(t,e,n){gt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function due(t,e,n,r){gt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}}const i=vU("auth");return i&&function Pae(t,e,n){const r=bt(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=yj(e),{host:s,port:a}=function Mae(t){const e=yj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:vj(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:vj(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function xae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}(function mae(t){Xd=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Er("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Fce(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Mce(t){hi(new Gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fj(t)},c=new gae(r,i,o,u);return function Rae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hi(new Gr("auth-internal",e=>{const n=bt(e.getProvider("auth").getImmediate());return new Rce(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(Jj,"1.8.0",function Pce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),ar(Jj,"1.8.0","esm2017")}("Browser");var Ks,nB,eB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tB={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(b,w,T){T||(T=0);var S=Array(16);if("string"==typeof w)for(var R=0;16>R;++R)S[R]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(R=0;16>R;++R)S[R]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;var x=b.g[3],C=(w=b.g[0])+(x^(T=b.g[1])&((R=b.g[2])^x))+S[0]+3614090360&4294967295;C=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=(T=(R=(x=(w=T+(C<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[1]+3905402710&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[2]+606105819&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[3]+3250441966&4294967295)<<22&4294967295|C>>>10))+((C=w+(x^T&(R^x))+S[4]+4118548399&4294967295)<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[5]+1200080426&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[6]+2821735955&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[7]+4249261313&4294967295)<<22&4294967295|C>>>10))+((C=w+(x^T&(R^x))+S[8]+1770035416&4294967295)<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[9]+2336552879&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[10]+4294925233&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[11]+2304563134&4294967295)<<22&4294967295|C>>>10))+((C=w+(x^T&(R^x))+S[12]+1804603682&4294967295)<<7&4294967295|C>>>25))+((C=x+(R^w&(T^R))+S[13]+4254626195&4294967295)<<12&4294967295|C>>>20))+((C=R+(T^x&(w^T))+S[14]+2792965006&4294967295)<<17&4294967295|C>>>15))+((C=T+(w^R&(x^w))+S[15]+1236535329&4294967295)<<22&4294967295|C>>>10))+((C=w+(R^x&(T^R))+S[1]+4129170786&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[6]+3225465664&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[11]+643717713&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[0]+3921069994&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^x&(T^R))+S[5]+3593408605&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[10]+38016083&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[15]+3634488961&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[4]+3889429448&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^x&(T^R))+S[9]+568446438&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[14]+3275163606&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[3]+4107603335&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[8]+1163531501&4294967295)<<20&4294967295|C>>>12))+((C=w+(R^x&(T^R))+S[13]+2850285829&4294967295)<<5&4294967295|C>>>27))+((C=x+(T^R&(w^T))+S[2]+4243563512&4294967295)<<9&4294967295|C>>>23))+((C=R+(w^T&(x^w))+S[7]+1735328473&4294967295)<<14&4294967295|C>>>18))+((C=T+(x^w&(R^x))+S[12]+2368359562&4294967295)<<20&4294967295|C>>>12))+((C=w+(T^R^x)+S[5]+4294588738&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[8]+2272392833&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[11]+1839030562&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[14]+4259657740&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^x)+S[1]+2763975236&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[4]+1272893353&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[7]+4139469664&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[10]+3200236656&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^x)+S[13]+681279174&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[0]+3936430074&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[3]+3572445317&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[6]+76029189&4294967295)<<23&4294967295|C>>>9))+((C=w+(T^R^x)+S[9]+3654602809&4294967295)<<4&4294967295|C>>>28))+((C=x+(w^T^R)+S[12]+3873151461&4294967295)<<11&4294967295|C>>>21))+((C=R+(x^w^T)+S[15]+530742520&4294967295)<<16&4294967295|C>>>16))+((C=T+(R^x^w)+S[2]+3299628645&4294967295)<<23&4294967295|C>>>9))+((C=w+(R^(T|~x))+S[0]+4096336452&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[7]+1126891415&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(x|~T))+S[14]+2878612391&4294967295)<<15&4294967295|C>>>17))+((C=T+(x^(R|~w))+S[5]+4237533241&4294967295)<<21&4294967295|C>>>11))+((C=w+(R^(T|~x))+S[12]+1700485571&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[3]+2399980690&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(x|~T))+S[10]+4293915773&4294967295)<<15&4294967295|C>>>17))+((C=T+(x^(R|~w))+S[1]+2240044497&4294967295)<<21&4294967295|C>>>11))+((C=w+(R^(T|~x))+S[8]+1873313359&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[15]+4264355552&4294967295)<<10&4294967295|C>>>22))+((C=R+(w^(x|~T))+S[6]+2734768916&4294967295)<<15&4294967295|C>>>17))+((C=T+(x^(R|~w))+S[13]+1309151649&4294967295)<<21&4294967295|C>>>11))+((x=(w=T+((C=w+(R^(T|~x))+S[4]+4149444226&4294967295)<<6&4294967295|C>>>26))+((C=x+(T^(w|~R))+S[11]+3174756917&4294967295)<<10&4294967295|C>>>22))^((R=x+((C=R+(w^(x|~T))+S[2]+718787259&4294967295)<<15&4294967295|C>>>17))|~w))+S[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+x&4294967295}function s(b,w){this.h=w;for(var T=[],S=!0,R=b.length-1;0<=R;R--){var x=0|b[R];S&&x==w||(T[R]=x,S=!1)}this.g=T}(function e(b,w){function T(){}T.prototype=w.prototype,b.D=w.prototype,b.prototype=new T,b.prototype.constructor=b,b.C=function(S,R,x){for(var C=Array(arguments.length-2),eo=2;eo<arguments.length;eo++)C[eo-2]=arguments[eo];return w.prototype[R].apply(S,C)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(b,w){void 0===w&&(w=b.length);for(var T=w-this.blockSize,S=this.B,R=this.h,x=0;x<w;){if(0==R)for(;x<=T;)i(this,b,x),x+=this.blockSize;if("string"==typeof b){for(;x<w;)if(S[R++]=b.charCodeAt(x++),R==this.blockSize){i(this,S),R=0;break}}else for(;x<w;)if(S[R++]=b[x++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;var T=8*this.o;for(w=b.length-8;w<b.length;++w)b[w]=255&T,T/=256;for(this.u(b),b=Array(16),w=T=0;4>w;++w)for(var S=0;32>S;S+=8)b[T++]=this.g[w]>>>S&255;return b};var a={};function u(b){return-128<=b&&128>b?function o(b,w){var T=a;return Object.prototype.hasOwnProperty.call(T,b)?T[b]:T[b]=w(b)}(b,function(w){return new s([0|w],0>w?-1:0)}):new s([0|b],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return E(c(-b));for(var w=[],T=1,S=0;b>=T;S++)w[S]=b/T|0,T*=4294967296;return new s(w,0)}var h=u(0),p=u(1),g=u(16777216);function _(b){if(0!=b.h)return!1;for(var w=0;w<b.g.length;w++)if(0!=b.g[w])return!1;return!0}function v(b){return-1==b.h}function E(b){for(var w=b.g.length,T=[],S=0;S<w;S++)T[S]=~b.g[S];return new s(T,~b.h).add(p)}function A(b,w){return b.add(E(w))}function D(b,w){for(;(65535&b[w])!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function F(b,w){this.g=b,this.h=w}function $(b,w){if(_(w))throw Error("division by zero");if(_(b))return new F(h,h);if(v(b))return w=$(E(b),w),new F(E(w.g),E(w.h));if(v(w))return w=$(b,E(w)),new F(E(w.g),w.h);if(30<b.g.length){if(v(b)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var T=p,S=w;0>=S.l(b);)T=Q(T),S=Q(S);var R=Y(T,1),x=Y(S,1);for(S=Y(S,2),T=Y(T,2);!_(S);){var C=x.add(S);0>=C.l(b)&&(R=R.add(T),x=C),S=Y(S,1),T=Y(T,1)}return w=A(b,R.j(w)),new F(R,w)}for(R=h;0<=b.l(w);){for(T=Math.max(1,Math.floor(b.m()/w.m())),S=48>=(S=Math.ceil(Math.log(T)/Math.LN2))?1:Math.pow(2,S-48),C=(x=c(T)).j(w);v(C)||0<C.l(b);)C=(x=c(T-=S)).j(w);_(x)&&(x=p),R=R.add(x),b=A(b,C)}return new F(R,b)}function Q(b){for(var w=b.g.length+1,T=[],S=0;S<w;S++)T[S]=b.i(S)<<1|b.i(S-1)>>>31;return new s(T,b.h)}function Y(b,w){var T=w>>5;w%=32;for(var S=b.g.length-T,R=[],x=0;x<S;x++)R[x]=0<w?b.i(x+T)>>>w|b.i(x+T+1)<<32-w:b.i(x+T);return new s(R,b.h)}(t=s.prototype).m=function(){if(v(this))return-E(this).m();for(var b=0,w=1,T=0;T<this.g.length;T++){var S=this.i(T);b+=(0<=S?S:4294967296+S)*w,w*=4294967296}return b},t.toString=function(b){if(2>(b=b||10)||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(v(this))return"-"+E(this).toString(b);for(var w=c(Math.pow(b,6)),T=this,S="";;){var R=$(T,w).g,x=((0<(T=A(T,R.j(w))).g.length?T.g[0]:T.h)>>>0).toString(b);if(_(T=R))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h},t.l=function(b){return v(b=A(this,b))?-1:_(b)?0:1},t.abs=function(){return v(this)?E(this):this},t.add=function(b){for(var w=Math.max(this.g.length,b.g.length),T=[],S=0,R=0;R<=w;R++){var x=S+(65535&this.i(R))+(65535&b.i(R)),C=(x>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);S=C>>>16,T[R]=(C&=65535)<<16|(x&=65535)}return new s(T,-2147483648&T[T.length-1]?-1:0)},t.j=function(b){if(_(this)||_(b))return h;if(v(this))return v(b)?E(this).j(E(b)):E(E(this).j(b));if(v(b))return E(this.j(E(b)));if(0>this.l(g)&&0>b.l(g))return c(this.m()*b.m());for(var w=this.g.length+b.g.length,T=[],S=0;S<2*w;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<b.g.length;R++){var x=this.i(S)>>>16,C=65535&this.i(S),eo=b.i(R)>>>16,ef=65535&b.i(R);T[2*S+2*R]+=C*ef,D(T,2*S+2*R),T[2*S+2*R+1]+=x*ef,D(T,2*S+2*R+1),T[2*S+2*R+1]+=C*eo,D(T,2*S+2*R+1),T[2*S+2*R+2]+=x*eo,D(T,2*S+2*R+2)}for(S=0;S<w;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=w;S<2*w;S++)T[S]=0;return new s(T,0)},t.A=function(b){return $(this,b).h},t.and=function(b){for(var w=Math.max(this.g.length,b.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)&b.i(S);return new s(T,this.h&b.h)},t.or=function(b){for(var w=Math.max(this.g.length,b.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)|b.i(S);return new s(T,this.h|b.h)},t.xor=function(b){for(var w=Math.max(this.g.length,b.g.length),T=[],S=0;S<w;S++)T[S]=this.i(S)^b.i(S);return new s(T,this.h^b.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nB=tB.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(b,w){if(0==b.length)throw Error("number format error: empty string");if(2>(w=w||10)||36<w)throw Error("radix out of range: "+w);if("-"==b.charAt(0))return E(d(b.substring(1),w));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(w,8)),S=h,R=0;R<b.length;R+=8){var x=Math.min(8,b.length-R),C=parseInt(b.substring(R,R+x),w);8>x?(x=c(Math.pow(w,x)),S=S.j(x).add(c(C))):S=(S=S.j(T)).add(c(C))}return S},Ks=tB.Integer=s}).apply(typeof eB<"u"?eB:typeof self<"u"?self:typeof window<"u"?window:{});var rB,dh,iB,Ym,ID,oB,sB,aB,Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l},r=function n(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Qm&&Qm];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var P=l[y];if(!(P in m))break e;m=m[P]}(f=f(y=m[l=l[l.length-1]]))!=y&&null!=f&&e(m,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var m=0,y=!1,P={next:function(){if(!y&&m<l.length){var O=m++;return{value:f(O,l[O]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function c(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,m){return l.call.apply(l.bind,arguments)}function h(l,f,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),l.apply(f,P)}}return function(){return l.apply(f,arguments)}}function p(l,f,m){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function g(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,P,O){for(var W=Array(arguments.length-2),We=2;We<arguments.length;We++)W[We-2]=arguments[We];return f.prototype[P].apply(y,W)}}function v(l){const f=l.length;if(0<f){const m=Array(f);for(let y=0;y<f;y++)m[y]=l[y];return m}return[]}function E(l,f){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const P=l.length||0,O=y.length||0;l.length=P+O;for(let W=0;W<O;W++)l[P+W]=y[W]}else l.push(y)}}function D(l){return/^[\s\xa0]*$/.test(l)}function F(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function $(l){return $[" "](l),l}$[" "]=function(){};var Q=!(-1==F().indexOf("Gecko")||-1!=F().toLowerCase().indexOf("webkit")&&-1==F().indexOf("Edge")||-1!=F().indexOf("Trident")||-1!=F().indexOf("MSIE")||-1!=F().indexOf("Edge"));function Y(l,f,m){for(const y in l)f.call(m,l[y],y,l)}function w(l){const f={};for(const m in l)f[m]=l[m];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,f){let m,y;for(let P=1;P<arguments.length;P++){for(m in y=arguments[P],y)l[m]=y[m];for(let O=0;O<T.length;O++)m=T[O],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function R(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function x(l){a.setTimeout(()=>{throw l},0)}function C(){var l=U0;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var ef=new class A{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new Zge,l=>l.reset());class Zge{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let tf,nf=!1,U0=new class eo{constructor(){this.h=this.g=null}add(f,m){const y=ef.get();y.set(f,m),this.h?this.h.next=y:this.g=y,this.h=y}},bq=()=>{const l=a.Promise.resolve(void 0);tf=()=>{l.then(eme)}};var eme=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(m){x(m)}var f=ef;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}nf=!1};function Zo(){this.s=this.s,this.C=this.C}function Tn(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Zo.prototype.s=!1,Zo.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Tn.prototype.h=function(){this.defaultPrevented=!0};var tme=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function rf(l,f){if(Tn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Q){e:{try{$(f.nodeName);var P=!0;break e}catch{}P=!1}P||(f=null)}}else"mouseover"==m?f=l.fromElement:"mouseout"==m&&(f=l.toElement);this.relatedTarget=f,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:nme[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&rf.aa.h.call(this)}}_(rf,Tn);var nme={2:"touch",3:"pen",4:"mouse"};rf.prototype.h=function(){rf.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var sf="closure_listenable_"+(1e6*Math.random()|0),rme=0;function ime(l,f,m,y,P){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!y,this.ha=P,this.key=++rme,this.da=this.fa=!1}function oy(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function sy(l){this.src=l,this.g={},this.h=0}function j0(l,f){var m=f.type;if(m in l.g){var O,y=l.g[m],P=Array.prototype.indexOf.call(y,f,void 0);(O=0<=P)&&Array.prototype.splice.call(y,P,1),O&&(oy(f),0==l.g[m].length&&(delete l.g[m],l.h--))}}function B0(l,f,m,y){for(var P=0;P<l.length;++P){var O=l[P];if(!O.da&&O.listener==f&&O.capture==!!m&&O.ha==y)return P}return-1}sy.prototype.add=function(l,f,m,y,P){var O=l.toString();(l=this.g[O])||(l=this.g[O]=[],this.h++);var W=B0(l,f,y,P);return-1<W?(f=l[W],m||(f.fa=!1)):((f=new ime(f,this.src,O,!!y,P)).fa=m,l.push(f)),f};var $0="closure_lm_"+(1e6*Math.random()|0),H0={};function Dq(l,f,m,y,P){if(y&&y.once)return Sq(l,f,m,y,P);if(Array.isArray(f)){for(var O=0;O<f.length;O++)Dq(l,f[O],m,y,P);return null}return m=W0(m),l&&l[sf]?l.K(f,m,c(y)?!!y.capture:!!y,P):Aq(l,f,m,!1,y,P)}function Aq(l,f,m,y,P,O){if(!f)throw Error("Invalid event type");var W=c(P)?!!P.capture:!!P,We=q0(l);if(We||(l[$0]=We=new sy(l)),(m=We.add(f,m,y,W,O)).proxy)return m;if(y=function ome(){const f=sme;return function l(m){return f.call(l.src,l.listener,m)}}(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)tme||(P=W),void 0===P&&(P=!1),l.addEventListener(f.toString(),y,P);else if(l.attachEvent)l.attachEvent(Pq(f.toString()),y);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(y)}return m}function Sq(l,f,m,y,P){if(Array.isArray(f)){for(var O=0;O<f.length;O++)Sq(l,f[O],m,y,P);return null}return m=W0(m),l&&l[sf]?l.L(f,m,c(y)?!!y.capture:!!y,P):Aq(l,f,m,!0,y,P)}function Rq(l,f,m,y,P){if(Array.isArray(f))for(var O=0;O<f.length;O++)Rq(l,f[O],m,y,P);else y=c(y)?!!y.capture:!!y,m=W0(m),l&&l[sf]?(l=l.i,(f=String(f).toString())in l.g&&-1<(m=B0(O=l.g[f],m,y,P))&&(oy(O[m]),Array.prototype.splice.call(O,m,1),0==O.length&&(delete l.g[f],l.h--))):l&&(l=q0(l))&&(f=l.g[f.toString()],l=-1,f&&(l=B0(f,m,y,P)),(m=-1<l?f[l]:null)&&G0(m))}function G0(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[sf])j0(f.i,l);else{var m=l.type,y=l.proxy;f.removeEventListener?f.removeEventListener(m,y,l.capture):f.detachEvent?f.detachEvent(Pq(m),y):f.addListener&&f.removeListener&&f.removeListener(y),(m=q0(f))?(j0(m,l),0==m.h&&(m.src=null,f[$0]=null)):oy(l)}}}function Pq(l){return l in H0?H0[l]:H0[l]="on"+l}function sme(l,f){if(l.da)l=!0;else{f=new rf(f,this);var m=l.listener,y=l.ha||l.src;l.fa&&G0(l),l=m.call(y,f)}return l}function q0(l){return(l=l[$0])instanceof sy?l:null}var z0="__closure_events_fn_"+(1e9*Math.random()>>>0);function W0(l){return"function"==typeof l?l:(l[z0]||(l[z0]=function(f){return l.handleEvent(f)}),l[z0])}function Cn(){Zo.call(this),this.i=new sy(this),this.M=this,this.F=null}function kn(l,f){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=f.type||f,"string"==typeof f)f=new Tn(f,l);else if(f instanceof Tn)f.target=f.target||l;else{var P=f;S(f=new Tn(y,l),P)}if(P=!0,m)for(var O=m.length-1;0<=O;O--){var W=f.g=m[O];P=ay(W,y,!0,f)&&P}if(P=ay(W=f.g=l,y,!0,f)&&P,P=ay(W,y,!1,f)&&P,m)for(O=0;O<m.length;O++)P=ay(W=f.g=m[O],y,!1,f)&&P}function ay(l,f,m,y){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var P=!0,O=0;O<f.length;++O){var W=f[O];if(W&&!W.da&&W.capture==m){var We=W.listener,dn=W.ha||W.src;W.fa&&j0(l.i,W),P=!1!==We.call(dn,y)&&P}}return P&&!y.defaultPrevented}function Mq(l,f,m){if("function"==typeof l)m&&(l=p(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function xq(l){l.g=Mq(()=>{l.g=null,l.i&&(l.i=!1,xq(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}_(Cn,Zo),Cn.prototype[sf]=!0,Cn.prototype.removeEventListener=function(l,f,m,y){Rq(this,l,f,m,y)},Cn.prototype.N=function(){if(Cn.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var m=l.g[f],y=0;y<m.length;y++)oy(m[y]);delete l.g[f],l.h--}}this.F=null},Cn.prototype.K=function(l,f,m,y){return this.i.add(String(l),f,!1,m,y)},Cn.prototype.L=function(l,f,m,y){return this.i.add(String(l),f,!0,m,y)};class ame extends Zo{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:xq(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function af(l){Zo.call(this),this.h=l,this.g={}}_(af,Zo);var Nq=[];function Oq(l){Y(l.g,function(f,m){this.g.hasOwnProperty(m)&&G0(f)},l),l.g={}}af.prototype.N=function(){af.aa.N.call(this),Oq(this)},af.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var K0=a.JSON.stringify,ume=a.JSON.parse,cme=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Q0(){}function Fq(){}Q0.prototype.h=null;var uf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Y0(){Tn.call(this,"d")}function J0(){Tn.call(this,"c")}_(Y0,Tn),_(J0,Tn);var _a={},Vq=null;function uy(){return Vq=Vq||new Cn}function Lq(l){Tn.call(this,_a.La,l)}function cf(l){const f=uy();kn(f,new Lq(f))}function Uq(l,f){Tn.call(this,_a.STAT_EVENT,l),this.stat=f}function Fn(l){const f=uy();kn(f,new Uq(f,l))}function jq(l,f){Tn.call(this,_a.Ma,l),this.size=f}function lf(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function df(){this.g=!0}function Nc(l,f,m,y){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function fme(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if("noop"!=O&&"stop"!=O&&"close"!=O)for(var W=1;W<P.length;W++)P[W]=""}}}return K0(m)}catch{return f}}(l,m)+(y?" "+y:"")})}_a.La="serverreachability",_(Lq,Tn),_a.STAT_EVENT="statevent",_(Uq,Tn),_a.Ma="timingevent",_(jq,Tn),df.prototype.xa=function(){this.g=!1},df.prototype.info=function(){};var X0,cy={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bq={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ly(){}function es(l,f,m,y){this.j=l,this.i=f,this.l=m,this.R=y||1,this.U=new af(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $q}function $q(){this.i=null,this.g="",this.h=!1}_(ly,Q0),ly.prototype.g=function(){return new XMLHttpRequest},ly.prototype.i=function(){return{}},X0=new ly;var Hq={},Z0={};function eR(l,f,m){l.L=1,l.v=py(to(f)),l.m=m,l.P=!0,Gq(l,null)}function Gq(l,f){l.F=Date.now(),dy(l),l.A=to(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),i4(m.i,"t",y),l.C=0,m=l.j.J,l.h=new $q,l.g=w4(l.j,m?f:null,!l.m),0<l.O&&(l.M=new ame(p(l.Y,l,l.g),l.O)),f=l.U,m=l.g,y=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(Nq[0]=P.toString()),P=Nq);for(var O=0;O<P.length;O++){var W=Dq(m,P[O],y||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),cf(),function lme(l,f,m,y,P,O){l.info(function(){if(l.g)if(O)for(var W="",We=O.split("&"),dn=0;dn<We.length;dn++){var Ne=We[dn].split("=");if(1<Ne.length){var bn=Ne[0];Ne=Ne[1];var Dn=bn.split("_");W=2<=Dn.length&&"type"==Dn[1]?W+(bn+"=")+Ne+"&":W+(bn+"=redacted&")}}else W=null;else W=O;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+f+"\n"+m+"\n"+W})}(l.i,l.u,l.A,l.l,l.R,l.m)}function qq(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function pme(l,f){var m=l.C,y=f.indexOf("\n",m);return-1==y?Z0:(m=Number(f.substring(m,y)),isNaN(m)?Hq:(y+=1)+m>f.length?Z0:(f=f.slice(y,y+m),l.C=y+m,f))}function dy(l){l.S=Date.now()+l.I,zq(l,l.I)}function zq(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=lf(p(l.ba,l),f)}function tR(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function hf(l){0==l.j.G||l.J||y4(l.j,l)}function ya(l){tR(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,Oq(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function nR(l,f){try{var m=l.j;if(0!=m.G&&(m.g==l||rR(m.h,l)))if(!l.K&&rR(m.h,l)&&3==m.G){try{var y=m.Da.g.parse(f)}catch{y=null}if(Array.isArray(y)&&3==y.length){var P=y;if(0==P[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;vy(m),_y(m)}aR(m),Fn(18)}}else m.za=P[1],0<m.za-m.T&&37500>P[2]&&m.F&&0==m.v&&!m.C&&(m.C=lf(p(m.Za,m),6e3));if(1>=Qq(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ia(m,11)}else if((l.K||m.g==l)&&vy(m),!D(f))for(P=m.Da.g.parse(f),f=0;f<P.length;f++){let Ne=P[f];if(m.T=Ne[0],Ne=Ne[1],2==m.G)if("c"==Ne[0]){m.K=Ne[1],m.ia=Ne[2];const bn=Ne[3];null!=bn&&(m.la=bn,m.j.info("VER="+m.la));const Dn=Ne[4];null!=Dn&&(m.Aa=Dn,m.j.info("SVER="+m.Aa));const Fc=Ne[5];null!=Fc&&"number"==typeof Fc&&0<Fc&&(m.L=y=1.5*Fc,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const qr=l.g;if(qr){const Ey=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ey){var O=y.h;O.g||-1==Ey.indexOf("spdy")&&-1==Ey.indexOf("quic")&&-1==Ey.indexOf("h2")||(O.j=O.l,O.g=new Set,O.h&&(iR(O,O.h),O.h=null))}if(y.D){const cR=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;cR&&(y.ya=cR,it(y.I,y.D,cR))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var W=l;if((y=m).qa=E4(y,y.J?y.ia:null,y.W),W.K){Yq(y.h,W);var We=W,dn=y.L;dn&&(We.I=dn),We.B&&(tR(We),dy(We)),y.g=W}else m4(y);0<m.i.length&&yy(m)}else"stop"!=Ne[0]&&"close"!=Ne[0]||Ia(m,7);else 3==m.G&&("stop"==Ne[0]||"close"==Ne[0]?"stop"==Ne[0]?Ia(m,7):sR(m):"noop"!=Ne[0]&&m.l&&m.l.ta(Ne),m.v=0)}cf()}catch{}}es.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==no(l)?f.j():this.Y(l)},es.prototype.Y=function(l){try{if(l==this.g)e:{const Dn=no(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>Dn)&&(3!=Dn||this.g&&(this.h.h||this.g.oa()||d4(this.g)))){this.J||4!=Dn||7==f||cf(),tR(this);var m=this.g.Z();this.X=m;t:if(qq(this)){var y=d4(this.g);l="";var P=y.length,O=4==no(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ya(this),hf(this);var W="";break t}this.h.i=new a.TextDecoder}for(f=0;f<P;f++)this.h.h=!0,l+=this.h.i.decode(y[f],{stream:!(O&&f==P-1)});y.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=200==m,function dme(l,f,m,y,P,O,W){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+f+"\n"+m+"\n"+O+" "+W})}(this.i,this.u,this.A,this.l,this.R,Dn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var We,dn=this.g;if((We=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(We)){var Ne=We;break t}}Ne=null}if(!(m=Ne)){this.o=!1,this.s=3,Fn(12),ya(this),hf(this);break e}Nc(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nR(this,m)}if(this.P){let qr;for(m=!0;!this.J&&this.C<W.length;){if(qr=pme(this,W),qr==Z0){4==Dn&&(this.s=4,Fn(14),m=!1),Nc(this.i,this.l,null,"[Incomplete Response]");break}if(qr==Hq){this.s=4,Fn(15),Nc(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}Nc(this.i,this.l,qr,null),nR(this,qr)}if(qq(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Dn||0!=W.length||this.h.h||(this.s=1,Fn(16),m=!1),this.o=this.o&&m,m){if(0<W.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),uR(bn),bn.M=!0,Fn(11))}}else Nc(this.i,this.l,W,"[Invalid Chunked Response]"),ya(this),hf(this)}else Nc(this.i,this.l,W,null),nR(this,W);4==Dn&&ya(this),this.o&&!this.J&&(4==Dn?y4(this.j,this):(this.o=!1,dy(this)))}else(function Mme(l){const f={};l=(l.g&&2<=no(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(D(l[y]))continue;var m=R(l[y]);const P=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const O=f[P]||[];f[P]=O,O.push(m)}!function b(l,f){for(const m in l)f.call(void 0,l[m],m,l)}(f,function(y){return y.join(", ")})})(this.g),400==m&&0<W.indexOf("Unknown SID")?(this.s=3,Fn(12)):(this.s=0,Fn(13)),ya(this),hf(this)}}}catch{}},es.prototype.cancel=function(){this.J=!0,ya(this)},es.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function hme(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(cf(),Fn(17)),ya(this),this.s=2,hf(this)):zq(this,this.S-l)};var gme=class{constructor(l,f){this.g=l,this.map=f}};function Wq(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kq(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Qq(l){return l.h?1:l.g?l.g.size:0}function rR(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function iR(l,f){l.g?l.g.add(f):l.h=f}function Yq(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function Jq(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return v(l.i)}function Xq(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var m=function _me(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const y in l)f[m++]=y;return f}}}(l),y=function mme(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var f=[],m=l.length,y=0;y<m;y++)f.push(l[y]);return f}for(y in f=[],m=0,l)f[m++]=l[y];return f}(l),P=y.length,O=0;O<P;O++)f.call(void 0,y[O],m&&m[O],l)}Wq.prototype.cancel=function(){if(this.i=Jq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var Zq=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof va){this.h=l.h,hy(this,l.j),this.o=l.o,this.g=l.g,fy(this,l.s),this.l=l.l;var f=l.i,m=new gf;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),e4(this,m),this.m=l.m}else l&&(f=String(l).match(Zq))?(this.h=!1,hy(this,f[1]||"",!0),this.o=ff(f[2]||""),this.g=ff(f[3]||"",!0),fy(this,f[4]),this.l=ff(f[5]||"",!0),e4(this,f[6]||"",!0),this.m=ff(f[7]||"")):(this.h=!1,this.i=new gf(null,this.h))}function to(l){return new va(l)}function hy(l,f,m){l.j=m?ff(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function fy(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function e4(l,f,m){f instanceof gf?(l.i=f,function Cme(l,f){f&&!l.j&&(ts(l),l.i=null,l.g.forEach(function(m,y){var P=y.toLowerCase();y!=P&&(n4(this,y),i4(this,P,m))},l)),l.j=f}(l.i,l.h)):(m||(f=pf(f,wme)),l.i=new gf(f,l.h))}function it(l,f,m){l.i.set(f,m)}function py(l){return it(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ff(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function pf(l,f,m){return"string"==typeof l?(l=encodeURI(l).replace(f,vme),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function vme(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}va.prototype.toString=function(){var l=[],f=this.j;f&&l.push(pf(f,t4,!0),":");var m=this.g;return(m||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(pf(f,t4,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(pf(m,"/"==m.charAt(0)?Eme:Ime,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",pf(m,Tme)),l.join("")};var t4=/[#\/\?@]/g,Ime=/[#\?:]/g,Eme=/[#\?]/g,wme=/[#\?@]/g,Tme=/#/g;function gf(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ts(l){l.g||(l.g=new Map,l.h=0,l.i&&function yme(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),P=null;if(0<=y){var O=l[m].substring(0,y);P=l[m].substring(y+1)}else O=l[m];f(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}function n4(l,f){ts(l),f=Oc(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function r4(l,f){return ts(l),f=Oc(l,f),l.g.has(f)}function i4(l,f,m){n4(l,f),0<m.length&&(l.i=null,l.g.set(Oc(l,f),v(m)),l.h+=m.length)}function Oc(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function ns(l,f,m,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(m)}catch{}}function Ame(){this.g=new cme}function Sme(l,f,m){const y=m||"";try{Xq(l,function(P,O){let W=P;c(P)&&(W=K0(P)),f.push(y+O+"="+encodeURIComponent(W))})}catch(P){throw f.push(y+"type="+encodeURIComponent("_badmap")),P}}function mf(l){this.l=l.Ub||null,this.j=l.eb||!1}function gy(l,f){Cn.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function o4(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function _f(l){l.readyState=4,l.l=null,l.j=null,l.v=null,yf(l)}function yf(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function s4(l){let f="";return Y(l,function(m,y){f+=y,f+=":",f+=m,f+="\r\n"}),f}function oR(l,f,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=s4(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):it(l,f,m))}function yt(l){Cn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=gf.prototype).add=function(l,f){ts(this),this.i=null,l=Oc(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this},t.forEach=function(l,f){ts(this),this.g.forEach(function(m,y){m.forEach(function(P){l.call(f,P,y,this)},this)},this)},t.na=function(){ts(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let y=0;y<f.length;y++){const P=l[y];for(let O=0;O<P.length;O++)m.push(f[y])}return m},t.V=function(l){ts(this);let f=[];if("string"==typeof l)r4(this,l)&&(f=f.concat(this.g.get(Oc(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return ts(this),this.i=null,r4(this,l=Oc(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var y=f[m];const O=encodeURIComponent(String(y)),W=this.V(y);for(y=0;y<W.length;y++){var P=O;""!==W[y]&&(P+="="+encodeURIComponent(String(W[y]))),l.push(P)}}return this.i=l.join("&")},_(mf,Q0),mf.prototype.g=function(){return new gy(this.l,this.j)},mf.prototype.i=function(l){return function(){return l}}({}),_(gy,Cn),(t=gy.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,yf(this)},t.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,yf(this)),this.g&&(this.readyState=3,yf(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o4(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?_f(this):yf(this),3==this.readyState&&o4(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,_f(this))},t.Qa=function(l){this.g&&(this.response=l,_f(this))},t.ga=function(){this.g&&_f(this)},t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=f.next();return l.join("\r\n")},Object.defineProperty(gy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),_(yt,Cn);var Rme=/^https?$/i,Pme=["POST","PUT"];function a4(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,u4(l),my(l)}function u4(l){l.A||(l.A=!0,kn(l,"complete"),kn(l,"error"))}function c4(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=no(l)||2!=l.Z()))if(l.u&&4==no(l))Mq(l.Ea,0,l);else if(kn(l,"readystatechange"),4==no(l)){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var y;if(y=0===W){var P=String(l.D).match(Zq)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),y=!Rme.test(P?P.toLowerCase():"")}m=y}if(m)kn(l,"complete"),kn(l,"success");else{l.m=6;try{var O=2<no(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",u4(l)}}finally{my(l)}}}function my(l,f){if(l.g){l4(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||kn(l,"ready");try{m.onreadystatechange=y}catch{}}}function l4(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function no(l){return l.g?l.g.readyState:0}function d4(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function h4(l){this.Aa=0,this.i=[],this.j=new df,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vf("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vf("baseRetryDelayMs",5e3,l),this.cb=vf("retryDelaySeedMs",1e4,l),this.Wa=vf("forwardChannelMaxRetries",2,l),this.wa=vf("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Wq(l&&l.concurrentRequestLimit),this.Da=new Ame,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sR(l){if(f4(l),3==l.G){var f=l.U++,m=to(l.I);if(it(m,"SID",l.K),it(m,"RID",f),it(m,"TYPE","terminate"),If(l,m),(f=new es(l,l.j,f)).L=2,f.v=py(to(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=f.v,m=!0),m||(f.g=w4(f.j,null),f.g.ea(f.v)),f.F=Date.now(),dy(f)}I4(l)}function _y(l){l.g&&(uR(l),l.g.cancel(),l.g=null)}function f4(l){_y(l),l.u&&(a.clearTimeout(l.u),l.u=null),vy(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function yy(l){if(!Kq(l.h)&&!l.s){l.s=!0;var f=l.Ga;tf||bq(),nf||(tf(),nf=!0),U0.add(f,l),l.B=0}}function p4(l,f){var m;m=f?f.l:l.U++;const y=to(l.I);it(y,"SID",l.K),it(y,"RID",m),it(y,"AID",l.T),If(l,y),l.m&&l.o&&oR(y,l.m,l.o),m=new es(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=g4(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),iR(l.h,m),eR(m,y,f)}function If(l,f){l.H&&Y(l.H,function(m,y){it(f,y,m)}),l.l&&Xq({},function(m,y){it(f,y,m)})}function g4(l,f,m){m=Math.min(l.i.length,m);var y=l.l?p(l.l.Na,l.l,l):null;e:{var P=l.i;let O=-1;for(;;){const W=["count="+m];-1==O?0<m?(O=P[0].g,W.push("ofs="+O)):O=0:W.push("ofs="+O);let We=!0;for(let dn=0;dn<m;dn++){let Ne=P[dn].g;const bn=P[dn].map;if(Ne-=O,0>Ne)O=Math.max(0,P[dn].g-100),We=!1;else try{Sme(bn,W,"req"+Ne+"_")}catch{y&&y(bn)}}if(We){y=W.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,y}function m4(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;tf||bq(),nf||(tf(),nf=!0),U0.add(f,l),l.v=0}}function aR(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=lf(p(l.Fa,l),v4(l,l.v)),l.v++,0))}function uR(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function _4(l){l.g=new es(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=to(l.qa);it(f,"RID","rpc"),it(f,"SID",l.K),it(f,"AID",l.T),it(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&it(f,"TO",l.ja),it(f,"TYPE","xmlhttp"),If(l,f),l.m&&l.o&&oR(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=py(to(f)),m.m=null,m.P=!0,Gq(m,l)}function vy(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function y4(l,f){var m=null;if(l.g==f){vy(l),uR(l),l.g=null;var y=2}else{if(!rR(l.h,f))return;m=f.D,Yq(l.h,f),y=1}if(0!=l.G)if(f.o)if(1==y){m=f.m?f.m.length:0,f=Date.now()-f.F;var P=l.B;kn(y=uy(),new jq(y,m)),yy(l)}else m4(l);else if(3==(P=f.s)||0==P&&0<f.X||!(1==y&&function xme(l,f){return!(Qq(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=lf(p(l.Ga,l,f),v4(l,l.B)),l.B++,0)))}(l,f)||2==y&&aR(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),P){case 1:Ia(l,5);break;case 4:Ia(l,10);break;case 3:Ia(l,6);break;default:Ia(l,2)}}function v4(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Ia(l,f){if(l.j.info("Error code "+f),2==f){var m=p(l.fb,l),y=l.Xa;const P=!y;y=new va(y||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||hy(y,"https"),py(y),P?function bme(l,f){const m=new df;if(a.Image){const y=new Image;y.onload=g(ns,m,"TestLoadImage: loaded",!0,f,y),y.onerror=g(ns,m,"TestLoadImage: error",!1,f,y),y.onabort=g(ns,m,"TestLoadImage: abort",!1,f,y),y.ontimeout=g(ns,m,"TestLoadImage: timeout",!1,f,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else f(!1)}(y.toString(),m):function Dme(l,f){new df;const y=new AbortController,P=setTimeout(()=>{y.abort(),ns(0,0,!1,f)},1e4);fetch(l,{signal:y.signal}).then(O=>{clearTimeout(P),ns(0,0,!!O.ok,f)}).catch(()=>{clearTimeout(P),ns(0,0,!1,f)})}(y.toString(),m)}else Fn(2);l.G=0,l.l&&l.l.sa(f),I4(l),f4(l)}function I4(l){if(l.G=0,l.ka=[],l.l){const f=Jq(l.h);(0!=f.length||0!=l.i.length)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function E4(l,f,m){var y=m instanceof va?to(m):new va(m);if(""!=y.g)f&&(y.g=f+"."+y.g),fy(y,y.s);else{var P=a.location;y=P.protocol,f=f?f+"."+P.hostname:P.hostname,P=+P.port;var O=new va(null);y&&hy(O,y),f&&(O.g=f),P&&fy(O,P),m&&(O.l=m),y=O}return f=l.ya,(m=l.D)&&f&&it(y,m,f),it(y,"VER",l.la),If(l,y),y}function w4(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new yt(l.Ca&&!l.pa?new mf({eb:m}):l.pa)).Ha(l.J),f}function T4(){}function Iy(){}function lr(l,f){Cn.call(this),this.g=new h4(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!D(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!D(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new kc(this)}function C4(l){Y0.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function b4(){J0.call(this),this.status=1}function kc(l){this.g=l}(t=yt.prototype).Ha=function(l){this.J=l},t.ea=function(l,f,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():X0.g(),this.v=function kq(l){return l.h||(l.h=l.i())}(this.o?this.o:X0),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(O){return void a4(this,O)}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)m.set(P,y[P]);else{if("function"!=typeof y.keys||"function"!=typeof y.get)throw Error("Unknown input type for opt_headers: "+String(y));for(const O of y.keys())m.set(O,y.get(O))}y=Array.from(m.keys()).find(O=>"content-type"==O.toLowerCase()),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Pme,f,void 0))||y||P||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of m)this.g.setRequestHeader(O,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l4(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){a4(this,O)}},t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,kn(this,"complete"),kn(this,"abort"),my(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),my(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?c4(this):this.bb())},t.bb=function(){c4(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<no(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),ume(f)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=h4.prototype).la=8,t.G=1,t.connect=function(l,f,m,y){Fn(0),this.W=l,this.H=f||{},m&&void 0!==y&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=E4(this,null,this.W),yy(this)},t.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new es(this,this.j,l);let O=this.o;if(this.S&&(O?(O=w(O),S(O,this.S)):O=this.S),null!==this.m||this.O||(P.H=O,O=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){var y=this.i[m];if(void 0===(y="__data__"in y.map&&"string"==typeof(y=y.map.__data__)?y.length:void 0))break;if(4096<(f+=y)){f=m;break e}if(4096===f||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=g4(this,P,f),it(m=to(this.I),"RID",l),it(m,"CVER",22),this.D&&it(m,"X-HTTP-Session-Id",this.D),If(this,m),O&&(this.O?f="headers="+encodeURIComponent(String(s4(O)))+"&"+f:this.m&&oR(m,this.m,O)),iR(this.h,P),this.Ua&&it(m,"TYPE","init"),this.P?(it(m,"$req",f),it(m,"SID","null"),P.T=!0,eR(P,m,null)):eR(P,m,f),this.G=2}}else 3==this.G&&(l?p4(this,l):0==this.i.length||Kq(this.h)||p4(this))},t.Fa=function(){if(this.u=null,_4(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=lf(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fn(10),_y(this),_4(this))},t.Za=function(){null!=this.C&&(this.C=null,_y(this),aR(this),Fn(19))},t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Fn(2)):(this.j.info("Failed to ping google.com"),Fn(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=T4.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},Iy.prototype.g=function(l,f){return new lr(l,f)},_(lr,Cn),lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){sR(this.g)},lr.prototype.o=function(l){var f=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=K0(l),l=m);f.i.push(new gme(f.Ya++,l)),3==f.G&&yy(f)},lr.prototype.N=function(){this.g.l=null,delete this.j,sR(this.g),delete this.g,lr.aa.N.call(this)},_(C4,Y0),_(b4,J0),_(kc,T4),kc.prototype.ua=function(){kn(this.g,"a")},kc.prototype.ta=function(l){kn(this.g,new C4(l))},kc.prototype.sa=function(l){kn(this.g,new b4)},kc.prototype.ra=function(){kn(this.g,"b")},Iy.prototype.createWebChannel=Iy.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,aB=qi.createWebChannelTransport=function(){return new Iy},sB=qi.getStatEventTarget=function(){return uy()},oB=qi.Event=_a,ID=qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cy.NO_ERROR=0,cy.TIMEOUT=8,cy.HTTP_ERROR=6,Ym=qi.ErrorCode=cy,Bq.COMPLETE="complete",iB=qi.EventType=Bq,Fq.EventType=uf,uf.OPEN="a",uf.CLOSE="b",uf.ERROR="c",uf.MESSAGE="d",Cn.prototype.listen=Cn.prototype.K,dh=qi.WebChannel=Fq,qi.FetchXmlHttpFactory=mf,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,rB=qi.XhrIo=yt}).apply(typeof Qm<"u"?Qm:typeof self<"u"?self:typeof window<"u"?window:{});const uB="@firebase/firestore";class Jt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let qu="11.0.0";const Vo=new Mm("@firebase/firestore");function zu(){return Vo.logLevel}function U(t,...e){if(Vo.logLevel<=Te.DEBUG){const n=e.map(ED);Vo.debug(`Firestore (${qu}): ${t}`,...n)}}function Dt(t,...e){if(Vo.logLevel<=Te.ERROR){const n=e.map(ED);Vo.error(`Firestore (${qu}): ${t}`,...n)}}function Tr(t,...e){if(Vo.logLevel<=Te.WARN){const n=e.map(ED);Vo.warn(`Firestore (${qu}): ${t}`,...n)}}function ED(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function J(t="Unexpected state"){const e=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: `+t;throw Dt(e),new Error(e)}function X(t,e){t||J()}function z(t,e){return t}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class cB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class Uce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jce{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;X(void 0===this.o);let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(I(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X("string"==typeof r.accessToken),new cB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return X(null===e||"string"==typeof e),new Jt(e)}}class Bce{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $ce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Bce(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){X(void 0===this.o);const r=o=>{null!=o.error&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X("string"==typeof n.token),this.R=n.token,new lB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class dB{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Gce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Wu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new ct(0,0))}static max(){return new te(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hh{constructor(e,n,r){void 0===n?n=0:n>e.length&&J(),void 0===r?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===hh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ce extends hh{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const qce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends hh{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return qce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}class K{constructor(e){this.path=e}static fromPath(e){return new K(Ce.fromString(e))}static fromName(e){return new K(Ce.fromString(e).popFirst(5))}static empty(){return new K(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Ce(e.slice()))}}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(te.min(),K.empty(),-1)}static max(){return new ur(te.max(),K.empty(),-1)}}function TD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=K.comparator(t.documentKey,e.documentKey),0!==n?n:le(t.largestBatchId,e.largestBatchId))}const gB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Lo(t){return CD.apply(this,arguments)}function CD(){return(CD=I(function*(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==gB)throw t;U("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Uo(t){return"IndexedDbTransactionError"===t.name}let cr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ph(t){return null==t}function gh(t){return 0===t&&1/t==-1/0}function Xce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function IB(t){return t+"\x01\x01"}function DB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ze{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zm(this.root,e,this.comparator,!0)}}class Zm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??an.RED,this.left=i??an.EMPTY,this.right=o??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new an(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return an.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1,an.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,o){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RB(this.data.getIterator())}getIteratorFrom(e){return new RB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class RB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new He(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class PB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PB("Invalid base64 string: "+o):o}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const _le=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(X(!!t),"string"==typeof t){let e=0;const n=_le.exec(t);if(X(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wi(t){return"string"==typeof t?_t.fromBase64String(t):_t.fromUint8Array(t)}function e_(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function t_(t){const e=t.mapValue.fields.__previous_value__;return e_(e)?t_(e):e}function mh(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}class yle{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Xs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xs&&e.projectId===this.projectId&&e.database===this.database}}const Bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e_(t)?4:kB(t)?9007199254740991:o_(t)?10:11:J()}function mi(t,e){if(t===e)return!0;const n=$o(t);if(n!==$o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mh(t).isEqual(mh(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=zi(i.timestampValue),a=zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Wi(t.bytesValue).isEqual(Wi(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return dt(i.geoPointValue.latitude)===dt(o.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return dt(i.integerValue)===dt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=dt(i.doubleValue),a=dt(o.doubleValue);return s===a?gh(s)===gh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(DB(s)!==DB(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!mi(s[u],a[u])))return!1;return!0}(t,e);default:return J()}var o}function _h(t,e){return void 0!==(t.values||[]).find(n=>mi(n,e))}function Ho(t,e){if(t===e)return 0;const n=$o(t),r=$o(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=dt(o.integerValue||o.doubleValue),u=dt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return MB(t.timestampValue,e.timestampValue);case 4:return MB(mh(t),mh(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Wi(o),u=Wi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=le(a[c],u[c]);if(0!==d)return d}return le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=le(dt(o.latitude),dt(s.latitude));return 0!==a?a:le(dt(o.longitude),dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xB(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const g=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,_=null===(u=(s.fields||{}).value)||void 0===u?void 0:u.arrayValue,v=le((null===(c=g?.values)||void 0===c?void 0:c.length)||0,(null===(d=_?.values)||void 0===d?void 0:d.length)||0);return 0!==v?v:xB(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bo.mapValue&&s===Bo.mapValue)return 0;if(o===Bo.mapValue)return 1;if(s===Bo.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=le(u[h],d[h]);if(0!==p)return p;const g=Ho(a[u[h]],c[d[h]]);if(0!==g)return g}return le(u.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function MB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return le(t,e);const n=zi(t),r=zi(e),i=le(n.seconds,r.seconds);return 0!==i?i:le(n.nanos,r.nanos)}function xB(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ho(n[i],r[i]);if(o)return o}return le(n.length,r.length)}function Ju(t){return SD(t)}function SD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wi(t.bytesValue).toBase64():"referenceValue"in t?K.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=SD(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${SD(n.fields[s])}`;return i+"}"}(t.mapValue):J()}function r_(t){switch($o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=t_(t);return e?16+r_(e):16;case 5:return 2*t.stringValue.length;case 6:return Wi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((i,o)=>i+r_(o),0);case 10:case 11:return function(r){let i=0;return jo(r.fields,(o,s)=>{i+=o.length+r_(s)}),i}(t.mapValue);default:throw J()}}function RD(t){return!!t&&"integerValue"in t}function yh(t){return!!t&&"arrayValue"in t}function NB(t){return!!t&&"nullValue"in t}function OB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function i_(t){return!!t&&"mapValue"in t}function o_(t){var e,n;return"__vector__"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!i_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vh(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=vh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());i_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];i_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new un(vh(this.value))}}function UB(t){const e=[];return jo(t.fields,(n,r)=>{const i=new lt([n]);if(i_(r)){const o=UB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new zn(e)}class rt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rt(e,0,te.min(),te.min(),te.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new rt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new rt(e,2,n,te.min(),te.min(),un.empty(),0)}static newUnknownDocument(e,n){return new rt(e,3,n,te.min(),te.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Go{constructor(e,n){this.position=e,this.inclusive=n}}function jB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?K.comparator(K.fromName(s.referenceValue),n.key):Ho(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function BB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ele(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $B{}class be extends $B{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new wle(e,n,r):"array-contains"===n?new ble(e,r):"in"===n?new KB(e,r):"not-in"===n?new Dle(e,r):"array-contains-any"===n?new Ale(e,r):new be(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Tle(e,r):new Cle(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ho(n,this.value)):null!==n&&$o(this.value)===$o(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Be extends $B{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Be(e,n)}matches(e){return Xu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xu(t){return"and"===t.op}function MD(t){return function HB(t){for(const e of t.filters)if(e instanceof Be)return!1;return!0}(t)&&Xu(t)}function xD(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+Ju(t.value);if(MD(t))return t.filters.map(e=>xD(e)).join(",");{const e=t.filters.map(n=>xD(n)).join(",");return`${t.op}(${e})`}}function GB(t,e){return t instanceof be?(r=t,(i=e)instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)):t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&GB(s,i.filters[a]),!0)}(t,e):void J();var r,i}function zB(t){return t instanceof be?`${(n=t).field.canonicalString()} ${n.op} ${Ju(n.value)}`:t instanceof Be?function(n){return n.op.toString()+" {"+n.getFilters().map(zB).join(" ,")+"}"}(t):"Filter";var n}class wle extends be{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tle extends be{constructor(e,n){super(e,"in",n),this.keys=WB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cle extends be{constructor(e,n){super(e,"not-in",n),this.keys=WB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class ble extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yh(n)&&_h(n.arrayValue,this.value)}}class KB extends be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_h(this.value.arrayValue,n)}}class Dle extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_h(this.value.arrayValue,n)}}class Ale extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_h(this.value.arrayValue,r))}}class Sle{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function ND(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Sle(t,e,n,r,i,o,s)}function ea(t){const e=z(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ju(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ju(r)).join(",")),e.ue=n}return e.ue}function Eh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ele(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BB(t.startAt,e.startAt)&&BB(t.endAt,e.endAt)}function s_(t){return K.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ki{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function Zu(t){return new Ki(t)}function XB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ec(t){const e=z(t);if(null===e.ce){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new He(lt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ih(o,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new Ih(lt.keyField(),r))}return e.ce}function In(t){const e=z(t);return e.le||(e.le=function e$(t,e){if("F"===t.limitType)return ND(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Ih(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Go(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Go(t.startAt.position,t.startAt.inclusive):null;return ND(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ec(t))),e.le}function u_(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return Eh(In(t),In(e))&&t.limitType===e.limitType}function t$(t){return`${ea(In(t))}|lt:${t.limitType}`}function tc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zB(i)).join(", ")}]`),ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ju(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ju(i)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function Th(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ec(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,u){const c=jB(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,ec(r),i)||r.endAt&&!function(s,a,u){const c=jB(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,ec(r),i)));var r,i}function r$(t){return(e,n)=>{let r=!1;for(const i of ec(t)){const o=Rle(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Rle(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?Ho(u,c):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}class Qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SB(this.inner)}size(){return this.innerSize}}const Ple=new Ze(K.comparator);function Wn(){return Ple}const i$=new Ze(K.comparator);function Ch(...t){let e=i$;for(const n of t)e=e.insert(n.key,n);return e}function o$(t){let e=i$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return bh()}function s$(){return bh()}function bh(){return new Qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mle=new Ze(K.comparator),xle=new He(K.comparator);function ge(...t){let e=xle;for(const n of t)e=e.add(n);return e}const Nle=new He(le);function VD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function a$(t){return{integerValue:""+t}}function u$(t,e){return function vB(t){return"number"==typeof t&&Number.isInteger(t)&&!gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?a$(e):VD(t,e)}class c_{constructor(){this._=void 0}}function Ole(t,e,n){return t instanceof nc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&e_(o)&&(o=t_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ta?l$(t,e):t instanceof na?d$(t,e):function(i,o){const s=c$(i,o),a=h$(s)+h$(i.Pe);return RD(s)&&RD(i.Pe)?a$(a):VD(i.serializer,a)}(t,e)}function kle(t,e,n){return t instanceof ta?l$(t,e):t instanceof na?d$(t,e):n}function c$(t,e){return t instanceof rc?RD(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class nc extends c_{}class ta extends c_{constructor(e){super(),this.elements=e}}function l$(t,e){const n=f$(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class na extends c_{constructor(e){super(),this.elements=e}}function d$(t,e){let n=f$(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class rc extends c_{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function h$(t){return dt(t.integerValue||t.doubleValue)}function f$(t){return yh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Vle{constructor(e,n){this.version=e,this.transformResults=n}}class ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function l_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class d_{}function p$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new oc(t.key,ht.none()):new ic(t.key,t.data,ht.none());{const n=t.data,r=un.empty();let i=new He(lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Yi(t.key,r,new zn(i.toArray()),ht.none())}}function Lle(t,e,n){t instanceof ic?function(i,o,s){const a=i.value.clone(),u=_$(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(i,o,s){if(!l_(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=_$(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(m$(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ah(t,e,n,r){return t instanceof ic?function(o,s,a,u){if(!l_(o.precondition,s))return a;const c=o.value.clone(),d=y$(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(o,s,a,u){if(!l_(o.precondition,s))return a;const c=y$(o.fieldTransforms,u,s),d=s.data;return d.setAll(m$(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):(a=n,l_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Ule(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=c$(r.transform,i||null);null!=o&&(null===n&&(n=un.empty()),n.set(r.field,o))}return n||null}function g$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Wu(r,i,(o,s)=>function Fle(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ta&&i instanceof ta||r instanceof na&&i instanceof na?Wu(r.elements,i.elements,mi):r instanceof rc&&i instanceof rc?mi(r.Pe,i.Pe):r instanceof nc&&i instanceof nc);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class ic extends d_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends d_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function m$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _$(t,e,n){const r=new Map;X(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,kle(s,a,n[i]))}return r}function y$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Ole(o,s,e))}return r}class oc extends d_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LD extends d_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Lle(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ah(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ah(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=s$();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=p$(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,(n,r)=>g$(n,r))&&Wu(this.baseMutations,e.baseMutations,(n,r)=>g$(n,r))}}class jD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length);let i=function(){return Mle}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new jD(e,n,r,i)}}class BD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jle{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,Pe;function E$(t){if(void 0===t)return Dt("GRPC error has no .code"),N.UNKNOWN;switch(t){case kt.OK:return N.OK;case kt.CANCELLED:return N.CANCELLED;case kt.UNKNOWN:return N.UNKNOWN;case kt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case kt.INTERNAL:return N.INTERNAL;case kt.UNAVAILABLE:return N.UNAVAILABLE;case kt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case kt.NOT_FOUND:return N.NOT_FOUND;case kt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case kt.ABORTED:return N.ABORTED;case kt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case kt.DATA_LOSS:return N.DATA_LOSS;default:return J()}}(Pe=kt||(kt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";const Ble=new Ks([4294967295,4294967295],0);function T$(t){const e=function w$(){return new TextEncoder}().encode(t),n=new nB;return n.update(e),new Uint8Array(n.digest())}function C$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,o],0)]}class $D{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sh(`Invalid padding: ${n}`);if(r<0)throw new Sh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Sh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ks.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return 1===i.compare(Ble)&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=T$(e),[r,i]=C$(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new $D(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const n=T$(e),[r,i]=C$(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rh(te.min(),i,new Ze(le),Wn(),ge())}}class Ph{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ph(r,n,ge(),ge(),ge())}}class f_{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class b${constructor(e,n){this.targetId=e,this.me=n}}class D${constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class A${constructor(){this.fe=0,this.ge=R$(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Ph(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=R$()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,X(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $le{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wn(),this.qe=S$(),this.Qe=new Ze(le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(s_(o))if(0===r){const s=new K(o.path);this.Ue(n,s,rt.newNoDocument(s,te.min()))}else X(1===r);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(n),this.Qe=this.Qe.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Wi(r).toUint8Array()}catch(u){if(u instanceof PB)return Tr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new $D(s,i,o)}catch(u){return Tr(u instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&s_(a.target)){const u=new K(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,rt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Rh(e,n,this.Qe,this.ke,r);return this.ke=Wn(),this.qe=S$(),this.Qe=new Ze(le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new A$,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new He(le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new A$),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function S$(){return new Ze(K.comparator)}function R$(){return new Ze(K.comparator)}const Hle={asc:"ASCENDING",desc:"DESCENDING"},Gle={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qle={and:"AND",or:"OR"};class zle{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function HD(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wle(t,e){return sc(t,e.toTimestamp())}function At(t){return X(!!t),te.fromTimestamp(function(n){const r=zi(n);return new ct(r.seconds,r.nanos)}(t))}function GD(t,e){return qD(t,e).canonicalString()}function qD(t,e){const n=(i=t,new Ce(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function M$(t){const e=Ce.fromString(t);return X($$(e)),e}function Mh(t,e){return GD(t.databaseId,e.path)}function yi(t,e){const n=M$(e);if(n.get(1)!==t.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(O$(n))}function x$(t,e){return GD(t.databaseId,e)}function zD(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O$(t){return X(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function k$(t,e,n){return{name:Mh(t,e),fields:n.value.mapValue.fields}}function V$(t,e){return{documents:[x$(t,e.path)]}}function p_(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=x$(t,i);const o=function(c){if(0!==c.length)return B$(Be.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:qo((p=d).field),direction:Xle(p.dir)};var p})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=HD(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i};var c}function U$(t){let e=function N$(t){const e=M$(t);return 4===e.length?Ce.emptyPath():O$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X(1===r);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=j$(h);return p instanceof Be&&MD(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(p=>{return new Ih(ac((_=p).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let a=null;n.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,ph(p)?null:p}(n.limit));let u=null;var h;n.startAt&&(u=new Go((h=n.startAt).values||[],!!h.before));let c=null;return n.endAt&&(c=function(h){return new Go(h.values||[],!h.before)}(n.endAt)),function JB(t,e,n,r,i,o,s,a){return new Ki(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function j$(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ac(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ac(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ac(n.unaryFilter.field);return be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ac(n.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):void 0!==t.fieldFilter?be.create(ac((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Be.create(n.compositeFilter.filters.map(r=>j$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J();var n}function Xle(t){return Hle[t]}function Zle(t){return Gle[t]}function ede(t){return qle[t]}function qo(t){return{fieldPath:t.canonicalString()}}function ac(t){return lt.fromServerFormat(t.fieldPath)}function B$(t){return t instanceof be?function(n){if("=="===n.op){if(OB(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(NB(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(OB(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(NB(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:Zle(n.op),value:n.value}}}(t):t instanceof Be?function(n){const r=n.getFilters().map(i=>B$(i));return 1===r.length?r[0]:{compositeFilter:{op:ede(n.op),filters:r}}}(t):J()}function tde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ji{constructor(e,n,r,i,o=te.min(),s=te.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H${constructor(e){this.ct=e}}function KD(t){const e=U$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?u_(e,e.limit,"L"):e}class sa{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),gh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),"string"==typeof r&&(r=zi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Wi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?kB(e)?this.dt(n,Number.MAX_SAFE_INTEGER):o_(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):J()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(n,15),n.At(dt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),K.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}sa.vt=new sa;class lde{constructor(){this.un=new eA}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ur.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class eA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Ce.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Ce.comparator)).toArray()}}new Uint8Array(0);const iH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class En{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class ua{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ua(0)}static kn(){return new ua(-1)}}function cH([t,e],[n,r]){const i=le(t,n);return 0===i?le(e,r):i}class fde{constructor(e){this.Un=e,this.buffer=new He(cH),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var n=this;U("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,I(function*(){n.jn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Uo(r)?U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Lo(r)}yield n.Hn(3e5)}))}}class pde{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return M.resolve(cr.oe);const r=new fde(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(iH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iH):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),zu()<=Te.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(u-a)+`ms\n\tRemoved ${h} documents in `+(c-u)+`ms\nTotal Duration: ${c-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}class hH{constructor(){this.changes=new Qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _H{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ah(r.mutation,i,zn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ch();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Wn();const s=bh(),a=bh();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof Yi)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),Ah(d.mutation,c,d.mutation.getFieldMask(),ct.now())):s.set(c.key,zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new yde(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bh();let i=new Ze((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let d=r.get(u)||zn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=s$();d.forEach(p=>{if(!o.has(p)){const g=p$(n.get(p),r.get(p));null!==g&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return K.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function OD(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(_i());let a=-1,u=o;return s.next(c=>M.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ge())).next(d=>({batchId:a,changes:o$(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ch();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{const c=(h=n,p=u.child(o),new Ki(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,rt.newInvalidDocument(d)))});let a=Ch();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&Ah(d.mutation,c,zn.empty(),ct.now()),Th(n,c)&&(a=a.insert(u,c))}),a})}}class vde{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,{id:(i=n).id,version:i.version,createTime:At(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,{name:(i=n).name,query:KD(i.bundledQuery),readTime:At(i.readTime)}),M.resolve();var i}}class Ide{constructor(){this.overlays=new Ze(K.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=_i(),o=n.length+1,s=new K(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ze((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=_i(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=_i(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new BD(n,r));let o=this.Ir.get(n);void 0===o&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}class Ede{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}class tA{constructor(){this.Tr=new He(Zt.Er),this.dr=new He(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Zt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new Ce([])),r=new Zt(n,e),i=new Zt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new Ce([])),r=new Zt(n,e),i=new Zt(n,e+1);let o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Zt(e,0),r=this.Tr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||le(e.wr,n.wr)}static Ar(e,n){return le(e.wr,n.wr)||K.comparator(e.key,n.key)}}class wde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new He(Zt.Er)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++;const s=new UD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Zt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.vr(n+1),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),i=new Zt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(le);return n.forEach(i=>{const o=new Zt(i,0),s=new Zt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const s=new Zt(new K(o),0);let a=new He(le);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),M.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){X(0===this.Fr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{const o=new Zt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Zt(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Tde{constructor(e){this.Mr=e,this.docs=new Ze(K.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():rt.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Wn();const s=n.path,a=new K(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||TD(new ur((t=d).readTime,t.key,-1),r)<=0||(i.has(d.key)||Th(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}var t;return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){J()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cde(this)}getSize(e){return M.resolve(this.size)}}class Cde extends hH{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class bde{constructor(e){this.persistence=e,this.Nr=new Qi(n=>ea(n),Eh),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tA,this.targetCount=0,this.kr=ua.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}class nA{constructor(e,n){this.qr={},this.overlays={},this.Qr=new cr(0),this.Kr=!1,this.Kr=!0,this.$r=new Ede,this.referenceDelegate=e(this),this.Ur=new bde(this),this.indexManager=new lde,this.remoteDocumentCache=new Tde(r=>this.referenceDelegate.Wr(r)),this.serializer=new H$(n),this.Gr=new vde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ide,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new wde(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new Dde(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Dde extends mB{constructor(e){super(),this.currentSequenceNumber=e}}class w_{constructor(e){this.persistence=e,this.Jr=new tA,this.Yr=null}static Zr(e){return new w_(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class T_{constructor(e,n){this.persistence=e,this.ti=new Qi(r=>function vn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IB(e)),e=Xce(t.get(n),e);return IB(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function dH(t,e){return new pde(t,e)}(this,n)}static Zr(e,n){return new T_(e,n)}zr(){}jr(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return M.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,s=>this.nr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),M.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=r_(e.data.value)),n}nr(e,n,r){return M.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return M.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new sA(e,n.fromCache,r,i)}}class Sde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function TU(){return!function Ioe(){var t;const e=null===(t=Sm())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function _B(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(Ct())>0?6:4}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Sde;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(zu()<=Te.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",tc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(zu()<=Te.DEBUG&&U("QueryEngine","Query:",tc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(zu()<=Te.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",tc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):M.resolve())}Yi(e,n){if(XB(n))return M.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=u_(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,s,u.readTime)?this.Yi(e,u_(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return XB(n)||i.isEqual(te.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?M.resolve(null):(zu()<=Te.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tc(n)),this.rs(e,s,n,function fB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(1e9===r?new ct(n+1,0):new ct(n,r));return new ur(i,K.empty(),e)}(i,-1)).next(a=>a))})}ts(e,n){let r=new He(r$(e));return n.forEach((i,o)=>{Th(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return zu()<=Te.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",tc(n)),this.Ji.getDocumentsMatchingQuery(e,n,ur.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Rde{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ze(le),this._s=new Qi(o=>ea(o),Eh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _H(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function EH(t,e){return aA.apply(this,arguments)}function aA(){return(aA=I(function*(t,e){const n=z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=ge();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function wH(t){const e=z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function xde(t,e){const n=z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fc(t,e,n){return uA.apply(this,arguments)}function uA(){return(uA=I(function*(t,e,n){const r=z(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Uo(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})).apply(this,arguments)}function b_(t,e,n){const r=z(t);let i=te.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=z(u),p=h._s.get(d);return void 0!==p?M.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,s,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:ge())).next(a=>(function DH(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}(r,function n$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ts:o})))}class fA{constructor(){this.activeTargetIds=function FD(){return Nle}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RH{constructor(){this.so=new fA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kde{_o(e){}shutdown(){}}class PH{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let S_=null;function gA(){return null===S_?S_=268435456+Math.round(2147483648*Math.random()):S_++,"0x"+S_.toString(16)}const Fde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vde{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const wn="WebChannelConnection";class Lde extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=gA(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(d=>(U("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Tr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+qu,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){return`${this.Do}/v1/${r}:${Fde[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=gA();return new Promise((s,a)=>{const u=new rB;u.setWithCredentials(!0),u.listenOnce(iB.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ym.NO_ERROR:const d=u.getResponseJson();U(wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ym.TIMEOUT:U(wn,`RPC '${e}' ${o} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const h=u.getStatus();if(U(wn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const _=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(A)>=0?A:N.UNKNOWN}(g.status);a(new j(_,g.message))}else a(new j(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{U(wn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);U(wn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=gA(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aB(),a=sB(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");U(wn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,g=!1;const _=new Vde({Io:E=>{g?U(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(U(wn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),U(wn,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),v=(E,A,D)=>{E.listen(A,F=>{try{D(F)}catch($){setTimeout(()=>{throw $},0)}})};return v(h,dh.EventType.OPEN,()=>{g||(U(wn,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),v(h,dh.EventType.CLOSE,()=>{g||(g=!0,U(wn,`RPC '${e}' stream ${i} transport closed`),_.So())}),v(h,dh.EventType.ERROR,E=>{g||(g=!0,Tr(wn,`RPC '${e}' stream ${i} transport errored:`,E),_.So(new j(N.UNAVAILABLE,"The operation could not be completed")))}),v(h,dh.EventType.MESSAGE,E=>{var A;if(!g){const D=E.data[0];X(!!D);const $=D.error||(null===(A=D[0])||void 0===A?void 0:A.error);if($){U(wn,`RPC '${e}' stream ${i} received error:`,$);const Q=$.status;let Y=function(T){const S=kt[T];if(void 0!==S)return E$(S)}(Q),b=$.message;void 0===Y&&(Y=N.INTERNAL,b="Unknown error status: "+Q+" with message "+$.message),g=!0,_.So(new j(Y,b)),h.close()}else U(wn,`RPC '${e}' stream ${i} received:`,D),_.bo(D)}}),v(a,oB.STAT_EVENT,E=>{E.stat===ID.PROXY?U(wn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ID.NOPROXY&&U(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function R_(){return typeof document<"u"?document:null}function jh(t){return new zle(t,!0)}class mA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class xH{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new mA(e,n)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return I(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return I(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){var r=this;return I(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Dt(n.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(n)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go(I(function*(){e.state=0,e.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ude extends xH{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=function Qle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:J(),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(X(void 0===d||"string"==typeof d),_t.fromBase64String(d||"")):(X(void 0===d||d instanceof Buffer||d instanceof Uint8Array),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?N.UNKNOWN:E$(c.code);return new j(d,c.message||"")}(s);n=new D$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=yi(t,r.document.name),o=At(r.document.updateTime),s=r.document.createTime?At(r.document.createTime):te.min(),a=new un({mapValue:{fields:r.document.fields}}),u=rt.newFoundDocument(i,o,s,a);n=new f_(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=yi(t,r.document),o=r.readTime?At(r.readTime):te.min(),s=rt.newNoDocument(i,o);n=new f_([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=yi(t,r.document);n=new f_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return J();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new jle(i,o);n=new b$(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?At(s.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zD(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=s_(u)?{documents:V$(o,u)}:{query:p_(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=P$(o,s.resumeToken);const c=HD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=sc(o,s.snapshotVersion.toTimestamp());const c=HD(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Jle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zD(this.serializer),n.removeTarget=e,this.a_(n)}}class jde extends xH{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return X(!!e.streamToken),this.lastStreamToken=e.streamToken,X(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=function Yle(t,e){return t&&t.length>0?(X(void 0!==e),t.map(n=>function(i,o){let s=At(i.updateTime?i.updateTime:o);return s.isEqual(te.min())&&(s=At(o)),new Vle(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=At(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zD(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function xh(t,e){let n;if(e instanceof ic)n={update:k$(t,e.key,e.value)};else if(e instanceof oc)n={delete:Mh(t,e.key)};else if(e instanceof Yi)n={update:k$(t,e.key,e.data),updateMask:tde(e.fieldMask)};else{if(!(e instanceof LD))return J();n={verify:Mh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ta)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof na)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Wle(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:J()),n;var o}(this.serializer,r))};this.a_(n)}}class Bde extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,qD(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,qD(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $de{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Dt(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Hde{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(I(function*(){var u;Qo(s)&&(U("RemoteStore","Restarting streams for network reachability change."),yield(u=I(function*(d){const h=z(d);h.L_.add(4),yield pc(h),h.q_.set("Unknown"),h.L_.delete(4),yield Bh(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.q_=new $de(r,i)}}function Bh(t){return _A.apply(this,arguments)}function _A(){return(_A=I(function*(t){if(Qo(t))for(const e of t.B_)yield e(!0)})).apply(this,arguments)}function pc(t){return yA.apply(this,arguments)}function yA(){return(yA=I(function*(t){for(const e of t.B_)yield e(!1)})).apply(this,arguments)}function P_(t,e){const n=z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),EA(n)?IA(n):_c(n).r_()&&vA(n,e))}function gc(t,e){const n=z(t),r=_c(n);n.N_.delete(e),r.r_()&&NH(n,e),0===n.N_.size&&(r.r_()?r.o_():Qo(n)&&n.q_.set("Unknown"))}function vA(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).A_(e)}function NH(t,e){t.Q_.xe(e),_c(t).R_(e)}function IA(t){t.Q_=new $le({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.q_.v_()}function EA(t){return Qo(t)&&!_c(t).n_()&&t.N_.size>0}function Qo(t){return 0===z(t).L_.size}function OH(t){t.Q_=void 0}function Gde(t){return wA.apply(this,arguments)}function wA(){return(wA=I(function*(t){t.q_.set("Online")})).apply(this,arguments)}function qde(t){return TA.apply(this,arguments)}function TA(){return(TA=I(function*(t){t.N_.forEach((e,n)=>{vA(t,e)})})).apply(this,arguments)}function zde(t,e){return CA.apply(this,arguments)}function CA(){return(CA=I(function*(t,e){OH(t),EA(t)?(t.q_.M_(e),IA(t)):t.q_.set("Unknown")})).apply(this,arguments)}function Wde(t,e,n){return bA.apply(this,arguments)}function bA(){return bA=I(function*(t,e,n){if(t.q_.set("Online"),e instanceof D$&&2===e.state&&e.cause)try{yield(r=I(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.N_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.N_.delete(u),o.Q_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield M_(t,r)}else if(e instanceof f_?t.Q_.Ke(e):e instanceof b$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const r=yield wH(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.N_.get(u);if(!d)return;o.N_.set(u,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),NH(o,u);const h=new Ji(d.target,u,c,d.sequenceNumber);vA(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield M_(t,r)}var r}),bA.apply(this,arguments)}function M_(t,e,n){return DA.apply(this,arguments)}function DA(){return(DA=I(function*(t,e,n){if(!Uo(e))throw e;t.L_.add(1),yield pc(t),t.q_.set("Offline"),n||(n=()=>wH(t.localStore)),t.asyncQueue.enqueueRetryable(I(function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Bh(t)}))})).apply(this,arguments)}function kH(t,e){return e().catch(n=>M_(t,n,e))}function mc(t){return AA.apply(this,arguments)}function AA(){return(AA=I(function*(t){const e=z(t),n=Yo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kde(e);)try{const i=yield xde(e.localStore,r);if(null===i){0===e.O_.length&&n.o_();break}r=i.batchId,Qde(e,i)}catch(i){yield M_(e,i)}FH(e)&&VH(e)})).apply(this,arguments)}function Kde(t){return Qo(t)&&t.O_.length<10}function Qde(t,e){t.O_.push(e);const n=Yo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FH(t){return Qo(t)&&!Yo(t).n_()&&t.O_.length>0}function VH(t){Yo(t).start()}function Yde(t){return SA.apply(this,arguments)}function SA(){return(SA=I(function*(t){Yo(t).p_()})).apply(this,arguments)}function Jde(t){return RA.apply(this,arguments)}function RA(){return(RA=I(function*(t){const e=Yo(t);for(const n of t.O_)e.m_(n.mutations)})).apply(this,arguments)}function Xde(t,e,n){return PA.apply(this,arguments)}function PA(){return(PA=I(function*(t,e,n){const r=t.O_.shift(),i=jD.from(r,e,n);yield kH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mc(t)})).apply(this,arguments)}function Zde(t,e){return MA.apply(this,arguments)}function MA(){return MA=I(function*(t,e){var n;e&&Yo(t).V_&&(yield(n=I(function*(i,o){if(function I$(t){switch(t){default:return J();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(a=o.code)&&a!==N.ABORTED){const s=i.O_.shift();Yo(i).s_(),yield kH(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield mc(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),FH(t)&&VH(t)}),MA.apply(this,arguments)}function LH(t,e){return xA.apply(this,arguments)}function xA(){return(xA=I(function*(t,e){const n=z(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Qo(n);n.L_.add(3),yield pc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Bh(n)})).apply(this,arguments)}function NA(t,e){return OA.apply(this,arguments)}function OA(){return(OA=I(function*(t,e){const n=z(t);e?(n.L_.delete(2),yield Bh(n)):e||(n.L_.add(2),yield pc(n),n.q_.set("Unknown"))})).apply(this,arguments)}function _c(t){return t.K_||(t.K_=function(n,r,i){const o=z(n);return o.w_(),new Ude(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Gde.bind(null,t),Ro:qde.bind(null,t),mo:zde.bind(null,t),d_:Wde.bind(null,t)}),t.B_.push(function(){var e=I(function*(n){n?(t.K_.s_(),EA(t)?IA(t):t.q_.set("Unknown")):(yield t.K_.stop(),OH(t))});return function(n){return e.apply(this,arguments)}}())),t.K_}function Yo(t){return t.U_||(t.U_=function(n,r,i){const o=z(n);return o.w_(),new jde(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Yde.bind(null,t),mo:Zde.bind(null,t),f_:Jde.bind(null,t),g_:Xde.bind(null,t)}),t.B_.push(function(){var e=I(function*(n){n?(t.U_.s_(),yield mc(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))});return function(n){return e.apply(this,arguments)}}())),t.U_}class kA{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new kA(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(t,e){if(Dt("AsyncQueue",`${e}: ${t}`),Uo(t))return new j(N.UNAVAILABLE,`${e}: ${t}`);throw t}class vc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new vc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class UH{constructor(){this.W_=new Ze(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(n,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(n):1===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ic{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ic(e,n,vc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ehe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class the{constructor(){this.queries=jH(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(n,r){const i=z(n),o=i.queries;i.queries=jH(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})}(this,new j(N.ABORTED,"Firestore shutting down"))}}function jH(){return new Qi(t=>t$(t),wh)}function FA(t,e){return VA.apply(this,arguments)}function VA(){return(VA=I(function*(t,e){const n=z(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new ehe,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){const a=yc(s,`Initialization of query '${tc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&jA(n)})).apply(this,arguments)}function LA(t,e){return UA.apply(this,arguments)}function UA(){return(UA=I(function*(t,e){const n=z(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function nhe(t,e){const n=z(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&jA(n)}function rhe(t,e,n){const r=z(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function jA(t){t.Y_.forEach(e=>{e.next()})}var BA,BH;(BH=BA||(BA={})).ea="default",BH.Cache="cache";class $A{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==BA.Cache}}class GH{constructor(e){this.key=e}}class qH{constructor(e){this.key=e}}class zH{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=r$(e),this.Ra=new vc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new UH,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=Th(this.query,h)?h:null,_=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),E=!0):this.ga(p,g)||(r.track({type:2,doc:g}),E=!0,(u&&this.Aa(g,u)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(a=!0)),E&&(g?(s=s.add(g),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(g,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return v(g)-v(_)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=null!=i&&i;const a=n&&!i?this.ya():[],u=0===this.da.size&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,0!==s.length||c?{snapshot:new Ic(this.query,e.Ra,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new UH,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new qH(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GH(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class she{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ahe{constructor(e){this.key=e,this.va=!1}}class uhe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Qi(a=>t$(a),wh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(K.comparator),this.Na=new Map,this.La=new tA,this.Ba={},this.ka=new Map,this.qa=ua.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function che(t,e){return HA.apply(this,arguments)}function HA(){return(HA=I(function*(t,e,n=!0){const r=x_(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield WH(r,e,n,!0),i})).apply(this,arguments)}function lhe(t,e){return GA.apply(this,arguments)}function GA(){return(GA=I(function*(t,e){const n=x_(t);yield WH(n,e,!0,!1)})).apply(this,arguments)}function WH(t,e,n,r){return qA.apply(this,arguments)}function qA(){return(qA=I(function*(t,e,n,r){const i=yield function hc(t,e){const n=z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Ji(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}(t.localStore,In(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=yield function zA(t,e,n,r,i){return WA.apply(this,arguments)}(t,e,o,"current"===s,i.resumeToken)),t.isPrimaryClient&&n&&P_(t.remoteStore,i),a})).apply(this,arguments)}function WA(){return WA=I(function*(t,e,n,r,i){t.Ka=(h,p,g)=>{return(_=I(function*(E,A,D,F){let $=A.view.ma(D);$.ns&&($=yield b_(E.localStore,A.query,!1).then(({documents:w})=>A.view.ma(w,$)));const Q=F&&F.targetChanges.get(A.targetId),Y=F&&null!=F.targetMismatches.get(A.targetId),b=A.view.applyChanges($,E.isPrimaryClient,Q,Y);return iS(E,A.targetId,b.wa),b.snapshot}),function v(E,A,D,F){return _.apply(this,arguments)})(t,h,p,g);var _};const o=yield b_(t.localStore,e,!0),s=new zH(e,o.Ts),a=s.ma(o.documents),u=Ph.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);iS(t,n,c.wa);const d=new she(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}),WA.apply(this,arguments)}function dhe(t,e,n){return KA.apply(this,arguments)}function KA(){return(KA=I(function*(t,e,n){const r=z(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!wh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gc(r.remoteStore,i.targetId),Ec(r,i.targetId)}).catch(Lo))):(Ec(r,i.targetId),yield fc(r.localStore,i.targetId,!0))})).apply(this,arguments)}function hhe(t,e){return QA.apply(this,arguments)}function QA(){return(QA=I(function*(t,e){const n=z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gc(n.remoteStore,r.targetId))})).apply(this,arguments)}function YA(){return(YA=I(function*(t,e,n){const r=function gS(t){const e=z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ghe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mhe.bind(null,e),e}(t);try{const i=yield function(s,a){const u=z(s),c=ct.now(),d=a.reduce((g,_)=>g.add(_.key),ge());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Wn(),v=ge();return u.cs.getEntries(g,d).next(E=>{_=E,_.forEach((A,D)=>{D.isValidDocument()||(v=v.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,_)).next(E=>{h=E;const A=[];for(const D of a){const F=Ule(D,h.get(D.key).overlayedDocument);null!=F&&A.push(new Yi(D.key,F,UB(F.value.mapValue),ht.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,A,a)}).next(E=>{p=E;const A=E.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(g,E.batchId,A)})}).then(()=>({batchId:p.batchId,changes:o$(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new Ze(le)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),yield Xi(r,i.changes),yield mc(r.remoteStore)}catch(i){const o=yc(i,"Failed to persist write");n.reject(o)}})).apply(this,arguments)}function KH(t,e){return JA.apply(this,arguments)}function JA(){return(JA=I(function*(t,e){const n=z(t);try{const r=yield function Mde(t,e){const n=z(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);var v,E,A;null!==e.targetMismatches.get(h)?g=g.withResumeToken(_t.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),E=g,A=d,(0===(v=p).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8||A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(o,g))});let u=Wn(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function TH(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Wn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(te.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?X(s.va):i.removedDocuments.size>0&&(X(s.va),s.va=!1))}),yield Xi(n,r,e)}catch(r){yield Lo(r)}})).apply(this,arguments)}function QH(t,e,n){const r=z(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=z(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&jA(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function phe(t,e,n){return XA.apply(this,arguments)}function XA(){return(XA=I(function*(t,e,n){const r=z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ze(K.comparator);s=s.insert(o,rt.newNoDocument(o,te.min()));const a=ge().add(o),u=new Rh(te.min(),new Map,new Ze(le),s,a);yield KH(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),oS(r)}else yield fc(r.localStore,e,!1).then(()=>Ec(r,e,n)).catch(Lo)})).apply(this,arguments)}function ghe(t,e){return ZA.apply(this,arguments)}function ZA(){return(ZA=I(function*(t,e){const n=z(t),r=e.batch.batchId;try{const i=yield function Pde(t,e){const n=z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let g=M.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(u,_)).next(v=>{const E=c.docVersions.get(_);X(null!==E),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);rS(n,r,null),nS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xi(n,i)}catch(i){yield Lo(i)}})).apply(this,arguments)}function mhe(t,e,n){return eS.apply(this,arguments)}function eS(){return(eS=I(function*(t,e,n){const r=z(t);try{const i=yield function(s,a){const u=z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(X(null!==h),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);rS(r,e,n),nS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xi(r,i)}catch(i){yield Lo(i)}})).apply(this,arguments)}function nS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function rS(t,e,n){const r=z(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ec(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YH(t,r)})}function YH(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(gc(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),oS(t))}function iS(t,e,n){for(const r of n)r instanceof GH?(t.La.addReference(r.key,e),yhe(t,r)):r instanceof qH?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YH(t,r.key)):J()}function yhe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),oS(t))}function oS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(Ce.fromString(e)),r=t.qa.next();t.Na.set(r,new ahe(n)),t.Oa=t.Oa.insert(n,r),P_(t.remoteStore,new Ji(In(Zu(n.path)),r,"TargetPurposeLimboResolution",cr.oe))}}function Xi(t,e,n){return sS.apply(this,arguments)}function sS(){return sS=I(function*(t,e,n){const r=z(t),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=n?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=sA.Wi(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=I(function*(c,d){const h=z(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(d,g=>M.forEach(g.$i,_=>h.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>M.forEach(g.Ui,_=>h.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Uo(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const _=h.os.get(g),E=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);h.os=h.os.insert(g,E)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),sS.apply(this,arguments)}function vhe(t,e){return aS.apply(this,arguments)}function aS(){return(aS=I(function*(t,e){const n=z(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=yield EH(n.localStore,e);n.currentUser=e,(o=n).ka.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xi(n,r.hs)}var o})).apply(this,arguments)}function Ihe(t,e){const n=z(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function x_(t){const e=z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ihe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=phe.bind(null,e),e.Ca.d_=nhe.bind(null,e.eventManager),e.Ca.$a=rhe.bind(null,e.eventManager),e}let N_=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return I(function*(){r.serializer=jh(n.databaseInfo.databaseId),r.sharedClientState=r.Wa(n),r.persistence=r.Ga(n),yield r.persistence.start(),r.localStore=r.za(n),r.gcScheduler=r.ja(n,r.localStore),r.indexBackfillerScheduler=r.Ha(n,r.localStore)})()}ja(n,r){return null}Ha(n,r){return null}za(n){return function IH(t,e,n,r){return new Rde(t,e,n,r)}(this.persistence,new vH,n.initialUser,this.serializer)}Ga(n){return new nA(w_.Zr,this.serializer)}Wa(n){return new RH}terminate(){var n=this;return I(function*(){var r,i;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(i=n.indexBackfillerScheduler)||void 0===i||i.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})();class mS extends N_{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){return X(this.persistence.referenceDelegate instanceof T_),new lH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Ga(e){const n=void 0!==this.cacheSizeBytes?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new nA(r=>T_.Zr(r,n),this.serializer)}}let wc=(()=>{class t{initialize(n,r){var i=this;return I(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>QH(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=vhe.bind(null,i.syncEngine),yield NA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new the}createDatastore(n){const r=jh(n.databaseInfo.databaseId),i=new Lde(n.databaseInfo);return new Bde(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return i=this.localStore,o=this.datastore,s=n.asyncQueue,a=r=>QH(this.syncEngine,r,0),u=PH.D()?new PH:new kde,new Hde(i,o,s,a,u);var i,o,s,a,u}createSyncEngine(n,r){return function(o,s,a,u,c,d,h){const p=new uhe(o,s,a,u,c,d);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return I(function*(){var r,i,o;yield(o=I(function*(a){const u=z(a);U("RemoteStore","RemoteStore shutting down."),u.L_.add(5),yield pc(u),u.k_.shutdown(),u.q_.set("Unknown")}),function s(a){return o.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(i=n.eventManager)||void 0===i||i.terminate()})()}}return t.provider={build:()=>new t},t})();class O_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Dt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}class xhe{constructor(e,n,r,i,o){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=dB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,function(){var a=I(function*(u){U("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(U("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(I(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=yc(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function yS(t,e){return vS.apply(this,arguments)}function vS(){return vS=I(function*(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=I(function*(o){r.isEqual(o)||(yield EH(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),vS.apply(this,arguments)}function tG(t,e){return IS.apply(this,arguments)}function IS(){return(IS=I(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ES(t){return wS.apply(this,arguments)}(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LH(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LH(e.remoteStore,i)),t._onlineComponents=e})).apply(this,arguments)}function wS(){return(wS=I(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yS(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;Tr("Error using user provided cache. Falling back to memory cache: "+e),yield yS(t,new N_)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield yS(t,new mS(void 0));var i;return t._offlineComponents})).apply(this,arguments)}function k_(t){return TS.apply(this,arguments)}function TS(){return(TS=I(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield tG(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield tG(t,new wc))),t._onlineComponents})).apply(this,arguments)}function Cc(t){return bS.apply(this,arguments)}function bS(){return(bS=I(function*(t){const e=yield k_(t),n=e.eventManager;return n.onListen=che.bind(null,e.syncEngine),n.onUnlisten=dhe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hhe.bind(null,e.syncEngine),n})).apply(this,arguments)}function aG(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const uG=new Map;function DS(t,e,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cG(t){if(!K.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lG(t){if(K.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":J()}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=F_(t);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class hG{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ghe(t,e,n,r){if(!0===e&&!0===r)throw new j(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=aG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hG({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hG(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Lce;switch(r.type){case"firstParty":return new $ce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return I(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uG.get(n);r&&(U("ComponentProvider","Removing Datastore"),uG.delete(n),r.terminate())}(this),Promise.resolve()}}class cn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cn(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class vi extends cn{constructor(e,n,r){super(e,n,Zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new K(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function V_(t,e,...n){if(t=gt(t),DS("collection","path",e),t instanceof $h){const r=Ce.fromString(e,...n);return lG(r),new vi(t,null,r)}{if(!(t instanceof St||t instanceof vi))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return lG(r),new vi(t.firestore,null,r)}}function AS(t,e,...n){if(t=gt(t),1===arguments.length&&(e=dB.newId()),DS("doc","path",e),t instanceof $h){const r=Ce.fromString(e,...n);return cG(r),new St(t,null,new K(r))}{if(!(t instanceof St||t instanceof vi))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return cG(r),new St(t.firestore,t instanceof vi?t.converter:null,new K(r))}}class pG{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new mA(this,"async_queue_retry"),this.Vu=()=>{const r=R_();r&&U("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=R_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=R_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Xt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return I(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(n){if(!Uo(n))throw n;U("AsyncQueue","Operation failed with retryable error: "+n)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Dt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=kA.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}wu(){var e=this;return I(function*(){let n;do{n=e.mu,yield n}while(n!==e.mu)})()}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function SS(t){return function(n){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class ze extends $h{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pG,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return I(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new pG(n),e._firestoreClient=void 0,yield n}})()}}function Whe(t,e){const r="string"==typeof t?t:e||"(default)",i=No("object"==typeof t?t:iC(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(()=>{const e=vU("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function qhe(t,e,n,r={}){var i;const o=(t=Ee(t,$h))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Jt.MOCK_USER;else{a=function yoe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dm(JSON.stringify({alg:"none",type:"JWT"})),Dm(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Jt(c)}t._authCredentials=new Uce(new cB(a,u))}}(i,...o)}return i}function mt(t){if(t._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function gG(t){var e,n,r;const i=t._freezeSettings(),o=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new yle(t._databaseId,u,t._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aG(d.experimentalLongPollingOptions),d.useFetchStreams));var u,d;t._componentsProvider||!(null===(n=i.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xhe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}(t),t._firestoreClient}class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(_t.fromBase64String(e))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new la(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class da{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bc{constructor(e){this._methodName=e}}class PS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}class L_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const Qhe=/^__.*__$/;class Yhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class _G{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class U_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new U_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(yG(this.Cu)&&Qhe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Jhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jh(e)}Qu(e,n,r,i=!1){return new U_({Cu:e,methodName:n,qu:r,path:lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ha(t){const e=t._freezeSettings(),n=jh(t._databaseId);return new Jhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j_(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);VS("Data must be an object, but it was:",s,r);const a=EG(r,s);let u,c;if(o.merge)u=new zn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=qh(e,h,n);if(!s.contains(p))throw new j(N.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);TG(d,p)||d.push(p)}u=new zn(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new Yhe(new un(a),u,c)}class Gh extends bc{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function fa(t,e){if(wG(t=gt(t)))return VS("Unsupported field value:",e,t),EG(t,e);if(t instanceof bc)return function(r,i){if(!yG(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=fa(a,i.Lu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=gt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return u$(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:sc(i.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sc(i.serializer,o)}}if(r instanceof PS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof la)return{bytesValue:P$(i.serializer,r._byteString)};if(r instanceof St){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:GD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof L_)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(u=>{if("number"!=typeof u)throw a.Bu("VectorValues must only contain numeric values.");return VD(a.serializer,u)})}}}}};var a;throw i.Bu(`Unsupported field value: ${F_(r)}`)}(t,e)}function EG(t,e){const n={};return SB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const o=fa(i,e.Mu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function wG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof PS||t instanceof la||t instanceof St||t instanceof bc||t instanceof L_)}function VS(t,e,n){if(!wG(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=F_(n);throw e.Bu("an object"===r?t+" a custom object":t+" "+r)}var i}function qh(t,e,n){if((e=gt(e))instanceof da)return e._internalPath;if("string"==typeof e)return B_(t,e);throw $_("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xhe=new RegExp("[~\\*/\\[\\]]");function B_(t,e,n){if(e.search(Xhe)>=0)throw $_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new da(...e.split("."))._internalPath}catch{throw $_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $_(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+t+u)}function TG(t,e){return t.some(n=>n.isEqual(e))}class zh{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Zhe extends zh{data(){return super.data()}}function H_(t,e){return"string"==typeof e?B_(t,e):e instanceof da?e._internalPath:e._delegate._internalPath}function CG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PG{convertValue(e,n="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=null===(i=null===(r=null===(n=e.fields)||void 0===n?void 0:n.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>dt(s.doubleValue));return new L_(o)}convertGeoPoint(e){return new PS(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=t_(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const n=zi(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);X($$(r));const i=new Xs(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(n)||Dt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class pa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ac extends zh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new K_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class K_ extends Ac{data(e={}){return super.data(e)}}class Sc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new K_(this._firestore,this._userDataWriter,r.key,r,new pa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new K_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new K_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:nfe(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class Jo extends PG{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function MG(t,e){const n=Ee(t.firestore,ze),r=AS(t),i=function W_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Qh(n,[j_(ha(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ht.exists(!1))]).then(()=>r)}function Qh(t,e){return function(r,i){const o=new Xt;return r.asyncQueue.enqueueAndForget(I(function*(){return function fhe(t,e,n){return YA.apply(this,arguments)}(yield function CS(t){return k_(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(mt(t),e)}!function(e,n=!0){qu=ju,hi(new Gr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ze(new jce(r.getProvider("auth-internal")),new Hce(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ar(uB,"4.7.4",e),ar(uB,"4.7.4","esm2017")}();const kG="@firebase/installations",$S="0.6.10",FG=1e4,VG=`w:${$S}`,LG="FIS_v2",vfe="https://firebaseinstallations.googleapis.com/v1",Ife=36e5,Zi=new $s("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function UG(t){return t instanceof Hr&&t.code.includes("request-failed")}function HS({projectId:t}){return`${vfe}/projects/${t}/installations`}function jG(t){return{token:t.token,requestStatus:2,expiresIn:Cfe(t.expiresIn),creationTime:Date.now()}}function GS(t,e){return qS.apply(this,arguments)}function qS(){return(qS=I(function*(t,e){const r=(yield e.json()).error;return Zi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function BG({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zS(t){return WS.apply(this,arguments)}function WS(){return(WS=I(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Cfe(t){return Number(t.replace("s","000"))}function KS(){return(KS=I(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=HS(t),i=BG(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:LG,appId:t.appId,sdkVersion:VG})},u=yield zS(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:jG(c.authToken)}}throw yield GS("Create Installation",u)})).apply(this,arguments)}function HG(t){return new Promise(e=>{setTimeout(e,t)})}const Sfe=/^[cdef][\w-]{21}$/,QS="";function Rfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Pfe(t){return function Afe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Sfe.test(n)?n:QS}catch{return QS}}function Rc(t){return`${t.appName}!${t.appId}`}const Pc=new Map;function GG(t,e){const n=Rc(t);qG(n,e),function Nfe(t,e){const n=function zG(){return!ga&&"BroadcastChannel"in self&&(ga=new BroadcastChannel("[Firebase] FID Change"),ga.onmessage=t=>{qG(t.data.key,t.data.fid)}),ga}();n&&n.postMessage({key:t,fid:e}),function WG(){0===Pc.size&&ga&&(ga.close(),ga=null)}()}(n,e)}function qG(t,e){const n=Pc.get(t);if(n)for(const r of n)r(e)}let ga=null;const Ofe="firebase-installations-database",kfe=1,ma="firebase-installations-store";let YS=null;function JS(){return YS||(YS=NU(Ofe,kfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ma)}})),YS}function Y_(t,e){return XS.apply(this,arguments)}function XS(){return(XS=I(function*(t,e){const n=Rc(t),i=(yield JS()).transaction(ma,"readwrite"),o=i.objectStore(ma),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&GG(t,e.fid),e})).apply(this,arguments)}function ZS(t){return e0.apply(this,arguments)}function e0(){return(e0=I(function*(t){const e=Rc(t),r=(yield JS()).transaction(ma,"readwrite");yield r.objectStore(ma).delete(e),yield r.done})).apply(this,arguments)}function Yh(t,e){return t0.apply(this,arguments)}function t0(){return(t0=I(function*(t,e){const n=Rc(t),i=(yield JS()).transaction(ma,"readwrite"),o=i.objectStore(ma),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&GG(t,a.fid),a})).apply(this,arguments)}function n0(t){return r0.apply(this,arguments)}function r0(){return r0=I(function*(t){let e;const n=yield Yh(t.appConfig,r=>{const i=function Ffe(t){return QG(t||{fid:Rfe(),registrationStatus:0})}(r),o=function Vfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Zi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Lfe(t,e){return o0.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ufe(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===QS?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),r0.apply(this,arguments)}function o0(){return o0=I(function*(t,e){try{const n=yield function Dfe(t,e){return KS.apply(this,arguments)}(t,e);return Y_(t.appConfig,n)}catch(n){throw UG(n)&&409===n.customData.serverCode?yield ZS(t.appConfig):yield Y_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),o0.apply(this,arguments)}function Ufe(t){return s0.apply(this,arguments)}function s0(){return(s0=I(function*(t){let e=yield KG(t.appConfig);for(;1===e.registrationStatus;)yield HG(100),e=yield KG(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield n0(t);return r||n}return e})).apply(this,arguments)}function KG(t){return Yh(t,e=>{if(!e)throw Zi.create("installation-not-found");return QG(e)})}function QG(t){return function jfe(t){return 1===t.registrationStatus&&t.registrationTime+FG<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function a0(){return(a0=I(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function $fe(t,{fid:e}){return`${HS(t)}/${e}/authTokens:generate`}(t,n),i=function $G(t,{refreshToken:e}){const n=BG(t);return n.append("Authorization",function bfe(t){return`${LG} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:VG,appId:t.appId}})},u=yield zS(()=>fetch(r,a));if(u.ok)return jG(yield u.json());throw yield GS("Generate Auth Token",u)})).apply(this,arguments)}function u0(t){return c0.apply(this,arguments)}function c0(){return c0=I(function*(t,e=!1){let n;const r=yield Yh(t.appConfig,o=>{if(!JG(o))throw Zi.create("not-registered");const s=o.authToken;if(!e&&function qfe(t){return 2===t.requestStatus&&!function zfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ife}(t)}(s))return o;if(1===s.requestStatus)return n=function Hfe(t,e){return l0.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Zi.create("app-offline");const a=function Wfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Gfe(t,e){return d0.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),c0.apply(this,arguments)}function l0(){return(l0=I(function*(t,e){let n=yield YG(t.appConfig);for(;1===n.authToken.requestStatus;)yield HG(100),n=yield YG(t.appConfig);const r=n.authToken;return 0===r.requestStatus?u0(t,e):r})).apply(this,arguments)}function YG(t){return Yh(t,e=>{if(!JG(e))throw Zi.create("not-registered");return function Kfe(t){return 1===t.requestStatus&&t.requestTime+FG<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function d0(){return d0=I(function*(t,e){try{const n=yield function Bfe(t,e){return a0.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Y_(t.appConfig,r),n}catch(n){if(!UG(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Y_(t.appConfig,r)}else yield ZS(t.appConfig);throw n}}),d0.apply(this,arguments)}function JG(t){return void 0!==t&&2===t.registrationStatus}function h0(){return(h0=I(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield n0(e);return r?r.catch(console.error):u0(e).catch(console.error),n.fid})).apply(this,arguments)}function f0(){return f0=I(function*(t,e=!1){const n=t;return yield function Jfe(t){return p0.apply(this,arguments)}(n),(yield u0(n,e)).token}),f0.apply(this,arguments)}function p0(){return(p0=I(function*(t){const{registrationPromise:e}=yield n0(t);e&&(yield e)})).apply(this,arguments)}function _0(t){return Zi.create("missing-app-config-values",{valueName:t})}const XG="installations",npe=t=>{const e=t.getProvider("app").getImmediate(),n=function epe(t){if(!t||!t.options)throw _0("App Configuration");if(!t.name)throw _0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:No(e,"heartbeat"),_delete:()=>Promise.resolve()}},rpe=t=>{const n=No(t.getProvider("app").getImmediate(),XG).getImmediate();return{getId:()=>function Qfe(t){return h0.apply(this,arguments)}(n),getToken:i=>function Yfe(t){return f0.apply(this,arguments)}(n,i)}};(function ipe(){hi(new Gr(XG,npe,"PUBLIC")),hi(new Gr("installations-internal",rpe,"PRIVATE"))})(),ar(kG,$S),ar(kG,$S,"esm2017");const J_="analytics",ope="firebase_id",spe="origin",ape=6e4,upe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y0="https://www.googletagmanager.com/gtag/js",en=new Mm("@firebase/analytics"),On=new $s("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lpe(t){if(!t.startsWith(y0)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return en.warn(e.message),""}return t}function ZG(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function v0(){return(v0=I(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield ZG(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){en.error(a)}t("config",i,o)})).apply(this,arguments)}function I0(){return(I0=I(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield ZG(n);for(const u of s){const c=a.find(h=>h.measurementId===u),d=c&&e[c.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){en.error(o)}})).apply(this,arguments)}const vpe=30,eq=new class Epe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function wpe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function E0(){return(E0=I(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:wpe(r)},o=upe.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function w0(){return(w0=I(function*(t,e=eq,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw On.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw On.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ape;return setTimeout(I(function*(){a.abort()}),void 0!==n?n:ape),tq({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function tq(t,e,n){return T0.apply(this,arguments)}function T0(){return T0=I(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=eq){var o;const{appId:s,measurementId:a}=t;try{yield function bpe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function Tpe(t){return E0.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function Dpe(t){if(!(t instanceof Hr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const d=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?AU(n,i.intervalMillis,vpe):AU(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(s,h),en.debug(`Calling attemptFetch again in ${d} millis`),tq(t,h,r,i)}}),T0.apply(this,arguments)}class Ape{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let C0,M0;function b0(){return(b0=I(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function x0(){return(x0=I(function*(){if(!Rm())return en.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield WT()}catch(t){return en.warn(On.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function N0(){return N0=I(function*(t,e,n,r,i,o,s){var a;const u=function Cpe(t){return w0.apply(this,arguments)}(t);u.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>en.error(g)),e.push(u);const c=function Ope(){return x0.apply(this,arguments)}().then(g=>{if(g)return r.getId()}),[d,h]=yield Promise.all([u,c]);(function ype(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(y0)&&n.src.includes(t))return n;return null})(o)||function hpe(t,e){const n=function dpe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:lpe}),r=document.createElement("script"),i=`${y0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,d.measurementId),M0&&(i("consent","default",M0),function nq(t){M0=t}(void 0)),i("js",new Date);const p=null!==(a=s?.config)&&void 0!==a?a:{};return p[spe]="firebase",p.update=!0,null!=h&&(p[ope]=h),i("config",d.measurementId,p),C0&&(i("set",C0),function rq(t){C0=t}(void 0)),d.measurementId}),N0.apply(this,arguments)}class Fpe{constructor(e){this.app=e}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},iq=[];const oq={};let aq,Ei,X_="dataLayer",O0=!1;function Lpe(t,e,n){!function Vpe(){const t=[];if(zT()&&t.push("This is a browser extension environment."),CU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});en.warn(n.message)}}();const r=t.options.appId;if(!r)throw On.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw On.create("no-api-key");en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[r])throw On.create("already-exists",{id:r});if(!O0){!function fpe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(X_);const{wrappedGtag:o,gtagCore:s}=function _pe(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function mpe(t,e,n,r){function o(){return o=I(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function gpe(t,e,n,r,i){return I0.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function ppe(t,e,n,r,i,o){return v0.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u,c]=a;t("consent",u,c)}else if("get"===s){const[u,c,d]=a;t("get",u,c,d)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){en.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Ii,iq,oq,X_,"gtag");Ei=o,aq=s,O0=!0}return Ii[r]=function kpe(t,e,n,r,i,o,s){return N0.apply(this,arguments)}(t,iq,oq,e,aq,X_,n),new Fpe(t)}function uq(){return k0.apply(this,arguments)}function k0(){return(k0=I(function*(){if(zT()||!CU()||!Rm())return!1;try{return yield WT()}catch{return!1}})).apply(this,arguments)}const cq="@firebase/analytics";!function $pe(){hi(new Gr(J_,(e,{options:n})=>Lpe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),hi(new Gr("analytics-internal",function t(e){try{const n=e.getProvider(J_).getImmediate();return{logEvent:(r,i,o)=>function Bpe(t,e,n,r){t=gt(t),function Spe(t,e,n,r,i){return b0.apply(this,arguments)}(Ei,Ii[t.app.options.appId],e,n,r).catch(i=>en.error(i))}(n,r,i,o)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ar(cq,"0.10.9"),ar(cq,"0.10.9","esm2017")}();const Hpe={apiKey:"AIzaSyBJ4VU8NzNDGCSWE0zgPDpzW8jlmLVUwh8",authDomain:"masniofficeagenda.firebaseapp.com",projectId:"masniofficeagenda",storageBucket:"masniofficeagenda.appspot.com",messagingSenderId:"176523511925",appId:"1:176523511925:web:3c72a67b5fc3d2e679903c",measurementId:"G-P3W83HV194"};let Mc=(()=>{class t{app;auth;db;constructor(){this.app=VU(Hpe),uq().then(n=>{n&&function Upe(t=iC()){const e=No(t=gt(t),J_);return e.isInitialized()?e.getImmediate():function jpe(t,e={}){const n=No(t,J_);if(n.isInitialized()){const i=n.getImmediate();if(Hs(e,n.getOptions()))return i;throw On.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app)}).catch(n=>{console.error("Analytics not supported:",n)}),this.auth=kce(this.app),this.db=Whe(this.app)}login(n,r){var i=this;return I(function*(){try{yield function rue(t,e,n){return Li(t.app)?Promise.reject(Yt(t)):ab(gt(t),wj.credential(e,n)).catch(function(){var r=I(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&gb(t),i});return function(i){return r.apply(this,arguments)}}())}(i.auth,n,r),console.log("Login successful")}catch(o){throw i.handleError(o),new Error(o instanceof Error?o.message:"An unknown error occurred during login")}})()}addAppointment(n){var r=this;return I(function*(){if(!n.date)throw new Error("Appointment date is required");try{const i=yield MG(V_(r.db,"appointments"),{date:n.date,startTime:n.startTime,endTime:n.endTime,title:n.title,description:n.description});console.log("Appointment added with ID:",i.id)}catch(i){throw r.handleError(i),new Error("Error adding appointment: "+(i instanceof Error?i.message:"Unknown error"))}})()}getAppointments(){const n=V_(this.db,"appointments");return new ft(r=>{const i=function sfe(t,...e){var n,r,i;t=gt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||SS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(SS(e[s])){const h=e[s];e[s]=null===(n=h.next)||void 0===n?void 0:n.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let u,c,d;if(t instanceof St)c=Ee(t.firestore,ze),d=Zu(t._key.path),u={next:h=>{e[s]&&e[s](function jS(t,e,n){const r=n.docs.get(e._key),i=new Jo(t);return new Ac(t,i,e._key,r,new pa(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Ee(t,cn);c=Ee(h.firestore,ze),d=h._query;const p=new Jo(c);u={next:g=>{e[s]&&e[s](new Sc(c,p,h,g))},error:e[s+1],complete:e[s+2]},CG(t._query)}return function(p,g,_,v){const E=new O_(v),A=new $A(g,E,_);return p.asyncQueue.enqueueAndForget(I(function*(){return FA(yield Cc(p),A)})),()=>{E.Za(),p.asyncQueue.enqueueAndForget(I(function*(){return LA(yield Cc(p),A)}))}}(mt(c),d,a,u)}(n,o=>{const s=o.docs.map(a=>({id:a.id,...a.data(),date:a.data().date,startTime:a.data().startTime,endTime:a.data().endTime,title:a.data().title,description:a.data().description}));r.next(s)},o=>{r.error(o)});return()=>i()})}handleError(n){n instanceof Error?console.error("Error:",n.message):console.error("Error:",n)}logout(){var n=this;return I(function*(){try{yield function fue(t){return gt(t).signOut()}(n.auth),console.log("Logout successful")}catch(r){throw n.handleError(r),new Error(r instanceof Error?r.message:"An unknown error occurred during logout")}})()}isLoggedIn(){return null!==this.auth.currentUser}addFoodItem(n){var r=this;return I(function*(){try{const i=yield MG(V_(r.db,"foodItems"),{name:n.name,description:n.description,userId:n.userId??""});console.log("Food item added with ID:",i.id),n.id=i.id}catch(i){console.error("Error adding food item:",i)}})()}getFoodItems(n){var r=this;return I(function*(){const i=V_(r.db,"foodItems"),o=yield function rfe(t){t=Ee(t,cn);const e=Ee(t.firestore,ze),n=mt(e),r=new Jo(e);return CG(t._query),function sG(t,e,n={}){const r=new Xt;return t.asyncQueue.enqueueAndForget(I(function*(){return function(o,s,a,u,c){const d=new O_({next:p=>{d.Za(),s.enqueueAndForget(()=>LA(o,h)),p.fromCache&&"server"===u.source?c.reject(new j(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new $A(a,d,{includeMetadataChanges:!0,_a:!0});return FA(o,h)}(yield Cc(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Sc(e,r,t,i))}(i),s=[];return o.forEach(a=>{a.data().userId===n&&s.push({id:a.id,...a.data()})}),s})()}updateFoodItem(n,r){var i=this;return I(function*(){const o=AS(i.db,"foodItems",n);yield function ife(t,e,n,...r){t=Ee(t,St);const i=Ee(t.firestore,ze),o=ha(i);let s;return s="string"==typeof(e=gt(e))||e instanceof da?function FS(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[qh(e,r,n)],u=[i];if(o.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(qh(e,o[p])),u.push(o[p+1]);const c=[],d=un.empty();for(let p=a.length-1;p>=0;--p)if(!TG(c,a[p])){const g=a[p];let _=u[p];_=gt(_);const v=s.Nu(g);if(_ instanceof Gh)c.push(g);else{const E=fa(_,v);null!=E&&(c.push(g),d.set(g,E))}}const h=new zn(c);return new _G(d,h,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function kS(t,e,n,r){const i=t.Qu(1,e,n);VS("Data must be an object, but it was:",i,r);const o=[],s=un.empty();jo(r,(u,c)=>{const d=B_(e,u,n);c=gt(c);const h=i.Nu(d);if(c instanceof Gh)o.push(d);else{const p=fa(c,h);null!=p&&(o.push(d),s.set(d,p))}});const a=new zn(o);return new _G(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),Qh(i,[s.toMutation(t._key,ht.exists(!0))])}(o,{name:r.name,description:r.description,userId:r.userId,used:r.used}),console.log("Food item updated:",n)})()}deleteFoodItem(n){var r=this;return I(function*(){const i=AS(r.db,"foodItems",n);yield function ofe(t){return Qh(Ee(t.firestore,ze),[new oc(t._key,ht.none())])}(i),console.log("Food item deleted:",n)})()}clearFoodItems(n){var r=this;return I(function*(){const i=yield r.getFoodItems(n);for(const o of i)o.id?yield r.deleteFoodItem(o.id):console.error("Food item does not have a valid ID:",o)})()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gpe(t,e){if(1&t&&(re(0,"p",8),Re(1),se()),2&t){const n=Kt();Se(),Io(n.errorMessage)}}let qpe=(()=>{class t{router;firebaseService;email="";password="";errorMessage="";constructor(n,r){this.router=n,this.firebaseService=r}login(){this.firebaseService.login(this.email,this.password).then(()=>{this.router.navigate(["/home"]).catch(n=>{console.error("Navigation to home failed:",n)})}).catch(n=>{this.errorMessage=n.message})}static \u0275fac=function(r){return new(r||t)(B($r),B(Mc))};static \u0275cmp=uo({type:t,selectors:[["app-login"]],standalone:!0,features:[Eo],decls:13,vars:3,consts:[[1,"login-container"],[3,"submit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"h2"),Re(2,"Login"),se(),re(3,"form",1),at("submit",function(){return i.login()}),re(4,"label",2),Re(5,"Email:"),se(),re(6,"input",3),Vr("ngModelChange",function(s){return oi(i.email,s)||(i.email=s),s}),se(),re(7,"label",4),Re(8,"Password:"),se(),re(9,"input",5),Vr("ngModelChange",function(s){return oi(i.password,s)||(i.password=s),s}),se(),re(10,"button",6),Re(11,"Login"),se()(),_r(12,Gpe,2,1,"p",7),se()),2&r&&(Se(6),Fr("ngModel",i.email),Se(3),Fr("ngModel",i.password),Se(3),Ht("ngIf",i.errorMessage))},dependencies:[GT,LT,Fu,mm,bT,jd,Ud,Ld,ld,cd],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:300px;margin:0 auto;padding:2rem;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#fff}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;font-size:1.8rem}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#555}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;transition:border-color .3s}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;background-color:#0075ff;color:#fff;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}.login-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d9534f;margin-top:1rem;font-weight:700;text-align:center}@media (max-width: 600px){.login-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:90%}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;padding:.65rem}}"]})}return t})();const zpe=()=>["/agenda"],Wpe=()=>["/add"],Kpe=()=>["/foodplanner"];let Qpe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=uo({type:t,selectors:[["app-home"]],standalone:!0,features:[Eo],decls:10,vars:6,consts:[[1,"tile-container"],[1,"tile",3,"routerLink"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"h1"),Re(3,"Agenda"),se()(),re(4,"div",1)(5,"h1"),Re(6,"Add Appointment"),se()(),re(7,"div",1)(8,"h1"),Re(9,"Foodplanner"),se()()()),2&r&&(Se(),Ht("routerLink",Wl(3,zpe)),Se(3),Ht("routerLink",Wl(4,Wpe)),Se(3),Ht("routerLink",Wl(5,Kpe)))},dependencies:[Nd],styles:[".tile-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));grid-gap:20px;margin:0 auto;padding:1rem;max-width:80%}.tile[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background-color:#6da7e9;border-radius:15px;box-shadow:0 4px 6px #0003;color:#fff;transition:background-color .3s,transform .3s}.tile[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}.tile[_ngcontent-%COMP%]:active{transform:translateY(2px)}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}@media (max-width: 1024px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));padding:1rem}}@media (max-width: 768px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));padding:.5rem}.tile[_ngcontent-%COMP%]{padding:1.2rem}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:.5rem}.tile[_ngcontent-%COMP%]{padding:1rem}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}}"]})}return t})();Math.pow(10,8);const hq=Symbol.for("constructDateFrom");function Jh(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&hq in t?t[hq](e):t instanceof Date?new t.constructor(e):new Date(e)}function Z_(t,e){return Jh(e||t,t)}function fq(t,...e){const n=Jh.bind(null,t||e.find(r=>"object"==typeof r));return e.map(n)}function pq(t,e,n){const r=Z_(t,n?.in);if(isNaN(e))return Jh(n?.in||t,NaN);if(!e)return r;const i=r.getDate(),o=Jh(n?.in||t,r.getTime());return o.setMonth(r.getMonth()+e+1,0),i>=o.getDate()?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function gq(t,e){const n=Z_(t,e?.in);return n.setHours(0,0,0,0),n}const ige=()=>["/add"];function oge(t,e){if(1&t){const n=Rs();re(0,"div",8),at("click",function(){const i=Di(n).$implicit;return Ai(Kt(2).openDay(i))}),Re(1),ug(2,"date"),se()}if(2&t){const n=e.$implicit;Se(),og(" ",cg(2,1,n,"d")," ")}}function sge(t,e){if(1&t){const n=Rs();re(0,"div",4)(1,"h2"),Re(2),ug(3,"date"),se(),re(4,"button",5),at("click",function(){return Di(n),Ai(Kt().previousMonth())}),Re(5,"Previous Month"),se(),re(6,"button",5),at("click",function(){return Di(n),Ai(Kt().nextMonth())}),Re(7,"Next Month"),se(),re(8,"div",6),_r(9,oge,3,4,"div",7),se()()}if(2&t){const n=Kt();Se(2),Io(cg(3,2,n.currentMonth,"MMMM yyyy")),Se(7),Ht("ngForOf",n.daysInMonth)}}function age(t,e){if(1&t&&(re(0,"div")(1,"strong"),Re(2),se(),re(3,"p"),Re(4),se()()),2&t){const n=Kt().$implicit;Se(2),Io(n.title),Se(2),Io(n.description)}}function uge(t,e){if(1&t&&(re(0,"div"),_r(1,age,5,2,"div",15),se()),2&t){const n=e.$implicit,r=Kt(2).$implicit,i=Kt(2);Se(),Ht("ngIf",i.isTimeInSlot(n.startTime,r))}}function cge(t,e){if(1&t&&(re(0,"div",16),_r(1,uge,2,1,"div",17),se()),2&t){const n=Kt(3);Se(),Ht("ngForOf",n.appointmentsForSelectedDay)}}function lge(t,e){1&t&&(re(0,"div"),Re(1," No appointments for this time slot. "),se())}function dge(t,e){if(1&t&&(re(0,"div",12)(1,"div",13),Re(2),se(),_r(3,cge,2,1,"div",14)(4,lge,2,0,"div",15),se()),2&t){const n=e.$implicit,r=Kt(2);Se(2),Io(n.label),Se(),Ht("ngIf",r.areAppointmentsInTimeSlot(n)),Se(),Ht("ngIf",!r.areAppointmentsInTimeSlot(n))}}function hge(t,e){if(1&t){const n=Rs();re(0,"div",9)(1,"button",5),at("click",function(){return Di(n),Ai(Kt().closeDay())}),Re(2,"Back to Month View"),se(),re(3,"h2"),Re(4),ug(5,"date"),se(),re(6,"div",10),_r(7,dge,5,3,"div",11),se()()}if(2&t){const n=Kt();Se(4),Io(cg(5,2,n.selectedDay,"EEEE, MMM d, yyyy")),Se(3),Ht("ngForOf",n.timeSlots)}}let fge=(()=>{class t{firebaseService;currentMonth=new Date;daysInMonth=[];selectedDay=null;timeSlots=[];appointments=[];appointmentsForSelectedDay=[];constructor(n){this.firebaseService=n}ngOnInit(){var n=this;return I(function*(){yield uq(),n.generateMonthDays(),n.loadAppointments()})()}generateMonthDays(){const n=function Xpe(t,e){const n=Z_(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}(this.currentMonth),r=function Zpe(t,e){const n=Z_(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}(this.currentMonth);this.daysInMonth=function tge(t,e){const{start:n,end:r}=function ege(t,e){const[n,r]=fq(t,e.start,e.end);return{start:n,end:r}}(e?.in,t);let i=+n>+r;const o=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let a=e?.step??1;if(!a)return[];a<0&&(a=-a,i=!i);const u=[];for(;+s<=o;)u.push(Jh(n,s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return i?u.reverse():u}({start:n,end:r})}loadAppointments(){this.firebaseService.getAppointments().subscribe({next:n=>{this.appointments=n,console.log("Loaded appointments:",JSON.stringify(this.appointments,null,2))},error:n=>{console.error("Error loading appointments:",n)}})}openDay(n){this.selectedDay=n,this.generateTimeSlots(),this.updateAppointmentsForSelectedDay()}closeDay(){this.selectedDay=null,this.appointmentsForSelectedDay=[]}generateTimeSlots(){this.timeSlots=Array.from({length:15},(n,r)=>{const i=7+r;return{label:`${i}:00 - ${i+1}:00`,startTime:`${i}:00`,endTime:`${i+1}:00`}})}isTimeInSlot(n,r){const i=new Date(`1970-01-01T${n.padStart(5,"0")}:00`),o=new Date(`1970-01-01T${r.startTime.padStart(5,"0")}:00`),s=new Date(`1970-01-01T${r.endTime.padStart(5,"0")}:00`);return i>=o&&i<s}previousMonth(){this.currentMonth=function nge(t,e,n){return pq(t,-e,n)}(this.currentMonth,1),this.generateMonthDays()}nextMonth(){this.currentMonth=pq(this.currentMonth,1),this.generateMonthDays()}updateAppointmentsForSelectedDay(){this.appointmentsForSelectedDay=this.getAppointmentsForSelectedDay()}getAppointmentsForSelectedDay(){if(!this.selectedDay)return[];const n=new Date(this.selectedDay).setHours(0,0,0,0);return console.log("Selected Day:",n),this.appointments.filter(r=>{const i=r.date.toDate().setHours(0,0,0,0);return console.log("Checking appointment date:",i),function rge(t,e,n){const[r,i]=fq(n?.in,t,e);return+gq(r)==+gq(i)}(i,n)})}areAppointmentsInTimeSlot(n){return this.appointmentsForSelectedDay.some(r=>this.isTimeInSlot(r.startTime,n))}static \u0275fac=function(r){return new(r||t)(B(Mc))};static \u0275cmp=uo({type:t,selectors:[["app-agenda"]],standalone:!0,features:[Eo],decls:6,vars:4,consts:[["class","month-view",4,"ngIf"],["class","day-view",4,"ngIf"],[1,"add-appointment-container"],[1,"add-appointment",3,"routerLink"],[1,"month-view"],[3,"click"],[1,"grid"],["class","day",3,"click",4,"ngFor","ngForOf"],[1,"day",3,"click"],[1,"day-view"],[1,"time-slots"],["class","time-slot",4,"ngFor","ngForOf"],[1,"time-slot"],[1,"time-label"],["class","appointments",4,"ngIf"],[4,"ngIf"],[1,"appointments"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(_r(0,sge,10,5,"div",0)(1,hge,8,5,"div",1),re(2,"div",2)(3,"div",3)(4,"h1"),Re(5,"Add Appointment"),se()()()),2&r&&(Ht("ngIf",!i.selectedDay),Se(),Ht("ngIf",i.selectedDay),Se(2),Ht("routerLink",Wl(3,ige)))},dependencies:[ld,Iw,cd,JF,Nd],styles:[".month-view[_ngcontent-%COMP%], .day-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.6rem 1rem;margin:0 .5rem;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s,transform .3s;text-align:left;box-shadow:0 4px 6px #0003}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}button[_ngcontent-%COMP%]:active{transform:translateY(2px)}.month-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.month-navigation[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:2em;color:#37474f;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0075ff;color:#fff;border:none;padding:10px 16px;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00796b;transform:translateY(-2px)}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(1px)}h2[_ngcontent-%COMP%]{font-size:2.2em;margin-bottom:20px;color:#fff;background-color:#0075ff;border-radius:5px;padding:10px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;background-color:#ffaa64;padding:15px;border-radius:8px;box-shadow:0 2px 10px #0003;margin:20px}.day[_ngcontent-%COMP%]{padding:15px;cursor:pointer;background-color:#ffdfba;border:1px solid black;border-radius:8px;color:#333;font-weight:700;transition:background-color .3s,transform .3s}.day[_ngcontent-%COMP%]:hover{background-color:#f39e49;transform:scale(1.05)}.day.selected[_ngcontent-%COMP%]{background-color:#00796b;color:#fff}.day-view[_ngcontent-%COMP%]{margin-top:20px}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;padding:10px 20px;border-radius:5px;font-size:1em;cursor:pointer;margin-bottom:15px;transition:background-color .3s,transform .3s}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.day-view[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;color:#fff;margin-bottom:15px}.time-slots[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin:10px}.time-slots[_ngcontent-%COMP%]{padding:10px;background-color:#ffaa64;color:#000;border-radius:5px;transition:background-color .3s,transform .3s}.time-label[_ngcontent-%COMP%]{background-color:#ffdfba;padding:10px;color:#000;border-radius:5px;border:1px solid black;transition:background-color .3s,transform .3s}.appointments[_ngcontent-%COMP%]{background-color:#ffdfba;padding:10px;color:#000;border-radius:5px;border-left:1px solid black;border-right:1px solid black;border-bottom:1px solid black;transition:background-color .3s,transform .3s}.no-appointments[_ngcontent-%COMP%]{color:#ff5722;font-style:italic}.add-appointment-container[_ngcontent-%COMP%]{display:block;align-items:center;text-align:center;max-width:10%;min-width:200px;margin:0 auto}.add-appointment[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:.6rem;font-weight:700;cursor:pointer;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:block}.add-appointment[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}@media (max-width: 600px){.month-view[_ngcontent-%COMP%], .day-view[_ngcontent-%COMP%]{padding:0 10px}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.month-navigation[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%;margin:5px 0}h2[_ngcontent-%COMP%]{font-size:1.5em}}"]})}return t})();var ey,pge=new Uint8Array(16);function gge(){if(!ey&&!(ey=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ey(pge)}const mge=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ln=[],V0=0;V0<256;++V0)ln.push((V0+256).toString(16).substr(1));const Ige=function vge(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ln[t[e+0]]+ln[t[e+1]]+ln[t[e+2]]+ln[t[e+3]]+"-"+ln[t[e+4]]+ln[t[e+5]]+"-"+ln[t[e+6]]+ln[t[e+7]]+"-"+ln[t[e+8]]+ln[t[e+9]]+"-"+ln[t[e+10]]+ln[t[e+11]]+ln[t[e+12]]+ln[t[e+13]]+ln[t[e+14]]+ln[t[e+15]]).toLowerCase();if(!function _ge(t){return"string"==typeof t&&mge.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},wge=function Ege(t,e,n){var r=(t=t||{}).random||(t.rng||gge)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Ige(r)};let Tge=(()=>{class t{firebaseService;appointmentAdded=new pt;date=null;startTime="";endTime="";title="";description="";constructor(n){this.firebaseService=n}addAppointment(){if(console.log("Add Appointment clicked"),this.date&&this.startTime&&this.endTime&&this.title&&this.description){const n=new Date(this.date),r={id:wge(),date:ct.fromDate(n),startTime:this.startTime,endTime:this.endTime,title:this.title,description:this.description};this.firebaseService.addAppointment(r).then(()=>{this.appointmentAdded.emit(r),this.resetForm()}).catch(i=>{console.error("Error adding appointment: ",i)})}else console.error("All fields are required")}resetForm(){this.date=null,this.startTime="",this.endTime="",this.title="",this.description=""}static \u0275fac=function(r){return new(r||t)(B(Mc))};static \u0275cmp=uo({type:t,selectors:[["app-add"]],outputs:{appointmentAdded:"appointmentAdded"},standalone:!0,features:[Eo],decls:18,vars:5,consts:[["type","date","name","date","required","",3,"ngModelChange","ngModel"],["type","time","name","startTime","required","",3,"ngModelChange","ngModel"],["type","time","name","endTime","required","",3,"ngModelChange","ngModel"],["type","text","name","title","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(r,i){1&r&&(re(0,"form")(1,"label"),Re(2," Date: "),re(3,"input",0),Vr("ngModelChange",function(s){return oi(i.date,s)||(i.date=s),s}),se()(),re(4,"label"),Re(5," Start Time: "),re(6,"input",1),Vr("ngModelChange",function(s){return oi(i.startTime,s)||(i.startTime=s),s}),se()(),re(7,"label"),Re(8," End Time: "),re(9,"input",2),Vr("ngModelChange",function(s){return oi(i.endTime,s)||(i.endTime=s),s}),se()(),re(10,"label"),Re(11," Title: "),re(12,"input",3),Vr("ngModelChange",function(s){return oi(i.title,s)||(i.title=s),s}),se()(),re(13,"label"),Re(14," Description: "),re(15,"textarea",4),Vr("ngModelChange",function(s){return oi(i.description,s)||(i.description=s),s}),se()(),re(16,"button",5),at("click",function(){return i.addAppointment()}),Re(17,"Add Appointment"),se()()),2&r&&(Se(3),Fr("ngModel",i.date),Se(3),Fr("ngModel",i.startTime),Se(3),Fr("ngModel",i.endTime),Se(3),Fr("ngModel",i.title),Se(3),Fr("ngModel",i.description))},dependencies:[ld,GT,LT,Fu,mm,bT,jd,Ud,Ld],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:500px;margin:0 auto;padding:1.5rem;border:1px solid #ccc;border-radius:10px;box-shadow:0 2px 4px #0000001a;background-color:#f9f9f9}label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:700}input[type=date][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:5px;font-size:1rem}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[_ngcontent-%COMP%]{padding:.7rem;background-color:#0075ff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem;font-weight:700;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:1rem}input[type=date][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:.9rem}}"]})}return t})(),ty=(()=>{class t{firebaseService;router;constructor(n,r){this.firebaseService=n,this.router=r}canActivate(){return!!this.firebaseService.isLoggedIn()||(this.router.navigate(["/login"]),!1)}static \u0275fac=function(r){return new(r||t)(pe(Mc),pe($r))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cge(t,e){if(1&t){const n=Rs();re(0,"li",7),at("click",function(){const i=Di(n).$implicit;return Ai(Kt(2).toggleUsed(i))}),re(1,"span"),Re(2),se(),re(3,"div",8)(4,"button",9),at("click",function(i){const o=Di(n).$implicit;return Kt(2).deleteFoodItem(o.id),Ai(i.stopPropagation())}),Re(5,"Delete"),se()()()}if(2&t){const n=e.$implicit;jl("used",n.used),Se(2),LE("",n.name," (",n.description,")")}}function bge(t,e){if(1&t&&(re(0,"div",0)(1,"h3"),Re(2,"Food Items"),se(),re(3,"ul"),_r(4,Cge,6,4,"li",6),se()()),2&t){const n=Kt();Se(4),Ht("ngForOf",n.foodItems)}}const Dge=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:qpe},{path:"home",component:Qpe,canActivate:[ty]},{path:"agenda",component:fge,canActivate:[ty]},{path:"add",component:Tge,canActivate:[ty]},{path:"foodplanner",component:(()=>{class t{firebaseService;foodItems=[];newFoodItem={name:"",description:"",userId:"",used:!1};userId="user123";constructor(n){this.firebaseService=n}ngOnInit(){this.firebaseService.getFoodItems(this.userId).then(n=>{this.foodItems=n})}addFoodItem(){this.newFoodItem.name&&(this.newFoodItem.userId=this.userId,this.firebaseService.addFoodItem(this.newFoodItem).then(()=>{this.foodItems.push({...this.newFoodItem}),this.newFoodItem={name:"",description:"",userId:"",used:!1}}))}toggleUsed(n){n.used=!n.used,this.firebaseService.updateFoodItem(n.id,n)}deleteFoodItem(n){this.firebaseService.deleteFoodItem(n).then(()=>{this.foodItems=this.foodItems.filter(r=>r.id!==n)})}clearAllItems(){this.firebaseService.clearFoodItems(this.userId).then(()=>{this.foodItems=[]})}static \u0275fac=function(r){return new(r||t)(B(Mc))};static \u0275cmp=uo({type:t,selectors:[["app-foodplanner"]],standalone:!0,features:[Eo],decls:11,vars:3,consts:[[1,"food-planner"],["placeholder","Dish Name",3,"ngModelChange","ngModel"],["placeholder","Description",3,"ngModelChange","ngModel"],[1,"clear-button",3,"click"],["class","food-planner",4,"ngIf"],[1,"clear-button-container"],[3,"used","click",4,"ngFor","ngForOf"],[3,"click"],[1,"delete-button-container"],[1,"delete-button",3,"click"]],template:function(r,i){1&r&&(re(0,"h2"),Re(1,"Food Planner"),se(),re(2,"div",0)(3,"input",1),Vr("ngModelChange",function(s){return oi(i.newFoodItem.name,s)||(i.newFoodItem.name=s),s}),se(),re(4,"input",2),Vr("ngModelChange",function(s){return oi(i.newFoodItem.description,s)||(i.newFoodItem.description=s),s}),se(),re(5,"button",3),at("click",function(){return i.addFoodItem()}),Re(6,"Add Food Item"),se()(),_r(7,bge,5,1,"div",4),re(8,"div",5)(9,"button",3),at("click",function(){return i.clearAllItems()}),Re(10,"Clear All Items"),se()()),2&r&&(Se(3),Fr("ngModel",i.newFoodItem.name),Se(),Fr("ngModel",i.newFoodItem.description),Se(3),Ht("ngIf",i.foodItems.length>0))},dependencies:[ld,Iw,cd,GT,Fu,mm,Ud],styles:[".food-planner[_ngcontent-%COMP%]{max-width:400px;margin:10px auto;padding:20px;font-family:Arial,sans-serif;background-color:#ffaa64;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block;align-items:center;max-width:400px;font-size:2.2em;color:#fff;background-color:#0075ff;border-radius:5px;padding:10px;text-align:center}h3[_ngcontent-%COMP%]{background-color:#0075ff;color:#fff;margin:20px;text-align:center;padding:10px}input[_ngcontent-%COMP%]{width:100%;padding:8px;margin:5px 0;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}.delete-button[_ngcontent-%COMP%]{background-color:#dc2828;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:1rem;font-weight:700;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:block;margin:10px auto}.delete-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}.clear-button-container[_ngcontent-%COMP%]{display:block;text-align:left}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;background-color:#ffdfba;border:1px solid black;border-radius:5px;margin-top:5px;cursor:pointer}li.used[_ngcontent-%COMP%]{background-color:#7cb849;text-decoration:line-through;color:#000}li[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{text-decoration:none!important}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.clear-button-container[_ngcontent-%COMP%]{display:block;align-items:center;text-align:center;max-width:10%;min-width:200px;margin:auto}.clear-button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:1rem;font-weight:700;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:block;margin:10px auto}.clear-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}"]})}return t})(),canActivate:[ty]}],Age=["addListener","removeListener"],Sge=["addEventListener","removeEventListener"],Rge=["on","off"];function ny(t,e,n,r){if(Ae(n)&&(r=n,n=void 0),r)return ny(t,e,n).pipe(Ww(r));const[i,o]=function xge(t){return Ae(t.addEventListener)&&Ae(t.removeEventListener)}(t)?Sge.map(s=>a=>t[s](e,a,n)):function Pge(t){return Ae(t.addListener)&&Ae(t.removeListener)}(t)?Age.map(mq(t,e)):function Mge(t){return Ae(t.on)&&Ae(t.off)}(t)?Rge.map(mq(t,e)):[];if(!i&&Ow(t))return sn(s=>ny(s,e,n))(Gn(t));if(!i)throw new TypeError("Invalid event target");return new ft(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function mq(t,e){return n=>r=>t[n](e,r)}const xc=new ft(Uc);function _q(...t){const e=fd(t),n=function HZ(t,e){return"number"==typeof Rw(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Gn(r[0]):Wg(n)(Qt(r,e)):br}const Oge={connector:()=>new fn};function yq(t,e=Oge){const{connector:n}=e;return Ft((r,i)=>{const o=n();Gn(t(function Nge(t){return new ft(e=>t.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}class Vge extends hn{constructor(e,n){super()}schedule(e,n=0){return this}}const ry={setInterval(t,e,...n){const{delegate:r}=ry;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ry;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},vq={now:()=>(vq.delegate||Date).now(),delegate:void 0};class Xh{constructor(e,n=Xh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Xh.now=vq.now;const Iq=new class Uge extends Xh{constructor(e,n=Xh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class Lge extends Vge{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ry.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ry.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Af(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),jge=Iq;function Eq(t,e){return e?n=>md(e.pipe(Vn(1),function Bge(){return Ft((t,e)=>{t.subscribe(Rt(e,Uc))})}()),n.pipe(Eq(t))):sn((n,r)=>Gn(t(n,r)).pipe(Vn(1),hL(n)))}const Zh="Service workers are disabled or not supported by this browser";class iy{constructor(e){if(this.serviceWorker=e,e){const r=ny(e,"controllerchange").pipe(we(()=>e.controller)),o=md(Kg(()=>de(e.controller)),r);this.worker=o.pipe(hr(d=>!!d)),this.registration=this.worker.pipe(or(()=>e.getRegistration()));const c=ny(e,"message").pipe(we(d=>d.data)).pipe(hr(d=>d&&d.type)).pipe(function Fge(t){return t?e=>yq(t)(e):e=>function kge(t,e){const n=Ae(t)?t:()=>t;return Ae(e)?yq(e,{connector:n}):r=>new Qw(r,n)}(new fn)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function qge(t){return Kg(()=>_d(new Error(t)))}(Zh)}postMessage(e,n){return this.worker.pipe(Vn(1),on(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(hr(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Vn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(hr(n=>n.nonce===e),Vn(1),we(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let zge=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new fn,!n.isEnabled)return this.messages=xc,this.notificationClicks=xc,void(this.subscription=xc);this.messages=this.sw.eventsOfType("PUSH").pipe(we(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(we(i=>i.data)),this.pushManager=this.sw.registration.pipe(we(i=>i.pushManager));const r=this.pushManager.pipe(or(i=>i.getSubscription()));this.subscription=_q(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Zh));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(or(s=>s.subscribe(r)),Vn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Vn(1),or(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Zh))}decodeBase64(n){return atob(n)}static{this.\u0275fac=function(r){return new(r||t)(pe(iy))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})(),Wge=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=xc,void(this.unrecoverable=xc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zh));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zh));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static{this.\u0275fac=function(r){return new(r||t)(pe(iy))}}static{this.\u0275prov=ee({token:t,factory:t.\u0275fac})}}return t})();const wq=new q("");function Kge(t,e,n,r){return()=>{if(!eV(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;const i=t.get(ke),o=t.get(rr);let s;if(i.runOutsideAngular(()=>{const a=navigator.serviceWorker,u=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",u),o.onDestroy(()=>{a.removeEventListener("controllerchange",u)})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[a,...u]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=de(null);break;case"registerWithDelay":s=Tq(+u[0]||0);break;case"registerWhenStable":const c=Qt(t.get(rr).whenStable());s=u[0]?_q(c,Tq(+u[0])):c;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(Vn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Tq(t){return de(null).pipe(function Gge(t,e=Iq){const n=function Hge(t=0,e,n=jge){let r=-1;return null!=e&&(dV(e)?n=e:r=e),new ft(i=>{let o=function $ge(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(t,e);return Eq(()=>n)}(t))}function Qge(t,e){return new iy(eV(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class L0{}function Cq(t,e={}){return as([zge,Wge,{provide:wq,useValue:t},{provide:L0,useValue:e},{provide:iy,useFactory:Qge,deps:[L0,Zr]},{provide:B1,useFactory:Kge,deps:[Wt,wq,L0,Zr],multi:!0}])}const Yge={providers:[function UY(t){const e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ZE({ngZoneFactory:()=>{const i=ew(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&_n("NgZone_CoalesceEvent"),new ke(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return as([{provide:LY,useValue:!0},{provide:tu,useValue:!1},r])}({eventCoalescing:!0}),function iie(t,...e){return as([{provide:hm,multi:!0,useValue:t},[],{provide:xu,useFactory:u2,deps:[$r]},{provide:ed,multi:!0,useFactory:c2},e.map(n=>n.\u0275providers)])}(Dge),function Fte(...t){const e=[],n=new Set,r=n.has(ks.HttpTransferCacheOptions);for(const{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return as([[],jJ(),n.has(ks.NoHttpTransferCache)||r?[]:ste({}),e])}(),Cq("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),Cq("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]};function Jge(t,e){if(1&t){const n=Rs();re(0,"button",5),at("click",function(){return Di(n),Ai(Kt().navigateToHome())}),Ss(1,"img",6),Re(2,"Home "),se()}}function Xge(t,e){if(1&t){const n=Rs();re(0,"button",5),at("click",function(){return Di(n),Ai(Kt().logout())}),Ss(1,"img",7),Re(2,"Logout "),se()}}(function bte(t,e){return EJ({rootComponent:t,...oL(e)})})((()=>{class t{router;firebaseService;title="MasniOfficeAgenda";showHomeButton=!1;showLogoutButton=!1;constructor(n,r){this.router=n,this.firebaseService=r}ngOnInit(){this.updateButtonVisibility(this.router.url),this.router.events.pipe(hr(n=>n instanceof So)).subscribe(n=>{this.updateButtonVisibility(n.url)})}updateButtonVisibility(n){const r="/login"===n||"/"===n;this.showHomeButton=!r,this.showLogoutButton=!r&&this.firebaseService.isLoggedIn()}navigateToHome(){this.router.navigate(["/home"]).catch(n=>{console.error("Navigation to home failed:",n)})}logout(){this.firebaseService.logout().then(()=>{this.router.navigate(["/login"],{replaceUrl:!0}).catch(n=>{console.error("Navigation to login failed:",n)})})}static \u0275fac=function(r){return new(r||t)(B($r),B(Mc))};static \u0275cmp=uo({type:t,selectors:[["app-root"]],standalone:!0,features:[Eo],decls:8,vars:2,consts:[[1,"image-wrapper"],["src","./dog.png","alt","Dog Image"],["src","./banner.png","alt","Banner Image",1,"logo"],[1,"navigation"],["class","header-button",3,"click",4,"ngIf"],[1,"header-button",3,"click"],["src","./home.png","alt","Home Icon"],["src","./logout.png","alt","Logout Icon"]],template:function(r,i){1&r&&(re(0,"header")(1,"div",0),Ss(2,"img",1)(3,"img",2),se(),re(4,"div",3),_r(5,Jge,3,0,"button",4)(6,Xge,3,0,"button",4),se()(),Ss(7,"router-outlet")),2&r&&(Se(5),Ht("ngIf",i.showHomeButton),Se(),Ht("ngIf",i.showLogoutButton))},dependencies:[hT,ld,cd],styles:['header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background-color:#0075ff;color:#fff;box-shadow:0 4px 8px #0000001a;position:relative}.image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-grow:1}.navigation[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.header-button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.6rem 1rem;margin:0 .5rem;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s;text-align:left;box-shadow:0 4px 6px #0003}.header-button[_ngcontent-%COMP%]:hover{background-color:#f9d366;color:#000}.header-button[_ngcontent-%COMP%]:active{transform:scale(.95)}img[_ngcontent-%COMP%]{display:block;width:50px;height:50px}.logo[_ngcontent-%COMP%]{width:358px;height:70px}@media (max-width: 600px){header[_ngcontent-%COMP%]{flex-direction:column;padding:.5rem}.header-button[_ngcontent-%COMP%]{width:100%;margin:.25rem 0;font-size:.9rem}img[_ngcontent-%COMP%]{max-width:80%;height:auto}img[src="./dog.png"][_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{max-height:50px}}']})}return t})(),Yge).catch(t=>console.error(t))}},Vc=>{Vc(Vc.s=71)}]);